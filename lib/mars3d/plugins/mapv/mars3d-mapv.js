/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.12
 * 编译日期：2024-05-03 15:00:44
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x2f2cd2=_0x3b23;(function(_0x56880b,_0x190234){const _0x163352={_0x310395:0xbb,_0x32c367:0xde,_0x4bfa34:0xc3,_0x10d39a:0xbc},_0x56bfca=_0x3b23,_0x24d64c=_0x56880b();while(!![]){try{const _0x38d307=-parseInt(_0x56bfca(0xad))/0x1*(-parseInt(_0x56bfca(_0x163352._0x310395))/0x2)+parseInt(_0x56bfca(_0x163352._0x32c367))/0x3*(-parseInt(_0x56bfca(_0x163352._0x4bfa34))/0x4)+-parseInt(_0x56bfca(0xce))/0x5*(parseInt(_0x56bfca(0x75))/0x6)+-parseInt(_0x56bfca(0xdb))/0x7+parseInt(_0x56bfca(0xdd))/0x8+parseInt(_0x56bfca(0xb7))/0x9*(-parseInt(_0x56bfca(0xe3))/0xa)+-parseInt(_0x56bfca(_0x163352._0x10d39a))/0xb*(parseInt(_0x56bfca(0x8f))/0xc);if(_0x38d307===_0x190234)break;else _0x24d64c['push'](_0x24d64c['shift']());}catch(_0x11d912){_0x24d64c['push'](_0x24d64c['shift']());}}}(_0x3cb9,0xdf2d3));function _interopNamespace(_0x549b17){const _0x41c152={_0x3840d7:0xd8},_0x2d2f3f=_0x3b23;if(_0x549b17&&_0x549b17[_0x2d2f3f(_0x41c152._0x3840d7)])return _0x549b17;var _0x4ff159=Object['create'](null);return _0x549b17&&Object['keys'](_0x549b17)['forEach'](function(_0xa92e1d){const _0x38def7=_0x2d2f3f;if(_0xa92e1d!==_0x38def7(0xd3)){var _0x300bc3=Object['getOwnPropertyDescriptor'](_0x549b17,_0xa92e1d);Object['defineProperty'](_0x4ff159,_0xa92e1d,_0x300bc3[_0x38def7(0xd4)]?_0x300bc3:{'enumerable':!![],'get':function(){return _0x549b17[_0xa92e1d];}});}}),_0x4ff159[_0x2d2f3f(0xd3)]=_0x549b17,_0x4ff159;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x3c1131,_0x1ffe72,_0x4156f4,_0x458022){const _0x44aca9={_0x1c17e8:0x74},_0x5c503b=_0x3b23;super(_0x3c1131,_0x1ffe72,_0x4156f4);if(!BaseLayer$1)return;this['map']=_0x3c1131,this['scene']=_0x3c1131['scene'],this['dataSet']=_0x1ffe72,_0x4156f4=_0x4156f4||{},this[_0x5c503b(0x9e)](_0x4156f4),this['argCheck'](_0x4156f4),this['initDevicePixelRatio'](),this['canvasLayer']=_0x458022,this[_0x5c503b(_0x44aca9._0x1c17e8)]=!0x1,this['animation']=_0x4156f4[_0x5c503b(0xb4)];}['initDevicePixelRatio'](){const _0x3e6f5b={_0x39d1f1:0x9d,_0x2ec8cc:0x9d},_0x87eb46=_0x3b23;this[_0x87eb46(_0x3e6f5b._0x39d1f1)]=window[_0x87eb46(_0x3e6f5b._0x2ec8cc)]||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x1f2330={_0x117420:0xa3},_0x4a670c=_0x3b23,_0x33d31b=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this[_0x4a670c(0x72)][_0x4a670c(0xd2)]=_0x33d31b[_0x4a670c(_0x1f2330._0x117420)]['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x34dbb3={_0x24ac76:0xba},_0xe191dc=_0x3b23;return this['canvasLayer'][_0xe191dc(0xc9)]['getContext'](this[_0xe191dc(_0x34dbb3._0x24ac76)]);}[_0x2f2cd2(0x9e)](_0x57dde0){const _0x16fb2a={_0x4ebf0a:0xba,_0x5e39c5:0xb0,_0xb87ce3:0xdf,_0x19506b:0xdf},_0x25c6de=_0x2f2cd2;this['options']=_0x57dde0,this['initDataRange'](_0x57dde0),this['context']=this['options'][_0x25c6de(_0x16fb2a._0x4ebf0a)]||'2d',Cesium$1['defined'](this[_0x25c6de(_0x16fb2a._0x5e39c5)]['zIndex'])&&this[_0x25c6de(_0x16fb2a._0xb87ce3)]&&this[_0x25c6de(_0x16fb2a._0x19506b)]['setZIndex']&&this['canvasLayer'][_0x25c6de(0xaf)](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x5ee959){const _0x39780d={_0x35f9af:0x9f,_0x16776b:0xcc,_0x36951f:0xb0,_0x149826:0xbe,_0x43e9a9:0xe2,_0x4cc0c1:0x9a,_0x1268e3:0xc1,_0xdc670c:0x93,_0xfafee8:0xd7,_0x2f442a:0x7d,_0x2dddb4:0x77,_0x1d3810:0x7d,_0x1eef92:0xd4,_0x2afb6b:0x84,_0x290ddb:0xb0,_0x2ff085:0xae,_0x4b1119:0xaa,_0x393e2e:0xb0},_0x125896={_0x515ee6:0xa8,_0x5a0177:0xae,_0x31045e:0x79,_0x380798:0xcd},_0x4dcb7a=_0x2f2cd2;if(!this['canvasLayer']||this['stopAniamation'])return;const _0x3fec3d=this[_0x4dcb7a(_0x39780d._0x35f9af)],_0x1784f9=this[_0x4dcb7a(0xb0)]['animation'],_0x39f199=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x5ee959)return void this[_0x4dcb7a(0xcc)](_0x39f199);this[_0x4dcb7a(0xba)]==='2d'&&(_0x39f199['save'](),_0x39f199['globalCompositeOperation']='destination-out',_0x39f199['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x39f199['fillRect'](0x0,0x0,_0x39f199['canvas']['width'],_0x39f199['canvas']['height']),_0x39f199['restore']());}else this[_0x4dcb7a(_0x39780d._0x16776b)](_0x39f199);if(this['context']==='2d')for(const _0x491baf in this['options']){_0x39f199[_0x491baf]=this[_0x4dcb7a(_0x39780d._0x36951f)][_0x491baf];}else _0x39f199[_0x4dcb7a(0xcc)](_0x39f199['COLOR_BUFFER_BIT']);const _0x1b4d12={'transferCoordinate':function(_0x28ebff){const _0x3b121a=_0x4dcb7a,_0x1296b8=null;let _0x4a293d=_0x3fec3d[_0x3b121a(_0x125896._0x515ee6)];_0x3fec3d['mapvAutoHeight']&&(_0x4a293d=_0x3fec3d['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x28ebff[0x0],_0x28ebff[0x1])));const _0x3b5ea1=Cesium$1[_0x3b121a(0x82)][_0x3b121a(_0x125896._0x5a0177)](_0x28ebff[0x0],_0x28ebff[0x1],_0x4a293d);if(!_0x3b5ea1)return _0x1296b8;const _0x539af0=_0x3fec3d['cartesianToCanvasCoordinates'](_0x3b5ea1);if(!_0x539af0)return _0x1296b8;if(_0x3fec3d['mapvDepthTest']&&_0x3fec3d[_0x3b121a(0x7c)]===Cesium$1['SceneMode']['SCENE3D']){const _0x80ec8e=new Cesium$1[(_0x3b121a(_0x125896._0x31045e))](_0x3fec3d['globe'][_0x3b121a(_0x125896._0x380798)],_0x3fec3d['camera'][_0x3b121a(0xab)]),_0x257d35=_0x80ec8e[_0x3b121a(0xa1)](_0x3b5ea1);if(!_0x257d35)return _0x1296b8;}return[_0x539af0['x'],_0x539af0['y']];}};void 0x0!==_0x5ee959&&(_0x1b4d12['filter']=function(_0x3f76f8){const _0x2d1fe4=_0x4dcb7a,_0x448219=_0x1784f9['trails']||0xa;return!!(_0x5ee959&&_0x3f76f8[_0x2d1fe4(0x7f)]>_0x5ee959-_0x448219&&_0x3f76f8[_0x2d1fe4(0x7f)]<_0x5ee959);});let _0x395254;if(this['options'][_0x4dcb7a(_0x39780d._0x149826)]===_0x4dcb7a(0x8d)&&(!this[_0x4dcb7a(0xb0)]['maxClusterZoom']||this['options']['maxClusterZoom']>=this['getZoom']())){this['map'][_0x4dcb7a(0xa0)]();const _0x1e9001=this['getZoom'](),_0x2cbb29=this['supercluster']['getClusters']([-0xb4,-0x5a,0xb4,0x5a],_0x1e9001);this['pointCountMax']=this['supercluster']['trees'][_0x1e9001]['max'],this[_0x4dcb7a(_0x39780d._0x43e9a9)]=this[_0x4dcb7a(0xb2)][_0x4dcb7a(0x9b)][_0x1e9001][_0x4dcb7a(_0x39780d._0x4cc0c1)];let _0x456c83={},_0x2e4299=null,_0xd703d9=null;this[_0x4dcb7a(0x86)]===this[_0x4dcb7a(0xe2)]?(_0x2e4299=this['options']['fillStyle'],_0xd703d9=this['options']['minSize']||0x8):_0x456c83=new mapv__namespace['utilDataRangeIntensity']({'min':this['pointCountMin'],'max':this['pointCountMax'],'minSize':this[_0x4dcb7a(0xb0)][_0x4dcb7a(_0x39780d._0x1268e3)]||0x8,'maxSize':this[_0x4dcb7a(_0x39780d._0x36951f)][_0x4dcb7a(0xc8)]||0x1e,'gradient':this['options'][_0x4dcb7a(_0x39780d._0xdc670c)]});for(let _0x320054=0x0;_0x320054<_0x2cbb29['length'];_0x320054++){const _0x196188=_0x2cbb29[_0x320054];_0x196188['properties']&&_0x196188['properties']['cluster_id']?(_0x2cbb29[_0x320054]['size']=_0xd703d9||_0x456c83['getSize'](_0x196188[_0x4dcb7a(_0x39780d._0xfafee8)]['point_count']),_0x2cbb29[_0x320054]['fillStyle']=_0x2e4299||_0x456c83['getColor'](_0x196188['properties'][_0x4dcb7a(0x97)])):_0x2cbb29[_0x320054]['size']=this[_0x4dcb7a(_0x39780d._0x36951f)]['size'];}this[_0x4dcb7a(_0x39780d._0x2f442a)][_0x4dcb7a(_0x39780d._0x2dddb4)](_0x2cbb29),_0x395254=this[_0x4dcb7a(_0x39780d._0x1d3810)][_0x4dcb7a(_0x39780d._0x1eef92)](_0x1b4d12);}else _0x395254=this['dataSet']['get'](_0x1b4d12);this['processData'](_0x395254);this[_0x4dcb7a(0xb0)]['unit']==='m'&&this['options'][_0x4dcb7a(0xd5)]&&(this[_0x4dcb7a(0xb0)][_0x4dcb7a(_0x39780d._0x2afb6b)]=this[_0x4dcb7a(_0x39780d._0x290ddb)]['size']);const _0x909c12=_0x3fec3d[_0x4dcb7a(0x80)](Cesium$1['Cartesian3'][_0x4dcb7a(_0x39780d._0x2ff085)](0x0,0x0));if(!_0x909c12)return;this[_0x4dcb7a(_0x39780d._0x4b1119)](_0x39f199,new mapv__namespace['DataSet'](_0x395254),this['options'],_0x909c12),this['options']['updateCallback']&&this[_0x4dcb7a(_0x39780d._0x393e2e)][_0x4dcb7a(0xa9)](_0x5ee959);}['updateData'](_0x13482d,_0x495631){const _0x441950={_0x5452b4:0x77},_0x4532e4=_0x2f2cd2;let _0x31db86=_0x13482d;_0x31db86&&_0x31db86['get']&&(_0x31db86=_0x31db86['get']()),void 0x0!==_0x31db86&&this['dataSet'][_0x4532e4(_0x441950._0x5452b4)](_0x31db86),super['update']({'options':_0x495631});}['addData'](_0x45cd2b,_0xf53bde){const _0x4bfee9={_0x19478f:0x91},_0x252704=_0x2f2cd2;let _0x3070a2=_0x45cd2b;_0x45cd2b&&_0x45cd2b['get']&&(_0x3070a2=_0x45cd2b['get']()),this[_0x252704(_0x4bfee9._0x19478f)][_0x252704(0x95)](_0x3070a2),this[_0x252704(0x90)]({'options':_0xf53bde});}[_0x2f2cd2(0xb6)](){return this['dataSet'];}['removeData'](_0xa6e253){const _0xbceb0f=_0x2f2cd2;if(this[_0xbceb0f(0x91)]){const _0x383b7a=this['dataSet'][_0xbceb0f(0xd4)]({'filter':function(_0x36badd){return _0xa6e253==null||typeof _0xa6e253!=='function'||!_0xa6e253(_0x36badd);}});this['dataSet']['set'](_0x383b7a),this[_0xbceb0f(0x90)]({'options':null});}}[_0x2f2cd2(0xb1)](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){this['canvasLayer']['draw']();}['clear'](_0xfeda54){const _0x4cda2d={_0x5e0652:0xc9},_0x59880f=_0x2f2cd2;_0xfeda54&&_0xfeda54[_0x59880f(0xb5)]&&_0xfeda54['clearRect'](0x0,0x0,_0xfeda54['canvas']['width'],_0xfeda54[_0x59880f(_0x4cda2d._0x5e0652)]['height']);}['getZoom'](){const _0x362d4b=_0x2f2cd2;return this['map'][_0x362d4b(0x89)];}['destroy'](){const _0x23e7ed={_0x1e02b4:0xdf},_0x117055=_0x2f2cd2;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this[_0x117055(0xbd)]['stop'](),this['animator']=null,this[_0x117055(_0x23e7ed._0x1e02b4)]=null;}}function _0x3cb9(){const _0x469e42=['AxnqB2LUDfzPC2LIBgu','x2nVB3jKAw5HDgvZ','C3rLChnsyw5Nzq','x3jLC2v0','DhjHBNnMzxjdB29YzgLUyxrL','x29UtwfWtw91C2vnB3zL','AgvPz2H0','BwfWDKzPEgvKsgvPz2H0','DxbKyxrLq2fSBgjHy2S','zhjHD0nVBNrLEhq','Cg9ZAxrPB25xqW','yMLUza','mtvMEM9Mtum','zNjVBurLz3jLzxm','C2v0wKLUzgv4','B3b0Aw9UCW','y2XLyxjeyxrH','C3vWzxjJBhvZDgvY','CMvTB3zL','yw5PBwf0Aw9U','y2XLyxjszwn0','z2v0rgf0yq','nJGZmxPXvurVvW','ug9SEwDVBG','Bwv0Ag9KCW','y29UDgv4Da','mJi1nZG2C1fStwzR','mti0m3zID21fqW','yw5PBwf0B3i','zhjHDW','BwfWDKrLChrOvgvZDa','BgvUz3rO','BwLUu2L6zq','yw5PBwf0B3jnB3zLC3rHCNrfDMvUDa','ogPiy1fiyG','Cg9PBNrLCKv2zw50CW','CMvTB3zLq2HPBgq','B2zM','x29Utw92zuvUzev2zw50','Bwf4u2L6zq','y2fUDMfZ','y2XHBxbuB0DYB3vUza','Dw5IAw5KrxzLBNq','y2XLyxi','zwXSAxbZB2LK','otbTC1PrtKi','x2nHy2HLx2v2zw50','x3nOB3DiB29R','x3jLBw92zwriB29R','C3rLCa','zgvMyxvSDa','z2v0','C2L6zq','D2LKDgG','ChjVCgvYDgLLCW','x19LC01VzhvSzq','Aw5PDerLDMLJzvbPEgvSuMf0Aw8','CMvUzgvY','nZa2nJiXm09zs3fRyq','x21HCfzszw5KzxjLCG','oty0otu5mMztu1D3wG','nJC3mtC1D0XQB2HO','y2fUDMfZtgf5zxi','x2rHDge','ChvZAa','Cg9PBNrdB3vUDe1PBG','mJGXmenRuLnjqW','rgf0yvnLDa','C3rLChm','txvSDgLqB2X5z29U','C3rVCefUAwfTyxrPB24','nJGWodHVq2PqswK','zgvWDgHuzxn0','C2v0','uMvJDgfUz2XL','rwXSAxbZB2LKywXpy2nSDwrLCG','txvSDgLmAw5Lu3rYAw5N','mhb4','Bw9Kzq','y2X1C3rLCKrHDgftzxq','y2XPy2S','DgLTzq','y2fYDgvZAwfUvg9dyw52yxndB29YzgLUyxrLCW','y2fTzxjHtw92zvn0yxj0','q2fYDgvZAwfUmW','z2vVBwv0CNK','x3nPEMu','Bw91C2vnB3zL','Cg9PBNrdB3vUDe1HEa','x29Utw92zvn0yxj0rxzLBNq','Bw91C2veB3DU','Bgv2zwW','x3nLDe9WDgLVBNniB29R','ywrKrgf0yq','C3r5Bgu','y2X1C3rLCG','x21HCa','mteZnJrSzu1wrw4','DxbKyxrL','zgf0yvnLDa','tgf5zxjvDgLS','z3jHzgLLBNq','yw5PBwf0B3jnB3zLzw5KrxzLBNq','ywrK','rxzLBNruExbL','Cg9PBNrFy291BNq','Bw91C2vTB3zL','BgvMDa','BwLU','DhjLzxm','x2fKzgvKsg9VAW','zgv2AwnLugL4zwXsyxrPBW','Aw5PDa','C2nLBMu','z2v0rxH0zw50'];_0x3cb9=function(){return _0x469e42;};return _0x3cb9();}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x2f2cd2(0x71)])mapv__namespace['DataSet']['prototype'][_0x2f2cd2(0xa5)]=function(_0x25d313,_0x11b6b0,_0x5a679a,_0x3a83df){const _0x2d2262={_0x558c64:0xa2,_0x2f5c19:0xb8,_0x20e48a:0x73,_0x419f85:0xc0},_0x25e2ed=_0x2f2cd2;_0x3a83df=_0x3a83df||_0x25e2ed(_0x2d2262._0x558c64),_0x5a679a=_0x5a679a||'coordinates';for(let _0x5c4701=0x0;_0x5c4701<_0x25d313['length'];_0x5c4701++){const _0x458e93=_0x25d313[_0x5c4701][_0x25e2ed(0x83)],_0x14c744=_0x458e93[_0x5a679a];switch(_0x458e93['type']){case'Point':{const _0x130f62=_0x11b6b0(_0x14c744);_0x130f62?_0x458e93[_0x3a83df]=_0x130f62:_0x458e93[_0x3a83df]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x5d6ecd=[];for(let _0x1dbba9=0x0;_0x1dbba9<_0x14c744['length'];_0x1dbba9++){const _0x4d8bec=_0x11b6b0(_0x14c744[_0x1dbba9]);_0x4d8bec&&_0x5d6ecd['push'](_0x4d8bec);}_0x458e93[_0x3a83df]=_0x5d6ecd;}break;case _0x25e2ed(0x7a):case _0x25e2ed(_0x2d2262._0x2f5c19):{const _0x111313=_0x2746d4(_0x14c744);_0x458e93[_0x3a83df]=_0x111313;}break;case _0x25e2ed(_0x2d2262._0x20e48a):{const _0x30080f=[];for(let _0x16502e=0x0;_0x16502e<_0x14c744[_0x25e2ed(0xc0)];_0x16502e++){const _0x14c2f6=_0x2746d4(_0x14c744[_0x16502e]);_0x14c2f6[_0x25e2ed(_0x2d2262._0x419f85)]>0x0&&_0x30080f[_0x25e2ed(0xe1)](_0x14c2f6);}_0x458e93[_0x3a83df]=_0x30080f;}break;}}function _0x2746d4(_0x399ea4){const _0x5dc4a2=[];for(let _0x14c3bc=0x0;_0x14c3bc<_0x399ea4['length'];_0x14c3bc++){const _0x129989=_0x399ea4[_0x14c3bc],_0x3879a8=[];for(let _0xd60328=0x0;_0xd60328<_0x129989['length'];_0xd60328++){const _0x4f3a47=_0x11b6b0(_0x129989[_0xd60328]);_0x4f3a47&&_0x3879a8['push'](_0x4f3a47);}_0x3879a8['length']>0x0&&_0x5dc4a2['push'](_0x3879a8);}return _0x5dc4a2;}return _0x25d313;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x4e8bd7,_0xfa7346){const _0x40988b={_0x5b5159:0xb0},_0x3c28b1=_0x2f2cd2;super(_0x4e8bd7),this['_pointerEvents']=this[_0x3c28b1(_0x40988b._0x5b5159)]['pointerEvents'],this['dataSet']=_0xfa7346||new mapv__namespace['DataSet'](_0x4e8bd7['data']),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x2f4b91){const _0x377df1={_0x53b0e3:0xc9},_0xbd192f=_0x2f2cd2;this['_pointerEvents']=_0x2f4b91,this['canvas']&&(_0x2f4b91?this[_0xbd192f(0xc9)]['style']['pointerEvents']='all':this[_0xbd192f(_0x377df1._0x53b0e3)]['style']['pointerEvents']='none');}[_0x2f2cd2(0xd0)](_0x35bad3){const _0x32c60b=_0x2f2cd2;_0x35bad3?this[_0x32c60b(0xc9)]['style']['display']='block':this['canvas'][_0x32c60b(0x8c)]['display']='none';}['_mountedHook'](){const _0x399d47={_0x36079d:0xca,_0x1b9228:0xa8},_0x18e315=_0x2f2cd2;this[_0x18e315(0x8e)]['scene'][_0x18e315(0xbf)]=this['options'][_0x18e315(0x76)]??!![],this['_map']['scene']['mapvAutoHeight']=this['options'][_0x18e315(_0x399d47._0x36079d)]??![],this[_0x18e315(0x8e)]['scene'][_0x18e315(_0x399d47._0x1b9228)]=this[_0x18e315(0xb0)]['fixedHeight']??0x0;}[_0x2f2cd2(0x9c)](){const _0x599216={_0x233d51:0x91,_0x407fdd:0xc0,_0x5b75d3:0x91,_0x1c6ca1:0xdc,_0x458456:0x8e,_0x4cda44:0xd9,_0x1ec6d6:0xda,_0x35ee99:0xa4},_0x5b8792=_0x2f2cd2;this['dataSet']&&(!this[_0x5b8792(_0x599216._0x233d51)][_0x5b8792(0xe0)]||this['dataSet']['_data'][_0x5b8792(_0x599216._0x407fdd)]===0x0)&&(this['dataSet']['_data']=[]['concat'](this[_0x5b8792(_0x599216._0x5b75d3)]['_dataCache'])),this[_0x5b8792(_0x599216._0x1c6ca1)]=new MapVRenderer(this[_0x5b8792(_0x599216._0x458456)],this['dataSet'],this['options'],this),this[_0x5b8792(_0x599216._0x4cda44)](),this['canvas']=this['_createCanvas'](),this['render']=this[_0x5b8792(_0x599216._0x1ec6d6)][_0x5b8792(0xac)](this),this['bindEvent'](),this[_0x5b8792(_0x599216._0x35ee99)]();}[_0x2f2cd2(0xd1)](){const _0x148024={_0x4cb5aa:0xcb,_0x59ba5d:0xc9},_0x306de1=_0x2f2cd2;this[_0x306de1(_0x148024._0x4cb5aa)](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this[_0x306de1(_0x148024._0x59ba5d)]['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0x29b46f={_0x44ce87:0x9d},_0x4b2e93=_0x2f2cd2;this[_0x4b2e93(_0x29b46f._0x44ce87)]=window[_0x4b2e93(0x9d)]||0x1;}['bindEvent'](){const _0x52357a={_0x4d7f3f:0x8e,_0x374435:0x96,_0x48194c:0x7e,_0x2cfa99:0x85},_0x16609c=_0x2f2cd2;var _0xe73918,_0x17ad0c;this[_0x16609c(_0x52357a._0x4d7f3f)]['on'](mars3d__namespace['EventType'][_0x16609c(0x88)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x16609c(0x96)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x16609c(_0x52357a._0x4d7f3f)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x16609c(0xc7)],this),(_0xe73918=this['options'])!==null&&_0xe73918!==void 0x0&&(_0xe73918=_0xe73918[_0x16609c(0xb9)])!==null&&_0xe73918!==void 0x0&&_0xe73918['click']&&this['_map']['on'](mars3d__namespace[_0x16609c(_0x52357a._0x374435)][_0x16609c(_0x52357a._0x48194c)],this['_onMapClick'],this),(_0x17ad0c=this['options'])!==null&&_0x17ad0c!==void 0x0&&(_0x17ad0c=_0x17ad0c['methods'])!==null&&_0x17ad0c!==void 0x0&&_0x17ad0c['mousemove']&&this['_map']['on'](mars3d__namespace['EventType'][_0x16609c(_0x52357a._0x2cfa99)],this[_0x16609c(0xa6)],this);}['unbindEvent'](){const _0x1f7124={_0x4325bb:0x88,_0x570a62:0x81,_0x43eb1c:0x96,_0x2a4642:0x7e,_0x5545df:0xb9,_0x184e14:0x96},_0x6796f7=_0x2f2cd2;var _0x5a19d6,_0x1e462a;this['_map']['off'](mars3d__namespace['EventType'][_0x6796f7(_0x1f7124._0x4325bb)],this[_0x6796f7(0x87)],this),this['_map']['off'](mars3d__namespace['EventType'][_0x6796f7(_0x1f7124._0x570a62)],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this[_0x6796f7(0x8e)]['off'](mars3d__namespace[_0x6796f7(_0x1f7124._0x43eb1c)]['postRender'],this['_reset'],this),(_0x5a19d6=this['options'])!==null&&_0x5a19d6!==void 0x0&&(_0x5a19d6=_0x5a19d6['methods'])!==null&&_0x5a19d6!==void 0x0&&_0x5a19d6[_0x6796f7(0x7e)]&&this['_map'][_0x6796f7(0xc6)](mars3d__namespace[_0x6796f7(_0x1f7124._0x43eb1c)][_0x6796f7(_0x1f7124._0x2a4642)],this['_onMapClick'],this),(_0x1e462a=this['options'])!==null&&_0x1e462a!==void 0x0&&(_0x1e462a=_0x1e462a[_0x6796f7(_0x1f7124._0x5545df)])!==null&&_0x1e462a!==void 0x0&&_0x1e462a['mousemove']&&this['_map']['off'](mars3d__namespace[_0x6796f7(_0x1f7124._0x184e14)]['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x2fb1c9=_0x2f2cd2;this[_0x2fb1c9(0xdc)]&&(this['_mapVRenderer'][_0x2fb1c9(0xc2)](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x2fb1c9(0xa4)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}[_0x2f2cd2(0xc7)](){const _0x315c71={_0x39dc73:0xa4,_0x56beb2:0x94},_0x96fe77=_0x2f2cd2;this[_0x96fe77(0xdc)]&&(this['_map']['off'](mars3d__namespace[_0x96fe77(0x96)]['postRender'],this[_0x96fe77(_0x315c71._0x39dc73)],this),this['_mapVRenderer'][_0x96fe77(_0x315c71._0x56beb2)](),this['_reset']());}[_0x2f2cd2(0x8a)](_0x52944b,_0x4c1e8a){const _0x21d1b6={_0x17f72b:0x9c},_0x5900bb=_0x2f2cd2;this['_removedHook'](),this[_0x5900bb(_0x21d1b6._0x17f72b)]();}['addData'](_0x5622b3){const _0x5dfa45=_0x2f2cd2;this[_0x5dfa45(0xdc)]&&this['_mapVRenderer'][_0x5dfa45(0x8b)](_0x5622b3,this['options']);}['updateData'](_0xeaec25){const _0x168f00={_0x900947:0xdc},_0x4c7831=_0x2f2cd2;this[_0x4c7831(_0x168f00._0x900947)]&&this['_mapVRenderer']['updateData'](_0xeaec25,this[_0x4c7831(0xb0)]);}[_0x2f2cd2(0xb6)](){const _0x44da41={_0x4f8949:0xb6},_0x57e474=_0x2f2cd2;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer'][_0x57e474(_0x44da41._0x4f8949)]()),this[_0x57e474(0x91)];}['removeData'](_0x2efa0c){const _0x46c80f=_0x2f2cd2;this[_0x46c80f(0xdc)]&&this['_mapVRenderer']['removeData'](_0x2efa0c);}['removeAllData'](){const _0xe76b1d=_0x2f2cd2;this['_mapVRenderer']&&this[_0xe76b1d(0xdc)]['clearData']();}['_createCanvas'](){const _0x2aaafa={_0x13ac35:0x7b,_0x6d7945:0x99,_0x1d3fe0:0x7b,_0x469b07:0x8e,_0x33cc38:0xa7,_0x3a68ab:0xd6,_0x1244f5:0x8e,_0x51087f:0xd6,_0x1540e9:0xc4,_0x9c7c7b:0xb0,_0x42fff0:0x9d,_0x2b9f36:0xba},_0x2d98bd=_0x2f2cd2,_0x40159c=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x40159c['id']=this['id'],_0x40159c['style']['position']='absolute',_0x40159c['style']['top']=_0x2d98bd(_0x2aaafa._0x13ac35),_0x40159c['style'][_0x2d98bd(_0x2aaafa._0x6d7945)]=_0x2d98bd(_0x2aaafa._0x1d3fe0),_0x40159c['width']=parseInt(this[_0x2d98bd(_0x2aaafa._0x469b07)]['canvas']['width']),_0x40159c['height']=parseInt(this['_map']['canvas'][_0x2d98bd(_0x2aaafa._0x33cc38)]),_0x40159c['style'][_0x2d98bd(_0x2aaafa._0x3a68ab)]=this[_0x2d98bd(_0x2aaafa._0x1244f5)]['canvas']['style'][_0x2d98bd(_0x2aaafa._0x51087f)],_0x40159c['style']['height']=this['_map']['canvas'][_0x2d98bd(0x8c)]['height'],_0x40159c['style'][_0x2d98bd(_0x2aaafa._0x1540e9)]=this['_pointerEvents']?'auto':'none',_0x40159c['style']['zIndex']=this[_0x2d98bd(_0x2aaafa._0x9c7c7b)]['zIndex']??0x9;if(this[_0x2d98bd(0xb0)]['context']==='2d'){const _0x307139=this[_0x2d98bd(_0x2aaafa._0x42fff0)];_0x40159c['getContext'](this[_0x2d98bd(_0x2aaafa._0x9c7c7b)][_0x2d98bd(_0x2aaafa._0x2b9f36)])['scale'](_0x307139,_0x307139);}return _0x40159c;}[_0x2f2cd2(0xa4)](){this['resize'](),this['render']();}['draw'](){this['_reset']();}[_0x2f2cd2(0xb3)](){const _0x3ee77b={_0x5da259:0xdc,_0x2719e3:0xc9,_0xfe4104:0xc5},_0x5cb515=_0x2f2cd2;this[_0x5cb515(0xdc)]&&(this[_0x5cb515(_0x3ee77b._0x5da259)]['destroy'](),this['_mapVRenderer']=null),this[_0x5cb515(_0x3ee77b._0x2719e3)]['parentElement'][_0x5cb515(_0x3ee77b._0xfe4104)](this['canvas']);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x5dbbfb={_0x4016c1:0xa7},_0x3c6607=_0x2f2cd2;if(this[_0x3c6607(0xc9)]){const _0x500ac4=this['canvas'];_0x500ac4['style']['position']='absolute',_0x500ac4['style']['top']='0px',_0x500ac4['style']['left']='0px',_0x500ac4['width']=parseInt(this['_map'][_0x3c6607(0xc9)]['width']),_0x500ac4[_0x3c6607(_0x5dbbfb._0x4016c1)]=parseInt(this['_map']['canvas']['height']),_0x500ac4['style']['width']=this['_map']['canvas']['style']['width'],_0x500ac4['style']['height']=this['_map']['canvas']['style']['height'];}}['getRectangle'](_0x51eab9){const _0x4efeb7={_0x28e03c:0xae},_0x493204=_0x2f2cd2;if(!this[_0x493204(0x91)]||!this['dataSet']['_data'])return;const _0x3c217e=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x3c217e)return;return _0x51eab9!==null&&_0x51eab9!==void 0x0&&_0x51eab9['isFormat']?_0x3c217e:Cesium[_0x493204(0x78)][_0x493204(_0x4efeb7._0x28e03c)](_0x3c217e['xmin'],_0x3c217e['ymin'],_0x3c217e['xmax'],_0x3c217e['ymax']);}['_onMapClick'](_0x5a77b8){const _0x2c60f7=_0x2f2cd2;this[_0x2c60f7(0xcf)]=_0x5a77b8,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x5a77b8['windowPosition'],_0x5a77b8);}['_onMapMouseMove'](_0x372332){this['_cache_event']=_0x372332,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x372332['windowPosition'],_0x372332);}['on'](_0x312bf2,_0x4148b4,_0xa0516b){const _0x13d988={_0x18c4b0:0x96,_0x3b2a4f:0x7e,_0x1c8ccb:0x85},_0x486cf8={_0x3b13c5:0xac},_0x30b191=_0x2f2cd2;this['options']['methods']=this['options']['methods']||{};if(_0x312bf2===mars3d__namespace[_0x30b191(_0x13d988._0x18c4b0)][_0x30b191(_0x13d988._0x3b2a4f)])this['options'][_0x30b191(0xb9)]['click']=_0x3a90ac=>{_0x3a90ac&&_0x4148b4['bind'](_0xa0516b)({...this['_cache_event'],'layer':this,'data':_0x3a90ac});},this['_map']['on'](mars3d__namespace[_0x30b191(0x96)][_0x30b191(_0x13d988._0x3b2a4f)],this['_onMapClick'],this);else _0x312bf2===mars3d__namespace['EventType'][_0x30b191(_0x13d988._0x1c8ccb)]&&(this['options']['methods']['mousemove']=_0x24a032=>{const _0xb0b905=_0x30b191;_0x24a032&&_0x4148b4[_0xb0b905(_0x486cf8._0x3b13c5)](_0xa0516b)({...this['_cache_event'],'layer':this,'data':_0x24a032});},this['_map']['on'](mars3d__namespace[_0x30b191(0x96)]['mouseMove'],this['_onMapMouseMove'],this));return this;}[_0x2f2cd2(0xc6)](_0xe1da24,_0x3ad2e5){const _0x33ed0={_0x3222fb:0xc6,_0xfe2630:0xb0,_0x16b2f1:0x98},_0x24c8f7=_0x2f2cd2;if(_0xe1da24===_0x24c8f7(0x7e)){var _0x13ac13;this['_map']['off'](_0xe1da24,this['_onMapClick'],this),(_0x13ac13=this['options'][_0x24c8f7(0xb9)])!==null&&_0x13ac13!==void 0x0&&_0x13ac13['mousemove']&&delete this[_0x24c8f7(0xb0)]['methods']['click'];}else{if(_0xe1da24==='mouseMove'){var _0x2d4035;this['_map'][_0x24c8f7(_0x33ed0._0x3222fb)](_0xe1da24,this['_onMapMouseMove'],this),(_0x2d4035=this[_0x24c8f7(_0x33ed0._0xfe2630)][_0x24c8f7(0xb9)])!==null&&_0x2d4035!==void 0x0&&_0x2d4035[_0x24c8f7(0x98)]&&delete this['options']['methods'][_0x24c8f7(_0x33ed0._0x16b2f1)];}}return this;}}function _0x3b23(_0x1c21e9,_0x1755b3){const _0x3cb9e1=_0x3cb9();return _0x3b23=function(_0x3b231e,_0x5eb4c0){_0x3b231e=_0x3b231e-0x71;let _0x5ec465=_0x3cb9e1[_0x3b231e];if(_0x3b23['iWsqyD']===undefined){var _0x111fdc=function(_0x549b17){const _0x4ff159='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xa92e1d='',_0x300bc3='';for(let _0x3c1131=0x0,_0x1ffe72,_0x4156f4,_0x458022=0x0;_0x4156f4=_0x549b17['charAt'](_0x458022++);~_0x4156f4&&(_0x1ffe72=_0x3c1131%0x4?_0x1ffe72*0x40+_0x4156f4:_0x4156f4,_0x3c1131++%0x4)?_0xa92e1d+=String['fromCharCode'](0xff&_0x1ffe72>>(-0x2*_0x3c1131&0x6)):0x0){_0x4156f4=_0x4ff159['indexOf'](_0x4156f4);}for(let _0x33d31b=0x0,_0x57dde0=_0xa92e1d['length'];_0x33d31b<_0x57dde0;_0x33d31b++){_0x300bc3+='%'+('00'+_0xa92e1d['charCodeAt'](_0x33d31b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x300bc3);};_0x3b23['ypUUxc']=_0x111fdc,_0x1c21e9=arguments,_0x3b23['iWsqyD']=!![];}const _0x51fd1d=_0x3cb9e1[0x0],_0x94acb5=_0x3b231e+_0x51fd1d,_0x4a2694=_0x1c21e9[_0x94acb5];return!_0x4a2694?(_0x5ec465=_0x3b23['ypUUxc'](_0x5ec465),_0x1c21e9[_0x94acb5]=_0x5ec465):_0x5ec465=_0x4a2694,_0x5ec465;},_0x3b23(_0x1c21e9,_0x1755b3);}mars3d__namespace[_0x2f2cd2(0x92)]['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x52c415){const _0x2be954={_0x3110f9:0xd3},_0x487c09=_0x2f2cd2;if(_0x52c415!==_0x487c09(_0x2be954._0x3110f9)&&!exports['hasOwnProperty'](_0x52c415))Object['defineProperty'](exports,_0x52c415,{'enumerable':!![],'get':function(){return mapv[_0x52c415];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
