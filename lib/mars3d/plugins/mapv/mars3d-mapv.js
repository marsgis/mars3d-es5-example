/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.7
 * 编译日期：2024-03-19 15:39:39
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x2010aa=_0x1457;function _0x1457(_0x3af874,_0x3d18c1){const _0x1883a6=_0x1883();return _0x1457=function(_0x145767,_0x3f1660){_0x145767=_0x145767-0x199;let _0x535b8e=_0x1883a6[_0x145767];return _0x535b8e;},_0x1457(_0x3af874,_0x3d18c1);}(function(_0x4e8d11,_0x19a41c){const _0x5d49f6={_0x39334b:0x1bd,_0x57703a:0x1fe},_0x6c6a07=_0x1457,_0x145afa=_0x4e8d11();while(!![]){try{const _0xb5de14=-parseInt(_0x6c6a07(0x1b3))/0x1+-parseInt(_0x6c6a07(_0x5d49f6._0x39334b))/0x2+parseInt(_0x6c6a07(0x206))/0x3+-parseInt(_0x6c6a07(0x19b))/0x4*(parseInt(_0x6c6a07(0x203))/0x5)+-parseInt(_0x6c6a07(0x1fc))/0x6+-parseInt(_0x6c6a07(_0x5d49f6._0x57703a))/0x7*(-parseInt(_0x6c6a07(0x1f5))/0x8)+parseInt(_0x6c6a07(0x1ff))/0x9*(parseInt(_0x6c6a07(0x1ab))/0xa);if(_0xb5de14===_0x19a41c)break;else _0x145afa['push'](_0x145afa['shift']());}catch(_0x576986){_0x145afa['push'](_0x145afa['shift']());}}}(_0x1883,0x8b278));function _interopNamespace(_0x52f6db){const _0x9d50b8={_0x1b0307:0x1e4},_0xc72d4e=_0x1457;if(_0x52f6db&&_0x52f6db[_0xc72d4e(0x1c5)])return _0x52f6db;var _0x45ec35=Object['create'](null);return _0x52f6db&&Object[_0xc72d4e(_0x9d50b8._0x1b0307)](_0x52f6db)['forEach'](function(_0x1029b1){if(_0x1029b1!=='default'){var _0x4b435a=Object['getOwnPropertyDescriptor'](_0x52f6db,_0x1029b1);Object['defineProperty'](_0x45ec35,_0x1029b1,_0x4b435a['get']?_0x4b435a:{'enumerable':!![],'get':function(){return _0x52f6db[_0x1029b1];}});}}),_0x45ec35['default']=_0x52f6db,_0x45ec35;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x4ba6d8,_0x3dc9e3,_0x1ea0b3,_0x2c121e){const _0x50e0e8={_0x1a8de2:0x1f3,_0x2ae21b:0x1fb,_0x48f08c:0x1db},_0x20d32f=_0x1457;super(_0x4ba6d8,_0x3dc9e3,_0x1ea0b3);if(!BaseLayer$1)return;this[_0x20d32f(0x208)]=_0x4ba6d8,this[_0x20d32f(_0x50e0e8._0x1a8de2)]=_0x4ba6d8['scene'],this['dataSet']=_0x3dc9e3,_0x1ea0b3=_0x1ea0b3||{},this['init'](_0x1ea0b3),this[_0x20d32f(0x1e3)](_0x1ea0b3),this[_0x20d32f(_0x50e0e8._0x2ae21b)](),this['canvasLayer']=_0x2c121e,this[_0x20d32f(_0x50e0e8._0x48f08c)]=!0x1,this['animation']=_0x1ea0b3['animation'];}[_0x2010aa(0x1fb)](){const _0x52a246=_0x2010aa;this[_0x52a246(0x1ea)]=window[_0x52a246(0x1ea)]||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x49199d={_0x2300fb:0x200,_0x371916:0x1b1,_0x330f0c:0x1ba,_0x472086:0x1ef},_0x36c4b6=_0x2010aa,_0x344c66=this[_0x36c4b6(_0x49199d._0x2300fb)][_0x36c4b6(_0x49199d._0x371916)];this['isEnabledTime']()&&this['animator']&&(this[_0x36c4b6(_0x49199d._0x330f0c)][_0x36c4b6(0x1a9)]=_0x344c66['stepsRange'][_0x36c4b6(_0x49199d._0x472086)]);}['animatorMoveendEvent'](){const _0xe49a6f=_0x2010aa;this[_0xe49a6f(0x1b4)]()&&this['animator'];}['getContext'](){return this['canvasLayer']['canvas']['getContext'](this['context']);}['init'](_0x4a5fbf){const _0x546e89={_0x219282:0x1d3,_0x57ce9d:0x200,_0x1a5658:0x1d0},_0x298ffb=_0x2010aa;this[_0x298ffb(0x200)]=_0x4a5fbf,this[_0x298ffb(0x1aa)](_0x4a5fbf),this[_0x298ffb(_0x546e89._0x219282)]=this['options']['context']||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this[_0x298ffb(0x1a3)]&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this[_0x298ffb(_0x546e89._0x57ce9d)]['zIndex']),this[_0x298ffb(_0x546e89._0x1a5658)]();}['_canvasUpdate'](_0x3139af){const _0x2d117f={_0x242dcb:0x19a,_0x34de73:0x1d8,_0x4f5cc9:0x1ca,_0x4a8ee8:0x1a4,_0x497998:0x1cb,_0x37cdab:0x1cb,_0xc022:0x1d6,_0x3f5343:0x1de,_0x2092da:0x20d},_0x588cfa={_0x230dea:0x1b7},_0x36ad2e=_0x2010aa;if(!this[_0x36ad2e(0x1a3)]||this['stopAniamation'])return;const _0x35e998=this['scene'],_0x3003c4=this[_0x36ad2e(0x200)]['animation'],_0x19aa21=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x3139af)return void this['clear'](_0x19aa21);this['context']==='2d'&&(_0x19aa21[_0x36ad2e(0x1a6)](),_0x19aa21[_0x36ad2e(0x1af)]='destination-out',_0x19aa21['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x19aa21[_0x36ad2e(0x1d1)](0x0,0x0,_0x19aa21['canvas']['width'],_0x19aa21['canvas']['height']),_0x19aa21['restore']());}else this['clear'](_0x19aa21);if(this['context']==='2d')for(const _0x1367c3 in this['options']){_0x19aa21[_0x1367c3]=this['options'][_0x1367c3];}else _0x19aa21['clear'](_0x19aa21['COLOR_BUFFER_BIT']);const _0x1fe3bf={'transferCoordinate':function(_0x2648c2){const _0xf646db=_0x36ad2e,_0xf498f6=null;let _0x2a4486=_0x35e998['mapvFixedHeight'];_0x35e998['mapvAutoHeight']&&(_0x2a4486=_0x35e998['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x2648c2[0x0],_0x2648c2[0x1])));const _0x401140=Cesium$1['Cartesian3']['fromDegrees'](_0x2648c2[0x0],_0x2648c2[0x1],_0x2a4486);if(!_0x401140)return _0xf498f6;const _0x5d0553=_0x35e998['cartesianToCanvasCoordinates'](_0x401140);if(!_0x5d0553)return _0xf498f6;if(_0x35e998[_0xf646db(0x1f7)]&&_0x35e998['mode']===Cesium$1[_0xf646db(_0x588cfa._0x230dea)][_0xf646db(0x20b)]){const _0x244b15=new Cesium$1['EllipsoidalOccluder'](_0x35e998['globe']['ellipsoid'],_0x35e998['camera'][_0xf646db(0x19c)]),_0x55f1c9=_0x244b15['isPointVisible'](_0x401140);if(!_0x55f1c9)return _0xf498f6;}return[_0x5d0553['x'],_0x5d0553['y']];}};void 0x0!==_0x3139af&&(_0x1fe3bf[_0x36ad2e(0x1ae)]=function(_0x18dc2e){const _0x114369=_0x36ad2e,_0x5301ad=_0x3003c4[_0x114369(0x1c8)]||0xa;return!!(_0x3139af&&_0x18dc2e['time']>_0x3139af-_0x5301ad&&_0x18dc2e['time']<_0x3139af);});let _0x467f52;if(this['options']['draw']===_0x36ad2e(0x1b6)&&(!this['options']['maxClusterZoom']||this['options']['maxClusterZoom']>=this[_0x36ad2e(0x19a)]())){this[_0x36ad2e(0x208)]['getExtent']();const _0x16fe84=this[_0x36ad2e(_0x2d117f._0x242dcb)](),_0x562387=this[_0x36ad2e(0x20a)]['getClusters']([-0xb4,-0x5a,0xb4,0x5a],_0x16fe84);this[_0x36ad2e(_0x2d117f._0x34de73)]=this['supercluster']['trees'][_0x16fe84]['max'],this['pointCountMin']=this['supercluster']['trees'][_0x16fe84][_0x36ad2e(_0x2d117f._0x4f5cc9)];let _0x12fd2d={},_0x329130=null,_0x5e692d=null;this['pointCountMax']===this['pointCountMin']?(_0x329130=this['options']['fillStyle'],_0x5e692d=this['options']['minSize']||0x8):_0x12fd2d=new mapv__namespace[(_0x36ad2e(_0x2d117f._0x4a8ee8))]({'min':this['pointCountMin'],'max':this['pointCountMax'],'minSize':this[_0x36ad2e(0x200)][_0x36ad2e(0x1b9)]||0x8,'maxSize':this['options']['maxSize']||0x1e,'gradient':this['options']['gradient']});for(let _0x4e4382=0x0;_0x4e4382<_0x562387['length'];_0x4e4382++){const _0x5280a4=_0x562387[_0x4e4382];_0x5280a4[_0x36ad2e(_0x2d117f._0x497998)]&&_0x5280a4[_0x36ad2e(_0x2d117f._0x37cdab)]['cluster_id']?(_0x562387[_0x4e4382]['size']=_0x5e692d||_0x12fd2d[_0x36ad2e(_0x2d117f._0xc022)](_0x5280a4['properties']['point_count']),_0x562387[_0x4e4382]['fillStyle']=_0x329130||_0x12fd2d['getColor'](_0x5280a4[_0x36ad2e(_0x2d117f._0x497998)]['point_count'])):_0x562387[_0x4e4382][_0x36ad2e(0x1f2)]=this['options']['size'];}this['clusterDataSet']['set'](_0x562387),_0x467f52=this['clusterDataSet']['get'](_0x1fe3bf);}else _0x467f52=this[_0x36ad2e(0x1f9)]['get'](_0x1fe3bf);this[_0x36ad2e(_0x2d117f._0x3f5343)](_0x467f52);this[_0x36ad2e(0x200)]['unit']==='m'&&this['options']['size']&&(this['options']['_size']=this['options']['size']);const _0x47657e=_0x35e998['cartesianToCanvasCoordinates'](Cesium$1[_0x36ad2e(0x1ac)][_0x36ad2e(_0x2d117f._0x2092da)](0x0,0x0));if(!_0x47657e)return;this[_0x36ad2e(0x1e9)](_0x19aa21,new mapv__namespace['DataSet'](_0x467f52),this['options'],_0x47657e),this['options']['updateCallback']&&this[_0x36ad2e(0x200)]['updateCallback'](_0x3139af);}['updateData'](_0x41a27b,_0x1e696f){const _0x2039fe={_0x2f766b:0x1a0},_0x4f4fd8=_0x2010aa;let _0x9f639c=_0x41a27b;_0x9f639c&&_0x9f639c[_0x4f4fd8(_0x2039fe._0x2f766b)]&&(_0x9f639c=_0x9f639c['get']()),void 0x0!==_0x9f639c&&this['dataSet']['set'](_0x9f639c),super['update']({'options':_0x1e696f});}[_0x2010aa(0x204)](_0x16e2cb,_0x3faeea){const _0x365660=_0x2010aa;let _0x40f3f1=_0x16e2cb;_0x16e2cb&&_0x16e2cb[_0x365660(0x1a0)]&&(_0x40f3f1=_0x16e2cb['get']()),this['dataSet'][_0x365660(0x1cc)](_0x40f3f1),this['update']({'options':_0x3faeea});}[_0x2010aa(0x1d2)](){return this['dataSet'];}['removeData'](_0x494bd0){const _0x438972={_0x4df7c0:0x1c0},_0x4736e7=_0x2010aa;if(this[_0x4736e7(0x1f9)]){const _0x2b73c8=this['dataSet']['get']({'filter':function(_0x523033){return _0x494bd0==null||typeof _0x494bd0!=='function'||!_0x494bd0(_0x523033);}});this['dataSet'][_0x4736e7(_0x438972._0x4df7c0)](_0x2b73c8),this['update']({'options':null});}}[_0x2010aa(0x1a7)](){const _0xd00d7e={_0x5bc744:0x1f9},_0x2302af=_0x2010aa;this['dataSet']&&this[_0x2302af(_0xd00d7e._0x5bc744)]['clear'](),this['update']({'options':null});}[_0x2010aa(0x1be)](){const _0x576c1e=_0x2010aa;this['canvasLayer'][_0x576c1e(0x1be)]();}['clear'](_0x4575f8){const _0x4973c9={_0x149350:0x1d9},_0x9f3524=_0x2010aa;_0x4575f8&&_0x4575f8['clearRect']&&_0x4575f8['clearRect'](0x0,0x0,_0x4575f8['canvas'][_0x9f3524(_0x4973c9._0x149350)],_0x4575f8['canvas']['height']);}[_0x2010aa(0x19a)](){const _0x1645b5={_0xf68de9:0x208},_0x36f258=_0x2010aa;return this[_0x36f258(_0x1645b5._0xf68de9)]['level'];}['destroy'](){const _0x50fb90={_0x514b72:0x1ad},_0x467a77=_0x2010aa;this[_0x467a77(_0x50fb90._0x514b72)](this['getContext']()),this[_0x467a77(0x1a7)](),this['animator']&&this[_0x467a77(0x1c9)]['stop'](),this[_0x467a77(0x1c9)]=null,this[_0x467a77(0x1a3)]=null;}}function _0x1883(){const _0x58ff97=['isFormat','28HYmChd','2151ZvDqaT','options','MultiPolygon','_onMoveStartEvent','14290EWBpsM','addData','prototype','2343063XBBObN','_addedHook','map','请引入\x20mapv\x20库\x20','supercluster','SCENE3D','_onMoveEndEvent','fromDegrees','_reset','getZoom','660gIrnJN','positionWC','_map','mousemove','_onMapMouseMove','get','getExtentByGeoJSON','forEach','canvasLayer','utilDataRangeIntensity','click','save','clearData','removeData','step','initDataRange','104790NWdITC','Cartesian3','clear','filter','globalCompositeOperation','EventType','animation','pointerEvents','534086PAxRAS','isEnabledTime','length','cluster','SceneMode','_coordinates','minSize','steps','layer','Rectangle','1845684ctFJJu','draw','_onMapClick','set','DataSet','height','_canvasUpdate','destroy','__esModule','LayerUtil','animatorMoveendEvent','trails','animator','min','properties','add','render','all','cameraMoveEnd','initAnimator','fillRect','getData','context','concat','top','getSize','_data','pointCountMax','width','methods','stopAniamation','Polygon','off','processData','_mapVRenderer','mouseMove','parentElement','animatorMovestartEvent','argCheck','keys','style','push','MapVLayer','postRender','drawContext','devicePixelRatio','_cache_event','zIndex','display','getContext','start','unbindEvent','0px','size','scene','Cesium','222472hccysS','create','mapvDepthTest','xmax','dataSet','canvas','initDevicePixelRatio','5389584JHsnaQ'];_0x1883=function(){return _0x58ff97;};return _0x1883();}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x2010aa(0x1c1)][_0x2010aa(0x205)]['transferCoordinate']=function(_0x4957bb,_0x14ca80,_0x4c99cd,_0x5b7185){const _0x13cdb2={_0x2f540f:0x1b8,_0xfee952:0x1b5,_0xa92288:0x1dc,_0x499a77:0x201},_0x522805=_0x2010aa;_0x5b7185=_0x5b7185||_0x522805(_0x13cdb2._0x2f540f),_0x4c99cd=_0x4c99cd||'coordinates';for(let _0x1c08a2=0x0;_0x1c08a2<_0x4957bb[_0x522805(_0x13cdb2._0xfee952)];_0x1c08a2++){const _0x26e580=_0x4957bb[_0x1c08a2]['geometry'],_0xe3930f=_0x26e580[_0x4c99cd];switch(_0x26e580['type']){case'Point':{const _0x34362e=_0x14ca80(_0xe3930f);_0x34362e?_0x26e580[_0x5b7185]=_0x34362e:_0x26e580[_0x5b7185]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x419d28=[];for(let _0x2c2b0c=0x0;_0x2c2b0c<_0xe3930f['length'];_0x2c2b0c++){const _0x2db31e=_0x14ca80(_0xe3930f[_0x2c2b0c]);_0x2db31e&&_0x419d28['push'](_0x2db31e);}_0x26e580[_0x5b7185]=_0x419d28;}break;case'MultiLineString':case _0x522805(_0x13cdb2._0xa92288):{const _0x55ec4b=_0x3eeb86(_0xe3930f);_0x26e580[_0x5b7185]=_0x55ec4b;}break;case _0x522805(_0x13cdb2._0x499a77):{const _0x2a291f=[];for(let _0x1fc86a=0x0;_0x1fc86a<_0xe3930f['length'];_0x1fc86a++){const _0x2a49c6=_0x3eeb86(_0xe3930f[_0x1fc86a]);_0x2a49c6['length']>0x0&&_0x2a291f['push'](_0x2a49c6);}_0x26e580[_0x5b7185]=_0x2a291f;}break;}}function _0x3eeb86(_0x2b6a7d){const _0x2e3540=_0x522805,_0x2e9937=[];for(let _0x377e8a=0x0;_0x377e8a<_0x2b6a7d['length'];_0x377e8a++){const _0x53a6f7=_0x2b6a7d[_0x377e8a],_0x454f3c=[];for(let _0x108a36=0x0;_0x108a36<_0x53a6f7['length'];_0x108a36++){const _0x164dd1=_0x14ca80(_0x53a6f7[_0x108a36]);_0x164dd1&&_0x454f3c['push'](_0x164dd1);}_0x454f3c['length']>0x0&&_0x2e9937[_0x2e3540(0x1e6)](_0x454f3c);}return _0x2e9937;}return _0x4957bb;};else throw new Error(_0x2010aa(0x209));const Cesium=mars3d__namespace[_0x2010aa(0x1f4)],BaseLayer=mars3d__namespace[_0x2010aa(0x1bb)]['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0xb0ba46,_0x50dda9){super(_0xb0ba46),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x50dda9||new mapv__namespace['DataSet'](_0xb0ba46['data']),this['canvas']=null;}get[_0x2010aa(0x1b2)](){return this['_pointerEvents'];}set[_0x2010aa(0x1b2)](_0x31e959){const _0x2e9aa2={_0x2ba1b8:0x1fa,_0x2c79ab:0x1ce},_0x25bd84=_0x2010aa;this['_pointerEvents']=_0x31e959,this['canvas']&&(_0x31e959?this[_0x25bd84(_0x2e9aa2._0x2ba1b8)]['style'][_0x25bd84(0x1b2)]=_0x25bd84(_0x2e9aa2._0x2c79ab):this['canvas'][_0x25bd84(0x1e5)]['pointerEvents']='none');}['_showHook'](_0x44ed43){const _0x124cbf={_0x3009ac:0x1ed},_0xfc5ba4=_0x2010aa;_0x44ed43?this['canvas']['style']['display']='block':this['canvas']['style'][_0xfc5ba4(_0x124cbf._0x3009ac)]='none';}['_mountedHook'](){const _0x481ad0={_0x91c648:0x200,_0x373d04:0x1f3},_0x2edabb=_0x2010aa;this['_map']['scene'][_0x2edabb(0x1f7)]=this[_0x2edabb(_0x481ad0._0x91c648)]['depthTest']??!![],this['_map'][_0x2edabb(_0x481ad0._0x373d04)]['mapvAutoHeight']=this['options']['clampToGround']??![],this['_map']['scene']['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}[_0x2010aa(0x207)](){const _0x4654ba={_0x16c347:0x1f9,_0x4dfdaa:0x19d,_0x165636:0x1cd},_0x1bfa39=_0x2010aa;this['dataSet']&&(!this['dataSet'][_0x1bfa39(0x1d7)]||this[_0x1bfa39(_0x4654ba._0x16c347)]['_data']['length']===0x0)&&(this[_0x1bfa39(0x1f9)]['_data']=[][_0x1bfa39(0x1d4)](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x1bfa39(_0x4654ba._0x4dfdaa)],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this[_0x1bfa39(0x1cd)]=this[_0x1bfa39(_0x4654ba._0x165636)]['bind'](this),this['bindEvent'](),this[_0x1bfa39(0x199)]();}['_removedHook'](){const _0xa2441d={_0x194d23:0x1e1},_0x2626da=_0x2010aa;this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer'][_0x2626da(0x1c4)](),this['_mapVRenderer']=null),this['canvas'][_0x2626da(_0xa2441d._0x194d23)]['removeChild'](this['canvas']);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x56e050={_0x59b367:0x202,_0x624a05:0x1cf,_0x4659ac:0x20c,_0x4cdb77:0x1da,_0x40eb3a:0x1b0,_0x3863bc:0x1a5,_0x394a87:0x1e0,_0x4e94b4:0x19f},_0x461133=_0x2010aa;var _0xac85bb,_0x195a4a;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x461133(_0x56e050._0x59b367)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x461133(0x202)],this),this['_map']['on'](mars3d__namespace['EventType'][_0x461133(_0x56e050._0x624a05)],this[_0x461133(_0x56e050._0x4659ac)],this),(_0xac85bb=this['options'])!==null&&_0xac85bb!==void 0x0&&(_0xac85bb=_0xac85bb[_0x461133(_0x56e050._0x4cdb77)])!==null&&_0xac85bb!==void 0x0&&_0xac85bb['click']&&this[_0x461133(0x19d)]['on'](mars3d__namespace[_0x461133(_0x56e050._0x40eb3a)][_0x461133(_0x56e050._0x3863bc)],this['_onMapClick'],this),(_0x195a4a=this['options'])!==null&&_0x195a4a!==void 0x0&&(_0x195a4a=_0x195a4a['methods'])!==null&&_0x195a4a!==void 0x0&&_0x195a4a['mousemove']&&this['_map']['on'](mars3d__namespace[_0x461133(_0x56e050._0x40eb3a)][_0x461133(_0x56e050._0x394a87)],this[_0x461133(_0x56e050._0x4e94b4)],this);}[_0x2010aa(0x1f0)](){const _0x92c43f={_0x317a7f:0x1dd,_0x312ee1:0x202,_0x2f8ee8:0x1cf,_0x2b0df5:0x19d,_0x167bcf:0x1da,_0x5c2091:0x1bf},_0x32c93f=_0x2010aa;var _0x34bdf2,_0xd98165;this['_map']['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map'][_0x32c93f(_0x92c43f._0x317a7f)](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x32c93f(_0x92c43f._0x312ee1)],this),this['_map'][_0x32c93f(0x1dd)](mars3d__namespace['EventType'][_0x32c93f(_0x92c43f._0x2f8ee8)],this['_onMoveEndEvent'],this),this[_0x32c93f(_0x92c43f._0x2b0df5)][_0x32c93f(0x1dd)](mars3d__namespace[_0x32c93f(0x1b0)]['postRender'],this['_reset'],this),(_0x34bdf2=this[_0x32c93f(0x200)])!==null&&_0x34bdf2!==void 0x0&&(_0x34bdf2=_0x34bdf2[_0x32c93f(_0x92c43f._0x167bcf)])!==null&&_0x34bdf2!==void 0x0&&_0x34bdf2[_0x32c93f(0x1a5)]&&this[_0x32c93f(0x19d)]['off'](mars3d__namespace['EventType']['click'],this[_0x32c93f(_0x92c43f._0x5c2091)],this),(_0xd98165=this['options'])!==null&&_0xd98165!==void 0x0&&(_0xd98165=_0xd98165[_0x32c93f(_0x92c43f._0x167bcf)])!==null&&_0xd98165!==void 0x0&&_0xd98165['mousemove']&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x59e2fc=_0x2010aa;this['_mapVRenderer']&&(this[_0x59e2fc(0x1df)][_0x59e2fc(0x1e2)](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x59e2fc(0x199)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x2d4ded={_0x4dc881:0x1b0,_0x3c1a37:0x199},_0x1af943=_0x2010aa;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace[_0x1af943(_0x2d4ded._0x4dc881)][_0x1af943(0x1e8)],this[_0x1af943(0x199)],this),this['_mapVRenderer'][_0x1af943(0x1c7)](),this[_0x1af943(_0x2d4ded._0x3c1a37)]());}['_setOptionsHook'](_0x23d3ba,_0x1d63d0){this['_removedHook'](),this['_addedHook']();}['addData'](_0x857c1f){const _0x548870=_0x2010aa;this['_mapVRenderer']&&this['_mapVRenderer'][_0x548870(0x204)](_0x857c1f,this[_0x548870(0x200)]);}['updateData'](_0x35e9dd){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x35e9dd,this['options']);}['getData'](){return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x1cab2c){const _0x15b281={_0x3de31a:0x1a8},_0x7097c3=_0x2010aa;this['_mapVRenderer']&&this[_0x7097c3(0x1df)][_0x7097c3(_0x15b281._0x3de31a)](_0x1cab2c);}['removeAllData'](){const _0x222341={_0x567418:0x1df},_0x1ea5a3=_0x2010aa;this[_0x1ea5a3(_0x222341._0x567418)]&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x254a1d={_0x33d2c6:0x1d5,_0x1c7a0:0x1d9,_0x33d1c2:0x1e5,_0xd3c811:0x1ec,_0xedbcdc:0x1ee},_0x4217d7=_0x2010aa,_0x30ba35=mars3d__namespace['DomUtil'][_0x4217d7(0x1f6)]('canvas','mars3d-mapv',this['_map']['container']);_0x30ba35['id']=this['id'],_0x30ba35['style']['position']='absolute',_0x30ba35['style'][_0x4217d7(_0x254a1d._0x33d2c6)]='0px',_0x30ba35['style']['left']='0px',_0x30ba35['width']=parseInt(this['_map']['canvas'][_0x4217d7(_0x254a1d._0x1c7a0)]),_0x30ba35['height']=parseInt(this['_map']['canvas']['height']),_0x30ba35[_0x4217d7(0x1e5)][_0x4217d7(0x1d9)]=this['_map']['canvas'][_0x4217d7(0x1e5)]['width'],_0x30ba35['style'][_0x4217d7(0x1c2)]=this['_map']['canvas']['style']['height'],_0x30ba35[_0x4217d7(0x1e5)][_0x4217d7(0x1b2)]=this['_pointerEvents']?'auto':'none',_0x30ba35[_0x4217d7(_0x254a1d._0x33d1c2)]['zIndex']=this[_0x4217d7(0x200)][_0x4217d7(_0x254a1d._0xd3c811)]??0x9;if(this[_0x4217d7(0x200)]['context']==='2d'){const _0xdb72ec=this['devicePixelRatio'];_0x30ba35[_0x4217d7(_0x254a1d._0xedbcdc)](this['options'][_0x4217d7(0x1d3)])['scale'](_0xdb72ec,_0xdb72ec);}return _0x30ba35;}['_reset'](){this['resize'](),this['render']();}['draw'](){const _0x43361f={_0x5acc4c:0x199},_0x2d8db0=_0x2010aa;this[_0x2d8db0(_0x43361f._0x5acc4c)]();}['remove'](){this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['render'](){const _0x4a8fc7=_0x2010aa;this['_mapVRenderer'][_0x4a8fc7(0x1c3)]();}['resize'](){const _0x22934d={_0x186252:0x1e5,_0xcceead:0x1f1,_0x5537e2:0x19d,_0x158864:0x1d9,_0x2d3667:0x1d9},_0xad544d=_0x2010aa;if(this['canvas']){const _0x1df531=this['canvas'];_0x1df531['style']['position']='absolute',_0x1df531[_0xad544d(_0x22934d._0x186252)][_0xad544d(0x1d5)]=_0xad544d(_0x22934d._0xcceead),_0x1df531['style']['left']='0px',_0x1df531['width']=parseInt(this[_0xad544d(_0x22934d._0x5537e2)]['canvas'][_0xad544d(_0x22934d._0x158864)]),_0x1df531['height']=parseInt(this['_map'][_0xad544d(0x1fa)]['height']),_0x1df531['style'][_0xad544d(0x1d9)]=this['_map']['canvas']['style'][_0xad544d(_0x22934d._0x2d3667)],_0x1df531['style']['height']=this['_map']['canvas']['style']['height'];}}['getRectangle'](_0x2d3671){const _0x1a56e5={_0x8737c0:0x1d7,_0x46c43f:0x1bc,_0xc75b8:0x1f8},_0x339848=_0x2010aa;if(!this['dataSet']||!this[_0x339848(0x1f9)][_0x339848(_0x1a56e5._0x8737c0)])return;const _0xa76ded=mars3d__namespace['Util'][_0x339848(0x1a1)]({'type':'FeatureCollection','features':this[_0x339848(0x1f9)]['_data']});if(!_0xa76ded)return;return _0x2d3671!==null&&_0x2d3671!==void 0x0&&_0x2d3671[_0x339848(0x1fd)]?_0xa76ded:Cesium[_0x339848(_0x1a56e5._0x46c43f)]['fromDegrees'](_0xa76ded['xmin'],_0xa76ded['ymin'],_0xa76ded[_0x339848(_0x1a56e5._0xc75b8)],_0xa76ded['ymax']);}['_onMapClick'](_0x58ee95){const _0x107e4d={_0x2977a7:0x1df},_0x2320a8=_0x2010aa;this[_0x2320a8(0x1eb)]=_0x58ee95,this['_mapVRenderer']&&this[_0x2320a8(_0x107e4d._0x2977a7)]['clickEvent'](_0x58ee95['windowPosition'],_0x58ee95);}[_0x2010aa(0x19f)](_0x3c85af){this['_cache_event']=_0x3c85af,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x3c85af['windowPosition'],_0x3c85af);}['on'](_0x54742a,_0x5893f6,_0x222579){const _0x5a8764={_0x4aafd6:0x200,_0x511bc8:0x1da,_0x2b1842:0x1b0,_0x3db037:0x1a5},_0x43367d={_0x5e399e:0x1eb},_0x1289e0={_0x9ea976:0x1eb},_0x2b7499=_0x2010aa;this[_0x2b7499(0x200)]['methods']=this[_0x2b7499(_0x5a8764._0x4aafd6)]['methods']||{};if(_0x54742a===mars3d__namespace['EventType']['click'])this['options'][_0x2b7499(_0x5a8764._0x511bc8)]['click']=_0x27bfe5=>{const _0x59dc04=_0x2b7499;_0x27bfe5&&_0x5893f6['bind'](_0x222579)({...this[_0x59dc04(_0x1289e0._0x9ea976)],'layer':this,'data':_0x27bfe5});},this['_map']['on'](mars3d__namespace[_0x2b7499(_0x5a8764._0x2b1842)][_0x2b7499(_0x5a8764._0x3db037)],this['_onMapClick'],this);else _0x54742a===mars3d__namespace['EventType'][_0x2b7499(0x1e0)]&&(this[_0x2b7499(0x200)]['methods'][_0x2b7499(0x19e)]=_0x34aa90=>{const _0x1316c8=_0x2b7499;_0x34aa90&&_0x5893f6['bind'](_0x222579)({...this[_0x1316c8(_0x43367d._0x5e399e)],'layer':this,'data':_0x34aa90});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}[_0x2010aa(0x1dd)](_0x533699,_0x58e326){const _0x3b6bed={_0x939096:0x1e0,_0x4eee4b:0x19e},_0x1c84a6=_0x2010aa;if(_0x533699===_0x1c84a6(0x1a5)){var _0x3de924;this['_map']['off'](_0x533699,this['_onMapClick'],this),(_0x3de924=this['options']['methods'])!==null&&_0x3de924!==void 0x0&&_0x3de924['mousemove']&&delete this[_0x1c84a6(0x200)]['methods']['click'];}else{if(_0x533699===_0x1c84a6(_0x3b6bed._0x939096)){var _0x1bdafe;this['_map'][_0x1c84a6(0x1dd)](_0x533699,this['_onMapMouseMove'],this),(_0x1bdafe=this['options'][_0x1c84a6(0x1da)])!==null&&_0x1bdafe!==void 0x0&&_0x1bdafe['mousemove']&&delete this['options']['methods'][_0x1c84a6(_0x3b6bed._0x4eee4b)];}}return this;}}mars3d__namespace[_0x2010aa(0x1c6)]['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0x2010aa(0x1e7)]=MapVLayer,Object['keys'](mapv)[_0x2010aa(0x1a2)](function(_0x245c76){if(_0x245c76!=='default'&&!exports['hasOwnProperty'](_0x245c76))Object['defineProperty'](exports,_0x245c76,{'enumerable':!![],'get':function(){return mapv[_0x245c76];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
