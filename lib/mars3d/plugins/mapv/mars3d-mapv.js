/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.11
 * 编译日期：2023-11-02 17:47:10
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x438c3f=_0x2305;function _0x2e44(){const _0x5995de=['_createCanvas','scene','map','context','default','getData','Cesium','_pointerEvents','canvasLayer','689776KwwgSq','trails','mapvDepthTest','style','_canvasUpdate','devicePixelRatio','416690CJrKsG','zIndex','pointerEvents','9fGklRW','top','1338924EiupQr','removeData','0px','_mountedHook','259931xuzGZo','Rectangle','_onMapMouseMove','bind','updateCallback','_addedHook','DataSet','height','destroy','mapv','width','Cartographic','container','_onMoveStartEvent','time','parentElement','render','rgba(0,\x200,\x200,\x20.1)','_coordinates','_mapVRenderer','MultiLineString','update','unbindEvent','position','_cache_event','clearData','EventType','off','mars3d-mapv','getContext','Polygon','clear','请引入\x20mapv\x20库\x20','5721528rqaAdD','ymin','initAnimator','1778418bAVMjc','get','animation','xmax','defineProperty','animator','initDevicePixelRatio','camera','dataSet','postRender','options','mouseDown','all','_reset','_map','coordinates','remove','275zpCCwz','methods','15jCMQwX','length','push','_onMapClick','mousemove','DomUtil','windowPosition','Cartesian3','clickEvent','isEnabledTime','1151272jBNaoU','cartesianToCanvasCoordinates','mode','filter','_showHook','2NALmuk','absolute','draw','clearRect','canvas','35LqYpai','mapvAutoHeight','mouseMove','destination-out','init','addAnimatorEvent'];_0x2e44=function(){return _0x5995de;};return _0x2e44();}(function(_0x1d4e85,_0x1f5cdd){const _0x2c71a2={_0x808120:0x135,_0x275a2b:0x112,_0x449439:0xf0,_0x2b819d:0x103,_0x4a446f:0x117},_0x1217aa=_0x2305,_0x24f0ce=_0x1d4e85();while(!![]){try{const _0x461bb2=parseInt(_0x1217aa(_0x2c71a2._0x808120))/0x1*(-parseInt(_0x1217aa(_0x2c71a2._0x275a2b))/0x2)+-parseInt(_0x1217aa(_0x2c71a2._0x449439))/0x3+-parseInt(_0x1217aa(0x10d))/0x4*(parseInt(_0x1217aa(_0x2c71a2._0x2b819d))/0x5)+-parseInt(_0x1217aa(0xed))/0x6+parseInt(_0x1217aa(_0x2c71a2._0x4a446f))/0x7*(parseInt(_0x1217aa(0x126))/0x8)+parseInt(_0x1217aa(0x12f))/0x9*(-parseInt(_0x1217aa(0x12c))/0xa)+-parseInt(_0x1217aa(0x101))/0xb*(-parseInt(_0x1217aa(0x131))/0xc);if(_0x461bb2===_0x1f5cdd)break;else _0x24f0ce['push'](_0x24f0ce['shift']());}catch(_0x573024){_0x24f0ce['push'](_0x24f0ce['shift']());}}}(_0x2e44,0x7c49f));function _interopNamespace(_0x2c1c3a){const _0x18a669={_0x153584:0x121,_0x2137d7:0xf4};if(_0x2c1c3a&&_0x2c1c3a['__esModule'])return _0x2c1c3a;var _0x2286a0=Object['create'](null);return _0x2c1c3a&&Object['keys'](_0x2c1c3a)['forEach'](function(_0xb75d5c){const _0x21631e=_0x2305;if(_0xb75d5c!==_0x21631e(_0x18a669._0x153584)){var _0x2c692b=Object['getOwnPropertyDescriptor'](_0x2c1c3a,_0xb75d5c);Object[_0x21631e(_0x18a669._0x2137d7)](_0x2286a0,_0xb75d5c,_0x2c692b[_0x21631e(0xf1)]?_0x2c692b:{'enumerable':!![],'get':function(){return _0x2c1c3a[_0xb75d5c];}});}}),_0x2286a0['default']=_0x2c1c3a,_0x2286a0;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x2305(_0x239430,_0xbcce3f){const _0x2e44d8=_0x2e44();return _0x2305=function(_0x230545,_0x50fbd5){_0x230545=_0x230545-0xed;let _0x5a1d3b=_0x2e44d8[_0x230545];return _0x5a1d3b;},_0x2305(_0x239430,_0xbcce3f);}const Cesium$1=mars3d__namespace[_0x438c3f(0x123)],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0xb08fca,_0x3b3976,_0x41db56,_0x71c2ff){const _0x1eeb61={_0x30c726:0xf8},_0x330998=_0x438c3f;super(_0xb08fca,_0x3b3976,_0x41db56);if(!BaseLayer$1)return;this[_0x330998(0x11f)]=_0xb08fca,this['scene']=_0xb08fca['scene'],this[_0x330998(_0x1eeb61._0x30c726)]=_0x3b3976,_0x41db56=_0x41db56||{},this[_0x330998(0x11b)](_0x41db56),this['argCheck'](_0x41db56),this['initDevicePixelRatio'](),this['canvasLayer']=_0x71c2ff,this['stopAniamation']=!0x1,this['animation']=_0x41db56[_0x330998(0xf2)];}[_0x438c3f(0xf6)](){const _0xb48b6c={_0x2670b8:0x12b},_0x505d44=_0x438c3f;this[_0x505d44(_0xb48b6c._0x2670b8)]=window[_0x505d44(0x12b)]||0x1;}[_0x438c3f(0x11c)](){}['animatorMovestartEvent'](){const _0x6b364e={_0x17fae9:0x10c},_0x398abe=_0x438c3f,_0x5a22a8=this['options']['animation'];this[_0x398abe(_0x6b364e._0x17fae9)]()&&this['animator']&&(this['steps']['step']=_0x5a22a8['stepsRange']['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x50ef38=_0x438c3f;return this['canvasLayer']['canvas'][_0x50ef38(0x152)](this['context']);}['init'](_0x13e5d2){const _0x528180={_0x1a2fa2:0xfa,_0x208a89:0x125,_0x4a7800:0x125,_0x38cfa1:0xef},_0x433295=_0x438c3f;this[_0x433295(_0x528180._0x1a2fa2)]=_0x13e5d2,this['initDataRange'](_0x13e5d2),this['context']=this['options']['context']||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this[_0x433295(_0x528180._0x208a89)]['setZIndex']&&this[_0x433295(_0x528180._0x4a7800)]['setZIndex'](this['options']['zIndex']),this[_0x433295(_0x528180._0x38cfa1)]();}['_canvasUpdate'](_0x468129){const _0x113aa8={_0x36befd:0x154,_0x4d7e71:0x11a,_0x377ad4:0x13f,_0x49a6a9:0xfa,_0x3ad827:0x139},_0x32b2c5={_0x1b5837:0x127},_0x5d2037={_0x4e8737:0x10e,_0x5450a7:0xf7},_0x35fb4a=_0x438c3f,_0xc2cfe5=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x10398e=this['options']['animation'],_0x2000c2=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x468129)return void this[_0x35fb4a(_0x113aa8._0x36befd)](_0x2000c2);this[_0x35fb4a(0x120)]==='2d'&&(_0x2000c2['save'](),_0x2000c2['globalCompositeOperation']=_0x35fb4a(_0x113aa8._0x4d7e71),_0x2000c2['fillStyle']=_0x35fb4a(0x146),_0x2000c2['fillRect'](0x0,0x0,_0x2000c2['canvas'][_0x35fb4a(_0x113aa8._0x377ad4)],_0x2000c2['canvas']['height']),_0x2000c2['restore']());}else this['clear'](_0x2000c2);if(this['context']==='2d')for(const _0x3be119 in this[_0x35fb4a(_0x113aa8._0x49a6a9)]){_0x2000c2[_0x3be119]=this['options'][_0x3be119];}else _0x2000c2['clear'](_0x2000c2['COLOR_BUFFER_BIT']);const _0x21e389={'transferCoordinate':function(_0x5f1c9b){const _0x5c9b96=_0x35fb4a,_0x52004d=null;let _0x31c3d2=_0xc2cfe5['mapvFixedHeight'];_0xc2cfe5[_0x5c9b96(0x118)]&&(_0x31c3d2=_0xc2cfe5['globe']['getHeight'](Cesium$1[_0x5c9b96(0x140)]['fromDegrees'](_0x5f1c9b[0x0],_0x5f1c9b[0x1])));const _0x2e98d0=Cesium$1['Cartesian3']['fromDegrees'](_0x5f1c9b[0x0],_0x5f1c9b[0x1],_0x31c3d2);if(!_0x2e98d0)return _0x52004d;const _0x328500=_0xc2cfe5[_0x5c9b96(_0x5d2037._0x4e8737)](_0x2e98d0);if(!_0x328500)return _0x52004d;if(_0xc2cfe5[_0x5c9b96(0x128)]&&_0xc2cfe5[_0x5c9b96(0x10f)]===Cesium$1['SceneMode']['SCENE3D']){const _0xe963=new Cesium$1['EllipsoidalOccluder'](_0xc2cfe5['globe']['ellipsoid'],_0xc2cfe5[_0x5c9b96(_0x5d2037._0x5450a7)]['positionWC']),_0x435a33=_0xe963['isPointVisible'](_0x2e98d0);if(!_0x435a33)return _0x52004d;}return[_0x328500['x'],_0x328500['y']];}};void 0x0!==_0x468129&&(_0x21e389[_0x35fb4a(0x110)]=function(_0x3d379c){const _0x46a301=_0x35fb4a,_0x5010be=_0x10398e[_0x46a301(_0x32b2c5._0x1b5837)]||0xa;return!!(_0x468129&&_0x3d379c[_0x46a301(0x143)]>_0x468129-_0x5010be&&_0x3d379c['time']<_0x468129);});const _0xd4afab=this['dataSet']['get'](_0x21e389);this['processData'](_0xd4afab),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x4f3ec8=_0xc2cfe5['cartesianToCanvasCoordinates'](Cesium$1[_0x35fb4a(0x10a)]['fromDegrees'](0x0,0x0));if(!_0x4f3ec8)return;this['drawContext'](_0x2000c2,new mapv__namespace['DataSet'](_0xd4afab),this['options'],_0x4f3ec8),this[_0x35fb4a(0xfa)][_0x35fb4a(_0x113aa8._0x3ad827)]&&this[_0x35fb4a(_0x113aa8._0x49a6a9)]['updateCallback'](_0x468129);}}['updateData'](_0xe0fcc4,_0x3bab7b){const _0x1622a2={_0x6531ea:0xf1,_0x4f015d:0x14a},_0xb44a1e=_0x438c3f;let _0x2065a8=_0xe0fcc4;_0x2065a8&&_0x2065a8['get']&&(_0x2065a8=_0x2065a8[_0xb44a1e(_0x1622a2._0x6531ea)]()),void 0x0!==_0x2065a8&&this['dataSet']['set'](_0x2065a8),super[_0xb44a1e(_0x1622a2._0x4f015d)]({'options':_0x3bab7b});}['addData'](_0x26cb48,_0x396a59){let _0xc7db2e=_0x26cb48;_0x26cb48&&_0x26cb48['get']&&(_0xc7db2e=_0x26cb48['get']()),this['dataSet']['add'](_0xc7db2e),this['update']({'options':_0x396a59});}['getData'](){const _0x2f967d=_0x438c3f;return this[_0x2f967d(0xf8)];}['removeData'](_0x1e0e05){const _0x175808={_0x3346dd:0xf8},_0x1e3854=_0x438c3f;if(this['dataSet']){const _0x3e9085=this[_0x1e3854(_0x175808._0x3346dd)]['get']({'filter':function(_0x1f8afd){return _0x1e0e05==null||typeof _0x1e0e05!=='function'||!_0x1e0e05(_0x1f8afd);}});this['dataSet']['set'](_0x3e9085),this['update']({'options':null});}}['clearData'](){const _0x89b0ab=_0x438c3f;this[_0x89b0ab(0xf8)]&&this[_0x89b0ab(0xf8)]['clear'](),this['update']({'options':null});}[_0x438c3f(0x114)](){this['canvasLayer']['draw']();}['clear'](_0x32cf91){const _0x165293=_0x438c3f;_0x32cf91&&_0x32cf91['clearRect']&&_0x32cf91[_0x165293(0x115)](0x0,0x0,_0x32cf91[_0x165293(0x116)][_0x165293(0x13f)],_0x32cf91['canvas']['height']);}['destroy'](){const _0x5f0229={_0x5344fc:0x154,_0xcfd602:0xf5},_0xbdb3a6=_0x438c3f;this[_0xbdb3a6(_0x5f0229._0x5344fc)](this['getContext']()),this['clearData'](),this['animator']&&this[_0xbdb3a6(_0x5f0229._0xcfd602)]['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x438c3f(0x13b)])mapv__namespace[_0x438c3f(0x13b)]['prototype']['transferCoordinate']=function(_0x2753b4,_0xe02d1d,_0x234369,_0x9a6c64){const _0x5a2d21={_0xf76499:0x147,_0x27c543:0x149,_0x243b8d:0x153},_0x304a1c={_0x181e22:0x104},_0x385a57=_0x438c3f;_0x9a6c64=_0x9a6c64||_0x385a57(_0x5a2d21._0xf76499),_0x234369=_0x234369||_0x385a57(0xff);for(let _0x1046db=0x0;_0x1046db<_0x2753b4['length'];_0x1046db++){const _0x186eec=_0x2753b4[_0x1046db]['geometry'],_0x114521=_0x186eec[_0x234369];switch(_0x186eec['type']){case'Point':{const _0x59c604=_0xe02d1d(_0x114521);_0x59c604?_0x186eec[_0x9a6c64]=_0x59c604:_0x186eec[_0x9a6c64]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x19086b=[];for(let _0x2f33dd=0x0;_0x2f33dd<_0x114521['length'];_0x2f33dd++){const _0x1a4a24=_0xe02d1d(_0x114521[_0x2f33dd]);_0x1a4a24&&_0x19086b['push'](_0x1a4a24);}_0x186eec[_0x9a6c64]=_0x19086b;}break;case _0x385a57(_0x5a2d21._0x27c543):case _0x385a57(_0x5a2d21._0x243b8d):{const _0xfb9cc7=_0x169287(_0x114521);_0x186eec[_0x9a6c64]=_0xfb9cc7;}break;case'MultiPolygon':{const _0x42ee24=[];for(let _0x31e52d=0x0;_0x31e52d<_0x114521[_0x385a57(0x104)];_0x31e52d++){const _0x2cc3ba=_0x169287(_0x114521[_0x31e52d]);_0x2cc3ba[_0x385a57(0x104)]>0x0&&_0x42ee24[_0x385a57(0x105)](_0x2cc3ba);}_0x186eec[_0x9a6c64]=_0x42ee24;}break;}}function _0x169287(_0x3d7e67){const _0x4eb62b=_0x385a57,_0x43513a=[];for(let _0x11bae2=0x0;_0x11bae2<_0x3d7e67[_0x4eb62b(_0x304a1c._0x181e22)];_0x11bae2++){const _0x573ba9=_0x3d7e67[_0x11bae2],_0xbb81c7=[];for(let _0x49fead=0x0;_0x49fead<_0x573ba9[_0x4eb62b(0x104)];_0x49fead++){const _0x12bd0e=_0xe02d1d(_0x573ba9[_0x49fead]);_0x12bd0e&&_0xbb81c7['push'](_0x12bd0e);}_0xbb81c7[_0x4eb62b(0x104)]>0x0&&_0x43513a['push'](_0xbb81c7);}return _0x43513a;}return _0x2753b4;};else throw new Error(_0x438c3f(0x155));const Cesium=mars3d__namespace[_0x438c3f(0x123)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x3004a5,_0x3de7eb){const _0x5789e7={_0x4add80:0x124,_0xedd3db:0x116},_0x407f2c=_0x438c3f;super(_0x3004a5),this[_0x407f2c(_0x5789e7._0x4add80)]=this['options']['pointerEvents'],this[_0x407f2c(0xf8)]=_0x3de7eb||new mapv__namespace['DataSet'](_0x3004a5['data']),this[_0x407f2c(_0x5789e7._0xedd3db)]=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x3a6b27){const _0x1d9c17={_0x261fe7:0xfc,_0x1aa608:0x12e},_0x14e216=_0x438c3f;this['_pointerEvents']=_0x3a6b27,this['canvas']&&(_0x3a6b27?this[_0x14e216(0x116)]['style']['pointerEvents']=_0x14e216(_0x1d9c17._0x261fe7):this['canvas']['style'][_0x14e216(_0x1d9c17._0x1aa608)]='none');}[_0x438c3f(0x111)](_0xf18339){const _0x59c34e={_0x4dbef1:0x129},_0x972e7d=_0x438c3f;_0xf18339?this['canvas']['style']['display']='block':this['canvas'][_0x972e7d(_0x59c34e._0x4dbef1)]['display']='none';}[_0x438c3f(0x134)](){const _0x317f46={_0x5e0ba5:0xfe,_0x3544ac:0x118,_0x293a05:0xfa},_0x2b3f6c=_0x438c3f;this[_0x2b3f6c(_0x317f46._0x5e0ba5)]['scene'][_0x2b3f6c(0x128)]=this['options']['depthTest']??!![],this['_map'][_0x2b3f6c(0x11e)][_0x2b3f6c(_0x317f46._0x3544ac)]=this['options']['clampToGround']??![],this[_0x2b3f6c(0xfe)][_0x2b3f6c(0x11e)]['mapvFixedHeight']=this[_0x2b3f6c(_0x317f46._0x293a05)]['fixedHeight']??0x0;}[_0x438c3f(0x13a)](){const _0x5f5566={_0x5506cf:0x148,_0x29d549:0x145},_0x31a3f6=_0x438c3f;this['dataSet']&&(!this[_0x31a3f6(0xf8)]['_data']||this['dataSet']['_data']['length']===0x0)&&(this['dataSet']['_data']=[]['concat'](this['dataSet']['_dataCache'])),this[_0x31a3f6(_0x5f5566._0x5506cf)]=new MapVRenderer(this['_map'],this[_0x31a3f6(0xf8)],this['options'],this),this['initDevicePixelRatio'](),this[_0x31a3f6(0x116)]=this[_0x31a3f6(0x11d)](),this[_0x31a3f6(_0x5f5566._0x29d549)]=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}['_removedHook'](){const _0xb98bb2={_0x31c9b0:0x148,_0x4845e2:0x144},_0x24f3ac=_0x438c3f;this['unbindEvent'](),this['_mapVRenderer']&&(this[_0x24f3ac(_0xb98bb2._0x31c9b0)][_0x24f3ac(0x13d)](),this['_mapVRenderer']=null),this['canvas'][_0x24f3ac(_0xb98bb2._0x4845e2)]['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0xb6fbb8=_0x438c3f;this[_0xb6fbb8(0x12b)]=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x56aa5c={_0x3ec189:0xfb,_0x5970c7:0xfa},_0x48af52=_0x438c3f;var _0x15fcfd,_0x12d2f1;this['_map']['on'](mars3d__namespace['EventType'][_0x48af52(_0x56aa5c._0x3ec189)],this[_0x48af52(0x142)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x48af52(0x142)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x15fcfd=this['options'])!==null&&_0x15fcfd!==void 0x0&&(_0x15fcfd=_0x15fcfd['methods'])!==null&&_0x15fcfd!==void 0x0&&_0x15fcfd['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x12d2f1=this[_0x48af52(_0x56aa5c._0x5970c7)])!==null&&_0x12d2f1!==void 0x0&&(_0x12d2f1=_0x12d2f1['methods'])!==null&&_0x12d2f1!==void 0x0&&_0x12d2f1['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}[_0x438c3f(0x14b)](){const _0x52fe45={_0x118e27:0xfe,_0x9b8d1b:0xfe,_0x34e6f2:0x14f,_0x14aa5b:0x106},_0x1d9331=_0x438c3f;var _0x33203f,_0x227a32;this[_0x1d9331(_0x52fe45._0x118e27)]['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this[_0x1d9331(0xfe)]['off'](mars3d__namespace[_0x1d9331(0x14f)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x1d9331(_0x52fe45._0x9b8d1b)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x33203f=this['options'])!==null&&_0x33203f!==void 0x0&&(_0x33203f=_0x33203f['methods'])!==null&&_0x33203f!==void 0x0&&_0x33203f['click']&&this[_0x1d9331(0xfe)]['off'](mars3d__namespace[_0x1d9331(_0x52fe45._0x34e6f2)]['click'],this[_0x1d9331(_0x52fe45._0x14aa5b)],this),(_0x227a32=this[_0x1d9331(0xfa)])!==null&&_0x227a32!==void 0x0&&(_0x227a32=_0x227a32['methods'])!==null&&_0x227a32!==void 0x0&&_0x227a32['mousemove']&&this['_map']['off'](mars3d__namespace[_0x1d9331(0x14f)]['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x2edfeb={_0x574395:0x150,_0x3779df:0xfd,_0x51f9f0:0x14f},_0xb28559=_0x438c3f;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map'][_0xb28559(_0x2edfeb._0x574395)](mars3d__namespace['EventType']['postRender'],this[_0xb28559(_0x2edfeb._0x3779df)],this),this['_map']['on'](mars3d__namespace[_0xb28559(_0x2edfeb._0x51f9f0)]['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x5d40aa={_0x29ed0a:0xfe,_0x40c349:0x150,_0xe32650:0xf9},_0x2cc0c8=_0x438c3f;this[_0x2cc0c8(0x148)]&&(this[_0x2cc0c8(_0x5d40aa._0x29ed0a)][_0x2cc0c8(_0x5d40aa._0x40c349)](mars3d__namespace['EventType'][_0x2cc0c8(_0x5d40aa._0xe32650)],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x18998b,_0x3969dc){const _0x5d8215=_0x438c3f;this['_removedHook'](),this[_0x5d8215(0x13a)]();}['addData'](_0x10cc0b){const _0x361099=_0x438c3f;this['_mapVRenderer']&&this[_0x361099(0x148)]['addData'](_0x10cc0b,this['options']);}['updateData'](_0x321cab){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x321cab,this['options']);}['getData'](){const _0x273524={_0xc5fc73:0x122},_0x381859=_0x438c3f;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer'][_0x381859(_0x273524._0xc5fc73)]()),this['dataSet'];}[_0x438c3f(0x132)](_0x10ccb7){const _0x2a22dc={_0x2ddfeb:0x148},_0x3ee954=_0x438c3f;this[_0x3ee954(_0x2a22dc._0x2ddfeb)]&&this[_0x3ee954(0x148)]['removeData'](_0x10ccb7);}['removeAllData'](){const _0x25ed60=_0x438c3f;this['_mapVRenderer']&&this['_mapVRenderer'][_0x25ed60(0x14e)]();}[_0x438c3f(0x11d)](){const _0x98ef0b={_0x3b2929:0x108,_0xa703e6:0x116,_0x4e56a9:0x141,_0x14f6d0:0x129,_0x4ffdba:0xfe,_0x4feb01:0xfe,_0xda7519:0x13f,_0x15f6d3:0x13c,_0x5082d4:0x120,_0xc8f72d:0x120},_0x362235=_0x438c3f,_0x394104=mars3d__namespace[_0x362235(_0x98ef0b._0x3b2929)]['create'](_0x362235(_0x98ef0b._0xa703e6),_0x362235(0x151),this['_map'][_0x362235(_0x98ef0b._0x4e56a9)]);_0x394104['id']=this['id'],_0x394104[_0x362235(_0x98ef0b._0x14f6d0)]['position']='absolute',_0x394104['style'][_0x362235(0x130)]='0px',_0x394104['style']['left']=_0x362235(0x133),_0x394104['width']=parseInt(this[_0x362235(_0x98ef0b._0x4ffdba)]['canvas']['width']),_0x394104['height']=parseInt(this[_0x362235(_0x98ef0b._0x4feb01)]['canvas']['height']),_0x394104[_0x362235(0x129)][_0x362235(_0x98ef0b._0xda7519)]=this['_map']['canvas']['style']['width'],_0x394104['style'][_0x362235(_0x98ef0b._0x15f6d3)]=this[_0x362235(0xfe)]['canvas']['style']['height'],_0x394104['style']['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x394104['style']['zIndex']=this['options'][_0x362235(0x12d)]??0x9;if(this[_0x362235(0xfa)][_0x362235(_0x98ef0b._0x5082d4)]==='2d'){const _0x58a33b=this['devicePixelRatio'];_0x394104['getContext'](this['options'][_0x362235(_0x98ef0b._0xc8f72d)])['scale'](_0x58a33b,_0x58a33b);}return _0x394104;}['_reset'](){this['resize'](),this['render']();}['draw'](){this['_reset']();}[_0x438c3f(0x100)](){const _0x69b247={_0x1f8010:0x148,_0x308506:0x116},_0x38044e=_0x438c3f;this[_0x38044e(_0x69b247._0x1f8010)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this[_0x38044e(_0x69b247._0x308506)]);}['render'](){const _0x889598={_0x489a66:0x12a},_0x4d5b00=_0x438c3f;this['_mapVRenderer'][_0x4d5b00(_0x889598._0x489a66)]();}['resize'](){const _0x897a99={_0x184e21:0x116,_0x22897e:0x116,_0x26ad7d:0x13c},_0x281f4c=_0x438c3f;if(this[_0x281f4c(0x116)]){const _0x3bae23=this[_0x281f4c(_0x897a99._0x184e21)];_0x3bae23['style'][_0x281f4c(0x14c)]=_0x281f4c(0x113),_0x3bae23['style']['top']='0px',_0x3bae23['style']['left']='0px',_0x3bae23['width']=parseInt(this['_map'][_0x281f4c(_0x897a99._0x22897e)]['width']),_0x3bae23['height']=parseInt(this['_map']['canvas']['height']),_0x3bae23[_0x281f4c(0x129)]['width']=this[_0x281f4c(0xfe)]['canvas'][_0x281f4c(0x129)]['width'],_0x3bae23[_0x281f4c(0x129)]['height']=this['_map'][_0x281f4c(_0x897a99._0x22897e)]['style'][_0x281f4c(_0x897a99._0x26ad7d)];}}['getRectangle'](_0x2b4783){const _0x12db5a={_0x2382e4:0xf8,_0x6093e:0xee,_0x452e29:0xf3},_0x381464=_0x438c3f;if(!this[_0x381464(_0x12db5a._0x2382e4)]||!this[_0x381464(0xf8)]['_data'])return;const _0x35c63c=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x35c63c)return;return _0x2b4783!==null&&_0x2b4783!==void 0x0&&_0x2b4783['isFormat']?_0x35c63c:Cesium[_0x381464(0x136)]['fromDegrees'](_0x35c63c['xmin'],_0x35c63c[_0x381464(_0x12db5a._0x6093e)],_0x35c63c[_0x381464(_0x12db5a._0x452e29)],_0x35c63c['ymax']);}[_0x438c3f(0x106)](_0x2afc5c){const _0x179444={_0x459bfa:0x14d,_0x2f12e4:0x10b},_0xdbe8eb=_0x438c3f;this[_0xdbe8eb(_0x179444._0x459bfa)]=_0x2afc5c,this['_mapVRenderer']&&this['_mapVRenderer'][_0xdbe8eb(_0x179444._0x2f12e4)](_0x2afc5c['windowPosition'],_0x2afc5c);}[_0x438c3f(0x137)](_0x3eef6f){const _0x30dbca=_0x438c3f;this[_0x30dbca(0x14d)]=_0x3eef6f,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x3eef6f[_0x30dbca(0x109)],_0x3eef6f);}['on'](_0x42b3ac,_0x34705c,_0x548a8d){const _0xe8594e={_0x1f87ac:0x102,_0x2e0550:0xfa,_0x29d42e:0xfe},_0x316367={_0x306f84:0x138},_0x40e789=_0x438c3f;this['options'][_0x40e789(_0xe8594e._0x1f87ac)]=this['options']['methods']||{};if(_0x42b3ac===mars3d__namespace['EventType']['click'])this[_0x40e789(_0xe8594e._0x2e0550)]['methods']['click']=_0x1576dc=>{const _0x36de60=_0x40e789;_0x1576dc&&_0x34705c[_0x36de60(_0x316367._0x306f84)](_0x548a8d)({...this['_cache_event'],'layer':this,'data':_0x1576dc});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x42b3ac===mars3d__namespace['EventType'][_0x40e789(0x119)]&&(this[_0x40e789(0xfa)][_0x40e789(_0xe8594e._0x1f87ac)]['mousemove']=_0x402a5f=>{const _0x2c44ce=_0x40e789;_0x402a5f&&_0x34705c[_0x2c44ce(0x138)](_0x548a8d)({...this['_cache_event'],'layer':this,'data':_0x402a5f});},this[_0x40e789(_0xe8594e._0x29d42e)]['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x40e789(0x137)],this));return this;}['off'](_0x3a801b,_0xc8a621){const _0x558334={_0x53cdd8:0x102,_0xe29d7:0x107,_0x3e3728:0x102,_0x436ed8:0x150},_0x17865c=_0x438c3f;if(_0x3a801b==='click'){var _0x55117d;this['_map']['off'](_0x3a801b,this[_0x17865c(0x106)],this),(_0x55117d=this['options'][_0x17865c(_0x558334._0x53cdd8)])!==null&&_0x55117d!==void 0x0&&_0x55117d[_0x17865c(_0x558334._0xe29d7)]&&delete this['options'][_0x17865c(_0x558334._0x3e3728)]['click'];}else{if(_0x3a801b===_0x17865c(0x119)){var _0x521d53;this['_map'][_0x17865c(_0x558334._0x436ed8)](_0x3a801b,this['_onMapMouseMove'],this),(_0x521d53=this['options']['methods'])!==null&&_0x521d53!==void 0x0&&_0x521d53['mousemove']&&delete this['options'][_0x17865c(0x102)]['mousemove'];}}return this;}}mars3d__namespace['LayerUtil']['register'](_0x438c3f(0x13e),MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x3bfe05){if(_0x3bfe05!=='default'&&!exports['hasOwnProperty'](_0x3bfe05))Object['defineProperty'](exports,_0x3bfe05,{'enumerable':!![],'get':function(){return mapv[_0x3bfe05];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
