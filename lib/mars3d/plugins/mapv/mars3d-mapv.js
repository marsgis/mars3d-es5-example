/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.14
 * 编译日期：2023-11-28 09:43:07
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x3e4d08=_0x3815;(function(_0x35280b,_0x316fef){const _0x2fbacd={_0x392d02:0x1cc,_0x5e7673:0x1ab,_0x2dc5c7:0x1b4,_0x31a496:0x1ad},_0x692013=_0x3815,_0x5e0d2b=_0x35280b();while(!![]){try{const _0x5e03b6=parseInt(_0x692013(0x198))/0x1*(parseInt(_0x692013(_0x2fbacd._0x392d02))/0x2)+-parseInt(_0x692013(0x1a8))/0x3*(parseInt(_0x692013(0x1c3))/0x4)+-parseInt(_0x692013(0x1e3))/0x5*(parseInt(_0x692013(0x19d))/0x6)+parseInt(_0x692013(0x1dd))/0x7*(-parseInt(_0x692013(_0x2fbacd._0x5e7673))/0x8)+parseInt(_0x692013(_0x2fbacd._0x2dc5c7))/0x9*(-parseInt(_0x692013(_0x2fbacd._0x31a496))/0xa)+parseInt(_0x692013(0x1b9))/0xb+parseInt(_0x692013(0x18c))/0xc;if(_0x5e03b6===_0x316fef)break;else _0x5e0d2b['push'](_0x5e0d2b['shift']());}catch(_0x22c0bf){_0x5e0d2b['push'](_0x5e0d2b['shift']());}}}(_0x1f9e,0xc9d76));function _interopNamespace(_0x36c345){const _0x253fd3={_0x1b2d9c:0x1cb,_0x2757fa:0x1d6},_0x268d0f=_0x3815;if(_0x36c345&&_0x36c345[_0x268d0f(0x1d2)])return _0x36c345;var _0x3bee96=Object[_0x268d0f(_0x253fd3._0x1b2d9c)](null);return _0x36c345&&Object['keys'](_0x36c345)[_0x268d0f(_0x253fd3._0x2757fa)](function(_0x65d382){const _0x87670=_0x268d0f;if(_0x65d382!=='default'){var _0x3b5d58=Object['getOwnPropertyDescriptor'](_0x36c345,_0x65d382);Object[_0x87670(0x1b3)](_0x3bee96,_0x65d382,_0x3b5d58['get']?_0x3b5d58:{'enumerable':!![],'get':function(){return _0x36c345[_0x65d382];}});}}),_0x3bee96[_0x268d0f(0x1bb)]=_0x36c345,_0x3bee96;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x3815(_0x3228e3,_0x19b616){const _0x1f9e8f=_0x1f9e();return _0x3815=function(_0x381525,_0x5157b4){_0x381525=_0x381525-0x185;let _0x231200=_0x1f9e8f[_0x381525];return _0x231200;},_0x3815(_0x3228e3,_0x19b616);}function _0x1f9e(){const _0x2c385f=['_removedHook','style','BaseLayer','mousemove','__esModule','0px','push','scale','forEach','bindEvent','Cartesian3','canvas','postRender','Util','getRectangle','42LOAnZz','_canvasUpdate','globalCompositeOperation','methods','setZIndex','LineString','20lTabEN','none','ymin','mapvDepthTest','type','animator','context','keys','updateData','18230400gMzxDN','options','_data','devicePixelRatio','argCheck','animatorMoveendEvent','render','_onMoveEndEvent','steps','removeChild','length','pointerEvents','1PrEwHz','mapv','start','mouseMove','EventType','1139016BwObRC','__proto__','mode','_mapVRenderer','click','Polygon','time','display','removeData','_cache_event','initAnimator','9LpGBVb','ymax','getData','573912iTkBdM','width','280570vdlzFp','animatorMovestartEvent','mapvAutoHeight','MultiLineString','xmax','absolute','defineProperty','63sOgFWD','mouseDown','canvasLayer','transferCoordinate','_onMapClick','1865622ssiKAg','clearData','default','dataSet','resize','height','block','DataSet','off','addData','328628redEwH','_map','init','function','destroy','_reset','unit','SceneMode','create','1541176BQpBLC','auto'];_0x1f9e=function(){return _0x2c385f;};return _0x1f9e();}const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x3e4d08(0x19e)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0xad3fab,_0x21276d,_0x58baa9,_0x2b3da5){const _0x4654c7=_0x3e4d08;super(_0xad3fab,_0x21276d,_0x58baa9);if(!BaseLayer$1)return;this['map']=_0xad3fab,this['scene']=_0xad3fab['scene'],this[_0x4654c7(0x1bc)]=_0x21276d,_0x58baa9=_0x58baa9||{},this[_0x4654c7(0x1c5)](_0x58baa9),this[_0x4654c7(0x190)](_0x58baa9),this['initDevicePixelRatio'](),this['canvasLayer']=_0x2b3da5,this['stopAniamation']=!0x1,this['animation']=_0x58baa9['animation'];}['initDevicePixelRatio'](){const _0xa0c9e8=_0x3e4d08;this[_0xa0c9e8(0x18f)]=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}[_0x3e4d08(0x1ae)](){const _0x6e7eaa={_0x407956:0x194},_0x47b4b1=_0x3e4d08,_0x2647ed=this['options']['animation'];this['isEnabledTime']()&&this[_0x47b4b1(0x188)]&&(this[_0x47b4b1(_0x6e7eaa._0x407956)]['step']=_0x2647ed['stepsRange'][_0x47b4b1(0x19a)]);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x255e94=_0x3e4d08;return this[_0x255e94(0x1b6)]['canvas']['getContext'](this[_0x255e94(0x189)]);}['init'](_0x4e31f0){const _0xc6637a={_0x2e23ea:0x1e1,_0x53a78a:0x1a7},_0x67ec36=_0x3e4d08;this[_0x67ec36(0x18d)]=_0x4e31f0,this['initDataRange'](_0x4e31f0),this['context']=this[_0x67ec36(0x18d)]['context']||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this['canvasLayer'][_0x67ec36(_0xc6637a._0x2e23ea)]&&this['canvasLayer']['setZIndex'](this['options']['zIndex']),this[_0x67ec36(_0xc6637a._0x53a78a)]();}['_canvasUpdate'](_0x279c7e){const _0x2cf2b8={_0x3bec53:0x1df,_0x2829ad:0x18d,_0x4c8aee:0x1c9},_0x4979c2={_0x484331:0x1af,_0x24f28b:0x19f,_0x564644:0x1ca},_0x5a676e=_0x3e4d08,_0x234af8=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x2d9252=this['options']['animation'],_0x3f08d9=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x279c7e)return void this['clear'](_0x3f08d9);this['context']==='2d'&&(_0x3f08d9['save'](),_0x3f08d9[_0x5a676e(_0x2cf2b8._0x3bec53)]='destination-out',_0x3f08d9['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x3f08d9['fillRect'](0x0,0x0,_0x3f08d9['canvas']['width'],_0x3f08d9['canvas'][_0x5a676e(0x1be)]),_0x3f08d9['restore']());}else this['clear'](_0x3f08d9);if(this['context']==='2d')for(const _0x3d23cf in this[_0x5a676e(_0x2cf2b8._0x2829ad)]){_0x3f08d9[_0x3d23cf]=this['options'][_0x3d23cf];}else _0x3f08d9['clear'](_0x3f08d9['COLOR_BUFFER_BIT']);const _0x5acb0f={'transferCoordinate':function(_0x507c66){const _0xb63435=_0x5a676e,_0xc62c24=null;let _0x574fb9=_0x234af8['mapvFixedHeight'];_0x234af8[_0xb63435(_0x4979c2._0x484331)]&&(_0x574fb9=_0x234af8['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x507c66[0x0],_0x507c66[0x1])));const _0x575a8f=Cesium$1[_0xb63435(0x1d8)]['fromDegrees'](_0x507c66[0x0],_0x507c66[0x1],_0x574fb9);if(!_0x575a8f)return _0xc62c24;const _0x452e6e=_0x234af8['cartesianToCanvasCoordinates'](_0x575a8f);if(!_0x452e6e)return _0xc62c24;if(_0x234af8[_0xb63435(0x186)]&&_0x234af8[_0xb63435(_0x4979c2._0x24f28b)]===Cesium$1[_0xb63435(_0x4979c2._0x564644)]['SCENE3D']){const _0x1bb5c0=new Cesium$1['EllipsoidalOccluder'](_0x234af8['globe']['ellipsoid'],_0x234af8['camera']['positionWC']),_0x187d9e=_0x1bb5c0['isPointVisible'](_0x575a8f);if(!_0x187d9e)return _0xc62c24;}return[_0x452e6e['x'],_0x452e6e['y']];}};void 0x0!==_0x279c7e&&(_0x5acb0f['filter']=function(_0x5363c5){const _0x3b0ce3=_0x5a676e,_0xef15dc=_0x2d9252['trails']||0xa;return!!(_0x279c7e&&_0x5363c5['time']>_0x279c7e-_0xef15dc&&_0x5363c5[_0x3b0ce3(0x1a3)]<_0x279c7e);});const _0x566771=this[_0x5a676e(0x1bc)]['get'](_0x5acb0f);this['processData'](_0x566771),this['options'][_0x5a676e(_0x2cf2b8._0x4c8aee)]==='m'&&this[_0x5a676e(0x18d)]['size'],this['options']['_size']=this['options']['size'];const _0x473e86=_0x234af8['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x473e86)return;this['drawContext'](_0x3f08d9,new mapv__namespace[(_0x5a676e(0x1c0))](_0x566771),this['options'],_0x473e86),this[_0x5a676e(0x18d)]['updateCallback']&&this['options']['updateCallback'](_0x279c7e);}}['updateData'](_0x11af45,_0x3dd8e6){let _0x307c2f=_0x11af45;_0x307c2f&&_0x307c2f['get']&&(_0x307c2f=_0x307c2f['get']()),void 0x0!==_0x307c2f&&this['dataSet']['set'](_0x307c2f),super['update']({'options':_0x3dd8e6});}[_0x3e4d08(0x1c2)](_0x336350,_0x591244){let _0x153932=_0x336350;_0x336350&&_0x336350['get']&&(_0x153932=_0x336350['get']()),this['dataSet']['add'](_0x153932),this['update']({'options':_0x591244});}['getData'](){return this['dataSet'];}[_0x3e4d08(0x1a5)](_0x38abc7){const _0xf1975=_0x3e4d08;if(this['dataSet']){const _0xce0510=this[_0xf1975(0x1bc)]['get']({'filter':function(_0x1df49c){const _0x235940=_0xf1975;return _0x38abc7==null||typeof _0x38abc7!==_0x235940(0x1c6)||!_0x38abc7(_0x1df49c);}});this['dataSet']['set'](_0xce0510),this['update']({'options':null});}}['clearData'](){const _0x5de3a4={_0x27bd7b:0x1bc},_0x3cc67e=_0x3e4d08;this['dataSet']&&this[_0x3cc67e(_0x5de3a4._0x27bd7b)]['clear'](),this['update']({'options':null});}['draw'](){this['canvasLayer']['draw']();}['clear'](_0x4da910){const _0x458bf6={_0x92665a:0x1be},_0x2f43e7=_0x3e4d08;_0x4da910&&_0x4da910['clearRect']&&_0x4da910['clearRect'](0x0,0x0,_0x4da910['canvas']['width'],_0x4da910['canvas'][_0x2f43e7(_0x458bf6._0x92665a)]);}['destroy'](){const _0x472301={_0x4074e2:0x188},_0x43686d=_0x3e4d08;this['clear'](this['getContext']()),this[_0x43686d(0x1ba)](),this[_0x43686d(0x188)]&&this[_0x43686d(_0x472301._0x4074e2)]['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x3e4d08(0x1c0)])mapv__namespace['DataSet']['prototype'][_0x3e4d08(0x1b7)]=function(_0x4365af,_0x3c5561,_0x21f108,_0x5b03b3){const _0x589cb4={_0x575509:0x196,_0x14c2b8:0x187,_0x6191bb:0x1b0,_0x149ff1:0x1a2},_0x132a40=_0x3e4d08;_0x5b03b3=_0x5b03b3||'_coordinates',_0x21f108=_0x21f108||'coordinates';for(let _0x3fb885=0x0;_0x3fb885<_0x4365af[_0x132a40(_0x589cb4._0x575509)];_0x3fb885++){const _0x34cc95=_0x4365af[_0x3fb885]['geometry'],_0x25b051=_0x34cc95[_0x21f108];switch(_0x34cc95[_0x132a40(_0x589cb4._0x14c2b8)]){case'Point':{const _0x4419ef=_0x3c5561(_0x25b051);_0x4419ef?_0x34cc95[_0x5b03b3]=_0x4419ef:_0x34cc95[_0x5b03b3]=[-0x3e7,-0x3e7];}break;case _0x132a40(0x1e2):{const _0x525c48=[];for(let _0xf385ca=0x0;_0xf385ca<_0x25b051['length'];_0xf385ca++){const _0x57f5d9=_0x3c5561(_0x25b051[_0xf385ca]);_0x57f5d9&&_0x525c48[_0x132a40(0x1d4)](_0x57f5d9);}_0x34cc95[_0x5b03b3]=_0x525c48;}break;case _0x132a40(_0x589cb4._0x6191bb):case _0x132a40(_0x589cb4._0x149ff1):{const _0x3ba4a5=_0x5df2d8(_0x25b051);_0x34cc95[_0x5b03b3]=_0x3ba4a5;}break;case'MultiPolygon':{const _0x15eef3=[];for(let _0x4214b8=0x0;_0x4214b8<_0x25b051[_0x132a40(_0x589cb4._0x575509)];_0x4214b8++){const _0x457f72=_0x5df2d8(_0x25b051[_0x4214b8]);_0x457f72['length']>0x0&&_0x15eef3['push'](_0x457f72);}_0x34cc95[_0x5b03b3]=_0x15eef3;}break;}}function _0x5df2d8(_0x2b42eb){const _0x480b0=_0x132a40,_0x2a18c8=[];for(let _0x4fcf21=0x0;_0x4fcf21<_0x2b42eb[_0x480b0(0x196)];_0x4fcf21++){const _0x53a223=_0x2b42eb[_0x4fcf21],_0x42bfb6=[];for(let _0x511237=0x0;_0x511237<_0x53a223['length'];_0x511237++){const _0x563844=_0x3c5561(_0x53a223[_0x511237]);_0x563844&&_0x42bfb6['push'](_0x563844);}_0x42bfb6['length']>0x0&&_0x2a18c8['push'](_0x42bfb6);}return _0x2a18c8;}return _0x4365af;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x3e4d08(0x1d0)];class MapVLayer extends BaseLayer{constructor(_0x3210f4,_0x460d0f){const _0x3cd19e=_0x3e4d08;super(_0x3210f4),this['_pointerEvents']=this[_0x3cd19e(0x18d)][_0x3cd19e(0x197)],this['dataSet']=_0x460d0f||new mapv__namespace['DataSet'](_0x3210f4['data']),this['canvas']=null;}get[_0x3e4d08(0x197)](){return this['_pointerEvents'];}set['pointerEvents'](_0x398fde){const _0x49ad81={_0x5402d7:0x1d9},_0x25f6d8=_0x3e4d08;this['_pointerEvents']=_0x398fde,this['canvas']&&(_0x398fde?this['canvas']['style']['pointerEvents']='all':this[_0x25f6d8(_0x49ad81._0x5402d7)]['style']['pointerEvents']='none');}['_showHook'](_0x3f0755){const _0x210ebf={_0x48ad17:0x1a4},_0x8eac6a=_0x3e4d08;_0x3f0755?this['canvas']['style']['display']=_0x8eac6a(0x1bf):this['canvas']['style'][_0x8eac6a(_0x210ebf._0x48ad17)]=_0x8eac6a(0x1e4);}['_mountedHook'](){const _0x2f8abb=_0x3e4d08;this['_map']['scene']['mapvDepthTest']=this[_0x2f8abb(0x18d)]['depthTest']??!![],this['_map']['scene'][_0x2f8abb(0x1af)]=this['options']['clampToGround']??![],this['_map']['scene']['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0xb86cfc={_0x6d5506:0x1bc,_0x5ec06d:0x192,_0x4c0451:0x1c8},_0x45af3b=_0x3e4d08;this[_0x45af3b(0x1bc)]&&(!this['dataSet']['_data']||this['dataSet'][_0x45af3b(0x18e)]['length']===0x0)&&(this['dataSet']['_data']=[]['concat'](this[_0x45af3b(_0xb86cfc._0x6d5506)]['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x45af3b(0x1c4)],this[_0x45af3b(0x1bc)],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this[_0x45af3b(_0xb86cfc._0x5ec06d)]['bind'](this),this[_0x45af3b(0x1d7)](),this[_0x45af3b(_0xb86cfc._0x4c0451)]();}['_removedHook'](){const _0x11b122={_0x9ef700:0x1c7},_0x1ab127=_0x3e4d08;this['unbindEvent'](),this['_mapVRenderer']&&(this[_0x1ab127(0x1a0)][_0x1ab127(_0x11b122._0x9ef700)](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this[_0x1ab127(0x1d9)]);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x419825={_0x3a5d1f:0x1a1},_0x565473=_0x3e4d08;var _0x252ac2,_0x2c0d54;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x565473(0x193)],this),(_0x252ac2=this['options'])!==null&&_0x252ac2!==void 0x0&&(_0x252ac2=_0x252ac2['methods'])!==null&&_0x252ac2!==void 0x0&&_0x252ac2[_0x565473(_0x419825._0x3a5d1f)]&&this[_0x565473(0x1c4)]['on'](mars3d__namespace['EventType'][_0x565473(0x1a1)],this['_onMapClick'],this),(_0x2c0d54=this[_0x565473(0x18d)])!==null&&_0x2c0d54!==void 0x0&&(_0x2c0d54=_0x2c0d54['methods'])!==null&&_0x2c0d54!==void 0x0&&_0x2c0d54[_0x565473(0x1d1)]&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x3840fa={_0x78ce95:0x1c1,_0x387b8b:0x1e0,_0x883c8c:0x1d1,_0x196bc5:0x19c},_0x18f0e1=_0x3e4d08;var _0x18be43,_0x5ad3b9;this['_map'][_0x18f0e1(_0x3840fa._0x78ce95)](mars3d__namespace[_0x18f0e1(0x19c)][_0x18f0e1(0x1b5)],this['_onMoveStartEvent'],this),this['_map'][_0x18f0e1(0x1c1)](mars3d__namespace[_0x18f0e1(0x19c)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType'][_0x18f0e1(0x1da)],this['_reset'],this),(_0x18be43=this['options'])!==null&&_0x18be43!==void 0x0&&(_0x18be43=_0x18be43[_0x18f0e1(0x1e0)])!==null&&_0x18be43!==void 0x0&&_0x18be43['click']&&this['_map']['off'](mars3d__namespace['EventType']['click'],this[_0x18f0e1(0x1b8)],this),(_0x5ad3b9=this['options'])!==null&&_0x5ad3b9!==void 0x0&&(_0x5ad3b9=_0x5ad3b9[_0x18f0e1(_0x3840fa._0x387b8b)])!==null&&_0x5ad3b9!==void 0x0&&_0x5ad3b9[_0x18f0e1(_0x3840fa._0x883c8c)]&&this['_map']['off'](mars3d__namespace[_0x18f0e1(_0x3840fa._0x196bc5)]['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x39f932={_0x5e219c:0x1ae,_0x4e01b0:0x1c1,_0x33dbf3:0x1c8,_0x449dcc:0x1c4},_0x5f0d81=_0x3e4d08;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x5f0d81(_0x39f932._0x5e219c)](),this['_map'][_0x5f0d81(_0x39f932._0x4e01b0)](mars3d__namespace['EventType']['postRender'],this[_0x5f0d81(_0x39f932._0x33dbf3)],this),this[_0x5f0d81(_0x39f932._0x449dcc)]['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x5abd5f=_0x3e4d08;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_mapVRenderer'][_0x5abd5f(0x191)](),this['_reset']());}['_setOptionsHook'](_0x2cc299,_0x547487){const _0x11d6bc=_0x3e4d08;this[_0x11d6bc(0x1ce)](),this['_addedHook']();}['addData'](_0x2d0883){const _0x2126e4={_0x4a67b9:0x1a0},_0x2c427f=_0x3e4d08;this['_mapVRenderer']&&this[_0x2c427f(_0x2126e4._0x4a67b9)][_0x2c427f(0x1c2)](_0x2d0883,this[_0x2c427f(0x18d)]);}[_0x3e4d08(0x18b)](_0x4fa235){const _0x5d14b1=_0x3e4d08;this[_0x5d14b1(0x1a0)]&&this['_mapVRenderer']['updateData'](_0x4fa235,this[_0x5d14b1(0x18d)]);}[_0x3e4d08(0x1aa)](){return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}[_0x3e4d08(0x1a5)](_0x418c2b){const _0x5c2a54=_0x3e4d08;this[_0x5c2a54(0x1a0)]&&this[_0x5c2a54(0x1a0)]['removeData'](_0x418c2b);}['removeAllData'](){const _0x14fca3=_0x3e4d08;this['_mapVRenderer']&&this[_0x14fca3(0x1a0)]['clearData']();}['_createCanvas'](){const _0x32a0ff={_0x49d013:0x1cf,_0x450f56:0x197,_0x40a9df:0x189,_0x306464:0x1d5},_0x3cef6f=_0x3e4d08,_0x40ebe5=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x40ebe5['id']=this['id'],_0x40ebe5['style']['position']='absolute',_0x40ebe5['style']['top']='0px',_0x40ebe5[_0x3cef6f(0x1cf)]['left']=_0x3cef6f(0x1d3),_0x40ebe5['width']=parseInt(this['_map'][_0x3cef6f(0x1d9)][_0x3cef6f(0x1ac)]),_0x40ebe5['height']=parseInt(this['_map']['canvas'][_0x3cef6f(0x1be)]),_0x40ebe5[_0x3cef6f(_0x32a0ff._0x49d013)]['width']=this['_map']['canvas']['style']['width'],_0x40ebe5[_0x3cef6f(0x1cf)]['height']=this['_map']['canvas'][_0x3cef6f(_0x32a0ff._0x49d013)]['height'],_0x40ebe5['style'][_0x3cef6f(_0x32a0ff._0x450f56)]=this['_pointerEvents']?_0x3cef6f(0x1cd):_0x3cef6f(0x1e4),_0x40ebe5[_0x3cef6f(0x1cf)]['zIndex']=this['options']['zIndex']??0x9;if(this['options'][_0x3cef6f(_0x32a0ff._0x40a9df)]==='2d'){const _0x2c746b=this['devicePixelRatio'];_0x40ebe5['getContext'](this['options']['context'])[_0x3cef6f(_0x32a0ff._0x306464)](_0x2c746b,_0x2c746b);}return _0x40ebe5;}[_0x3e4d08(0x1c8)](){this['resize'](),this['render']();}['draw'](){this['_reset']();}['remove'](){const _0x4e94a5={_0x22b92c:0x1a0,_0x4664ab:0x1a0,_0x5f5860:0x195,_0x2b5c08:0x1d9},_0x26324e=_0x3e4d08;this[_0x26324e(_0x4e94a5._0x22b92c)]&&(this[_0x26324e(_0x4e94a5._0x4664ab)]['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x26324e(_0x4e94a5._0x5f5860)](this[_0x26324e(_0x4e94a5._0x2b5c08)]);}['render'](){const _0x5b2868={_0x19389e:0x1de},_0x443e9d=_0x3e4d08;this['_mapVRenderer'][_0x443e9d(_0x5b2868._0x19389e)]();}[_0x3e4d08(0x1bd)](){const _0x427a59={_0x149b52:0x1cf,_0x18a54d:0x1b2,_0x3aee51:0x1ac},_0x3e2199=_0x3e4d08;if(this[_0x3e2199(0x1d9)]){const _0x5cd492=this[_0x3e2199(0x1d9)];_0x5cd492[_0x3e2199(_0x427a59._0x149b52)]['position']=_0x3e2199(_0x427a59._0x18a54d),_0x5cd492['style']['top']='0px',_0x5cd492['style']['left']='0px',_0x5cd492[_0x3e2199(_0x427a59._0x3aee51)]=parseInt(this['_map']['canvas']['width']),_0x5cd492['height']=parseInt(this[_0x3e2199(0x1c4)]['canvas']['height']),_0x5cd492['style']['width']=this['_map']['canvas'][_0x3e2199(0x1cf)]['width'],_0x5cd492[_0x3e2199(0x1cf)]['height']=this['_map'][_0x3e2199(0x1d9)]['style']['height'];}}[_0x3e4d08(0x1dc)](_0x45c7f1){const _0x34b2e6={_0x380d87:0x1bc,_0x5e3b5a:0x1db,_0xb9a1b6:0x1a9},_0x2e47b8=_0x3e4d08;if(!this[_0x2e47b8(0x1bc)]||!this[_0x2e47b8(_0x34b2e6._0x380d87)]['_data'])return;const _0x576918=mars3d__namespace[_0x2e47b8(_0x34b2e6._0x5e3b5a)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0x2e47b8(0x1bc)]['_data']});if(!_0x576918)return;return _0x45c7f1!==null&&_0x45c7f1!==void 0x0&&_0x45c7f1['isFormat']?_0x576918:Cesium['Rectangle']['fromDegrees'](_0x576918['xmin'],_0x576918[_0x2e47b8(0x185)],_0x576918[_0x2e47b8(0x1b1)],_0x576918[_0x2e47b8(_0x34b2e6._0xb9a1b6)]);}['_onMapClick'](_0x23bc2f){const _0x52ee93={_0x16825c:0x1a0},_0x33ab9a=_0x3e4d08;this['_cache_event']=_0x23bc2f,this['_mapVRenderer']&&this[_0x33ab9a(_0x52ee93._0x16825c)]['clickEvent'](_0x23bc2f['windowPosition'],_0x23bc2f);}['_onMapMouseMove'](_0x1b338e){const _0x7e0a0b={_0x462c3b:0x1a6},_0xb21fb8=_0x3e4d08;this[_0xb21fb8(_0x7e0a0b._0x462c3b)]=_0x1b338e,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x1b338e['windowPosition'],_0x1b338e);}['on'](_0x1be2ec,_0x361e7c,_0x45b4e7){const _0x296c88={_0x564639:0x19c,_0x2a6154:0x1a1,_0x164b35:0x1e0,_0xb9603d:0x1b8,_0x30a45a:0x19b},_0x4104b5={_0x3e98ee:0x1a6},_0x4adf42={_0x21b26d:0x1a6},_0x295ba4=_0x3e4d08;this['options']['methods']=this['options']['methods']||{};if(_0x1be2ec===mars3d__namespace[_0x295ba4(_0x296c88._0x564639)][_0x295ba4(_0x296c88._0x2a6154)])this['options'][_0x295ba4(_0x296c88._0x164b35)][_0x295ba4(0x1a1)]=_0x370e8c=>{const _0x407670=_0x295ba4;_0x370e8c&&_0x361e7c['bind'](_0x45b4e7)({...this[_0x407670(_0x4adf42._0x21b26d)],'layer':this,'data':_0x370e8c});},this['_map']['on'](mars3d__namespace['EventType']['click'],this[_0x295ba4(_0x296c88._0xb9603d)],this);else _0x1be2ec===mars3d__namespace['EventType'][_0x295ba4(_0x296c88._0x30a45a)]&&(this[_0x295ba4(0x18d)]['methods']['mousemove']=_0x44cc83=>{const _0x2fe00b=_0x295ba4;_0x44cc83&&_0x361e7c['bind'](_0x45b4e7)({...this[_0x2fe00b(_0x4104b5._0x3e98ee)],'layer':this,'data':_0x44cc83});},this['_map']['on'](mars3d__namespace[_0x295ba4(0x19c)]['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x4f8765,_0x25ba7f){const _0x3b9836={_0x38ecf9:0x19b,_0x44d700:0x18d,_0x18ff0e:0x1d1},_0x2e4867=_0x3e4d08;if(_0x4f8765==='click'){var _0xa278b7;this['_map']['off'](_0x4f8765,this['_onMapClick'],this),(_0xa278b7=this['options']['methods'])!==null&&_0xa278b7!==void 0x0&&_0xa278b7[_0x2e4867(0x1d1)]&&delete this['options'][_0x2e4867(0x1e0)]['click'];}else{if(_0x4f8765===_0x2e4867(_0x3b9836._0x38ecf9)){var _0x48e1ef;this['_map'][_0x2e4867(0x1c1)](_0x4f8765,this['_onMapMouseMove'],this),(_0x48e1ef=this[_0x2e4867(_0x3b9836._0x44d700)]['methods'])!==null&&_0x48e1ef!==void 0x0&&_0x48e1ef[_0x2e4867(_0x3b9836._0x18ff0e)]&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil']['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace[_0x3e4d08(0x199)]=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x3e4d08(0x18a)](mapv)['forEach'](function(_0x5f08cd){const _0x40b03b=_0x3e4d08;if(_0x5f08cd!=='default'&&!exports['hasOwnProperty'](_0x5f08cd))Object[_0x40b03b(0x1b3)](exports,_0x5f08cd,{'enumerable':!![],'get':function(){return mapv[_0x5f08cd];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
