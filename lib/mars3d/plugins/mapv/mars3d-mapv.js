/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.3
 * 编译日期：2024-02-05 13:29:31
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x51b9be=_0x52af;(function(_0x44cc04,_0x4c5281){const _0x3f10cc={_0x1f539c:0x165,_0x1af7cb:0x159,_0x2215b5:0x162,_0x191bf5:0x12a},_0x1a1298=_0x52af,_0x103036=_0x44cc04();while(!![]){try{const _0x536693=-parseInt(_0x1a1298(_0x3f10cc._0x1f539c))/0x1+-parseInt(_0x1a1298(_0x3f10cc._0x1af7cb))/0x2+parseInt(_0x1a1298(0x148))/0x3*(-parseInt(_0x1a1298(0x16e))/0x4)+parseInt(_0x1a1298(_0x3f10cc._0x2215b5))/0x5+-parseInt(_0x1a1298(0x12b))/0x6*(-parseInt(_0x1a1298(0x158))/0x7)+parseInt(_0x1a1298(_0x3f10cc._0x191bf5))/0x8*(parseInt(_0x1a1298(0x174))/0x9)+-parseInt(_0x1a1298(0x179))/0xa;if(_0x536693===_0x4c5281)break;else _0x103036['push'](_0x103036['shift']());}catch(_0x1dbd61){_0x103036['push'](_0x103036['shift']());}}}(_0x2a11,0xdb8b2));function _interopNamespace(_0x1d4871){const _0xc6ba22={_0x5e2c6f:0x175},_0x1a38e0=_0x52af;if(_0x1d4871&&_0x1d4871['__esModule'])return _0x1d4871;var _0x354929=Object[_0x1a38e0(_0xc6ba22._0x5e2c6f)](null);return _0x1d4871&&Object['keys'](_0x1d4871)['forEach'](function(_0x231b1d){const _0x427214=_0x1a38e0;if(_0x231b1d!=='default'){var _0x30299c=Object['getOwnPropertyDescriptor'](_0x1d4871,_0x231b1d);Object['defineProperty'](_0x354929,_0x231b1d,_0x30299c[_0x427214(0x17c)]?_0x30299c:{'enumerable':!![],'get':function(){return _0x1d4871[_0x231b1d];}});}}),_0x354929['default']=_0x1d4871,_0x354929;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x51b9be(0x160)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x51b9be(0x17f)]:Function;function _0x52af(_0x95f0ab,_0x4dfac9){const _0x2a11bf=_0x2a11();return _0x52af=function(_0x52afd0,_0x1667cf){_0x52afd0=_0x52afd0-0x11b;let _0xc8603e=_0x2a11bf[_0x52afd0];return _0xc8603e;},_0x52af(_0x95f0ab,_0x4dfac9);}function _0x2a11(){const _0xa3bd5a=['restore','filter','_onMoveStartEvent','33ajpnaa','devicePixelRatio','addData','updateCallback','render','left','clampToGround','postRender','animator','function','windowPosition','stop','isEnabledTime','bind','prototype','DataSet','735zkvJYD','421568lEscCH','width','scale','click','resize','context','dataSet','baiduMapLayer','_mapVRenderer','7028535AbdpPB','_data','LineString','907527ctzAop','Cartographic','animation','transferCoordinate','zIndex','mousemove','methods','update','_onMapMouseMove','341252FZTnNs','keys','canvasLayer','LayerUtil','parentElement','remove','3285540puPkhT','create','clickEvent','globe','getData','6639980SGSgxf','concat','defineProperty','get','mapvDepthTest','getRectangle','__proto__','init','height','top','0px','_createCanvas','_onMapClick','positionWC','_showHook','_map','EllipsoidalOccluder','EventType','clear','mouseMove','fromDegrees','container','absolute','16kjwipk','84810qsGqjh','style','destroy','getHeight','clearRect','options','Rectangle','xmax','_removedHook','camera','initDataRange','isPointVisible','mouseDown','clearData','_cache_event','layer','push','_pointerEvents','canvas','off','getContext','data','processData','_reset','_addedHook','length'];_0x2a11=function(){return _0xa3bd5a;};return _0x2a11();}class MapVRenderer extends BaseLayer$1{constructor(_0x279065,_0x4a2bdc,_0x6d38bc,_0x34182a){super(_0x279065,_0x4a2bdc,_0x6d38bc);if(!BaseLayer$1)return;this['map']=_0x279065,this['scene']=_0x279065['scene'],this['dataSet']=_0x4a2bdc,_0x6d38bc=_0x6d38bc||{},this['init'](_0x6d38bc),this['argCheck'](_0x6d38bc),this['initDevicePixelRatio'](),this['canvasLayer']=_0x34182a,this['stopAniamation']=!0x1,this['animation']=_0x6d38bc['animation'];}['initDevicePixelRatio'](){const _0x3e6524={_0x5614be:0x149},_0x5544ca=_0x51b9be;this[_0x5544ca(_0x3e6524._0x5614be)]=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x2eba9f=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps']['step']=_0x2eba9f['stepsRange']['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){return this['canvasLayer']['canvas']['getContext'](this['context']);}[_0x51b9be(0x180)](_0x527eec){const _0x537df6={_0x560347:0x135,_0x4f5c17:0x170},_0x1a2c6f=_0x51b9be;this[_0x1a2c6f(0x130)]=_0x527eec,this[_0x1a2c6f(_0x537df6._0x560347)](_0x527eec),this[_0x1a2c6f(0x15e)]=this['options']['context']||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this[_0x1a2c6f(0x170)]&&this[_0x1a2c6f(_0x537df6._0x4f5c17)]['setZIndex']&&this['canvasLayer']['setZIndex'](this['options'][_0x1a2c6f(0x169)]),this['initAnimator']();}['_canvasUpdate'](_0x2579fb){const _0x25399f={_0x20523d:0x167,_0x58c1e2:0x11b,_0x330d8d:0x145,_0x304f51:0x146},_0x1ebd48={_0x23ec55:0x123},_0x5088ab=_0x51b9be,_0x4b2135=this['scene'];if(this[_0x5088ab(0x170)]&&!this['stopAniamation']){const _0x2a9303=this['options'][_0x5088ab(_0x25399f._0x20523d)],_0x4bef23=this[_0x5088ab(0x13f)]();if(this[_0x5088ab(0x154)]()){if(void 0x0===_0x2579fb)return void this['clear'](_0x4bef23);this[_0x5088ab(0x15e)]==='2d'&&(_0x4bef23['save'](),_0x4bef23['globalCompositeOperation']='destination-out',_0x4bef23['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x4bef23['fillRect'](0x0,0x0,_0x4bef23['canvas']['width'],_0x4bef23['canvas'][_0x5088ab(_0x25399f._0x58c1e2)]),_0x4bef23[_0x5088ab(_0x25399f._0x330d8d)]());}else this['clear'](_0x4bef23);if(this['context']==='2d')for(const _0x1f5dc5 in this['options']){_0x4bef23[_0x1f5dc5]=this['options'][_0x1f5dc5];}else _0x4bef23['clear'](_0x4bef23['COLOR_BUFFER_BIT']);const _0x4327e1={'transferCoordinate':function(_0x23a5b1){const _0x57da75=_0x5088ab,_0x53beb8=null;let _0x5afc6f=_0x4b2135['mapvFixedHeight'];_0x4b2135['mapvAutoHeight']&&(_0x5afc6f=_0x4b2135[_0x57da75(0x12e)](Cesium$1[_0x57da75(0x166)]['fromDegrees'](_0x23a5b1[0x0],_0x23a5b1[0x1])));const _0x914fb9=Cesium$1['Cartesian3']['fromDegrees'](_0x23a5b1[0x0],_0x23a5b1[0x1],_0x5afc6f);if(!_0x914fb9)return _0x53beb8;const _0x1ce3f2=_0x4b2135['cartesianToCanvasCoordinates'](_0x914fb9);if(!_0x1ce3f2)return _0x53beb8;if(_0x4b2135['mapvDepthTest']&&_0x4b2135['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x4c4f81=new Cesium$1[(_0x57da75(_0x1ebd48._0x23ec55))](_0x4b2135[_0x57da75(0x177)]['ellipsoid'],_0x4b2135[_0x57da75(0x134)][_0x57da75(0x120)]),_0x140549=_0x4c4f81[_0x57da75(0x136)](_0x914fb9);if(!_0x140549)return _0x53beb8;}return[_0x1ce3f2['x'],_0x1ce3f2['y']];}};void 0x0!==_0x2579fb&&(_0x4327e1[_0x5088ab(_0x25399f._0x304f51)]=function(_0x3aace0){const _0x509c1c=_0x2a9303['trails']||0xa;return!!(_0x2579fb&&_0x3aace0['time']>_0x2579fb-_0x509c1c&&_0x3aace0['time']<_0x2579fb);});const _0x3c1499=this['dataSet']['get'](_0x4327e1);this[_0x5088ab(0x141)](_0x3c1499),this[_0x5088ab(0x130)]['unit']==='m'&&this[_0x5088ab(0x130)]['size'],this['options']['_size']=this['options']['size'];const _0x2594af=_0x4b2135['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x2594af)return;this['drawContext'](_0x4bef23,new mapv__namespace['DataSet'](_0x3c1499),this['options'],_0x2594af),this['options']['updateCallback']&&this['options'][_0x5088ab(0x14b)](_0x2579fb);}}['updateData'](_0x34285d,_0x2740d1){const _0x428ea8={_0x37adda:0x15f},_0x3e964d=_0x51b9be;let _0x196a4f=_0x34285d;_0x196a4f&&_0x196a4f['get']&&(_0x196a4f=_0x196a4f['get']()),void 0x0!==_0x196a4f&&this[_0x3e964d(_0x428ea8._0x37adda)]['set'](_0x196a4f),super['update']({'options':_0x2740d1});}['addData'](_0x41f62c,_0x33fb06){const _0x592193=_0x51b9be;let _0x17304e=_0x41f62c;_0x41f62c&&_0x41f62c['get']&&(_0x17304e=_0x41f62c['get']()),this[_0x592193(0x15f)]['add'](_0x17304e),this[_0x592193(0x16c)]({'options':_0x33fb06});}['getData'](){return this['dataSet'];}['removeData'](_0x47c341){const _0xe5eb8d={_0x4d6c05:0x16c},_0x4d0b0b=_0x51b9be;if(this['dataSet']){const _0x5d7c31=this[_0x4d0b0b(0x15f)]['get']({'filter':function(_0x550779){const _0x121d9a=_0x4d0b0b;return _0x47c341==null||typeof _0x47c341!==_0x121d9a(0x151)||!_0x47c341(_0x550779);}});this[_0x4d0b0b(0x15f)]['set'](_0x5d7c31),this[_0x4d0b0b(_0xe5eb8d._0x4d6c05)]({'options':null});}}[_0x51b9be(0x138)](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){this['canvasLayer']['draw']();}[_0x51b9be(0x125)](_0x4f464d){const _0x578cd8=_0x51b9be;_0x4f464d&&_0x4f464d[_0x578cd8(0x12f)]&&_0x4f464d[_0x578cd8(0x12f)](0x0,0x0,_0x4f464d['canvas']['width'],_0x4f464d['canvas']['height']);}['destroy'](){const _0x56addd={_0x47d111:0x125,_0x45a944:0x138},_0x477873=_0x51b9be;this[_0x477873(_0x56addd._0x47d111)](this[_0x477873(0x13f)]()),this[_0x477873(_0x56addd._0x45a944)](),this[_0x477873(0x150)]&&this['animator'][_0x477873(0x153)](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x51b9be(0x157)][_0x51b9be(0x156)][_0x51b9be(0x168)]=function(_0xb77bb7,_0xe36c79,_0x351d7f,_0x4149cc){const _0x572434={_0x578797:0x144},_0x180013={_0x2cefa5:0x13b},_0x3ea3d4=_0x51b9be;_0x4149cc=_0x4149cc||'_coordinates',_0x351d7f=_0x351d7f||'coordinates';for(let _0x581c68=0x0;_0x581c68<_0xb77bb7['length'];_0x581c68++){const _0x3ca1e3=_0xb77bb7[_0x581c68]['geometry'],_0x31c4bf=_0x3ca1e3[_0x351d7f];switch(_0x3ca1e3['type']){case'Point':{const _0x2bb565=_0xe36c79(_0x31c4bf);_0x2bb565?_0x3ca1e3[_0x4149cc]=_0x2bb565:_0x3ca1e3[_0x4149cc]=[-0x3e7,-0x3e7];}break;case _0x3ea3d4(0x164):{const _0x2b1835=[];for(let _0x1ee642=0x0;_0x1ee642<_0x31c4bf[_0x3ea3d4(_0x572434._0x578797)];_0x1ee642++){const _0x10b19c=_0xe36c79(_0x31c4bf[_0x1ee642]);_0x10b19c&&_0x2b1835['push'](_0x10b19c);}_0x3ca1e3[_0x4149cc]=_0x2b1835;}break;case'MultiLineString':case'Polygon':{const _0x2cc9e3=_0x1dbf67(_0x31c4bf);_0x3ca1e3[_0x4149cc]=_0x2cc9e3;}break;case'MultiPolygon':{const _0x5bc291=[];for(let _0x517cf3=0x0;_0x517cf3<_0x31c4bf['length'];_0x517cf3++){const _0x2b9cd5=_0x1dbf67(_0x31c4bf[_0x517cf3]);_0x2b9cd5['length']>0x0&&_0x5bc291['push'](_0x2b9cd5);}_0x3ca1e3[_0x4149cc]=_0x5bc291;}break;}}function _0x1dbf67(_0x4ac679){const _0x2d682b=_0x3ea3d4,_0x5a5d31=[];for(let _0x1fedb3=0x0;_0x1fedb3<_0x4ac679[_0x2d682b(0x144)];_0x1fedb3++){const _0x333e38=_0x4ac679[_0x1fedb3],_0x297fb2=[];for(let _0x16a80b=0x0;_0x16a80b<_0x333e38['length'];_0x16a80b++){const _0x383dbd=_0xe36c79(_0x333e38[_0x16a80b]);_0x383dbd&&_0x297fb2[_0x2d682b(_0x180013._0x2cefa5)](_0x383dbd);}_0x297fb2[_0x2d682b(0x144)]>0x0&&_0x5a5d31[_0x2d682b(0x13b)](_0x297fb2);}return _0x5a5d31;}return _0xb77bb7;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0xa8327d,_0x269fc8){const _0x9c34d8={_0xb6f761:0x140},_0x10db13=_0x51b9be;super(_0xa8327d),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x269fc8||new mapv__namespace[(_0x10db13(0x157))](_0xa8327d[_0x10db13(_0x9c34d8._0xb6f761)]),this[_0x10db13(0x13d)]=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x30d371){const _0x62576b={_0x4655f6:0x12c},_0x380599=_0x51b9be;this[_0x380599(0x13c)]=_0x30d371,this[_0x380599(0x13d)]&&(_0x30d371?this['canvas'][_0x380599(_0x62576b._0x4655f6)]['pointerEvents']='all':this['canvas']['style']['pointerEvents']='none');}[_0x51b9be(0x121)](_0x48554a){const _0x205ae1={_0x2f1349:0x12c},_0xe4a93a=_0x51b9be;_0x48554a?this['canvas'][_0xe4a93a(_0x205ae1._0x2f1349)]['display']='block':this['canvas']['style']['display']='none';}['_mountedHook'](){const _0xb15bc3=_0x51b9be;this['_map']['scene'][_0xb15bc3(0x17d)]=this['options']['depthTest']??!![],this['_map']['scene']['mapvAutoHeight']=this['options'][_0xb15bc3(0x14e)]??![],this['_map']['scene']['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}[_0x51b9be(0x143)](){const _0x239c26={_0x3ef0a9:0x15f,_0xf6b786:0x163,_0xd6a5d7:0x11e,_0x1d6a5a:0x14c},_0x2d2443=_0x51b9be;this[_0x2d2443(_0x239c26._0x3ef0a9)]&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this['dataSet'][_0x2d2443(_0x239c26._0xf6b786)]=[][_0x2d2443(0x17a)](this['dataSet']['_dataCache'])),this[_0x2d2443(0x161)]=new MapVRenderer(this['_map'],this[_0x2d2443(0x15f)],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this[_0x2d2443(_0x239c26._0xd6a5d7)](),this[_0x2d2443(_0x239c26._0x1d6a5a)]=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}[_0x51b9be(0x133)](){const _0x32c914={_0xc9e41f:0x13d},_0x46e63a=_0x51b9be;this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer'][_0x46e63a(0x12d)](),this[_0x46e63a(0x161)]=null),this[_0x46e63a(0x13d)][_0x46e63a(0x172)]['removeChild'](this[_0x46e63a(_0x32c914._0xc9e41f)]);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x14cb59=_0x51b9be;var _0x56059c,_0x66c99e;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x14cb59(0x147)],this),this[_0x14cb59(0x122)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x56059c=this['options'])!==null&&_0x56059c!==void 0x0&&(_0x56059c=_0x56059c['methods'])!==null&&_0x56059c!==void 0x0&&_0x56059c['click']&&this['_map']['on'](mars3d__namespace[_0x14cb59(0x124)]['click'],this['_onMapClick'],this),(_0x66c99e=this['options'])!==null&&_0x66c99e!==void 0x0&&(_0x66c99e=_0x66c99e['methods'])!==null&&_0x66c99e!==void 0x0&&_0x66c99e['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x303ba2={_0x3ee80b:0x124,_0x275a4e:0x137,_0x4dd4fa:0x16b,_0x411bdd:0x122,_0x3d36ac:0x126,_0x1ba511:0x16d},_0x450c48=_0x51b9be;var _0x22cd21,_0xa8343b;this['_map']['off'](mars3d__namespace[_0x450c48(_0x303ba2._0x3ee80b)][_0x450c48(_0x303ba2._0x275a4e)],this['_onMoveStartEvent'],this),this[_0x450c48(0x122)]['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x450c48(0x122)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace[_0x450c48(0x124)]['postRender'],this['_reset'],this),(_0x22cd21=this['options'])!==null&&_0x22cd21!==void 0x0&&(_0x22cd21=_0x22cd21['methods'])!==null&&_0x22cd21!==void 0x0&&_0x22cd21[_0x450c48(0x15c)]&&this[_0x450c48(0x122)]['off'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0xa8343b=this[_0x450c48(0x130)])!==null&&_0xa8343b!==void 0x0&&(_0xa8343b=_0xa8343b[_0x450c48(_0x303ba2._0x4dd4fa)])!==null&&_0xa8343b!==void 0x0&&_0xa8343b['mousemove']&&this[_0x450c48(_0x303ba2._0x411bdd)]['off'](mars3d__namespace[_0x450c48(_0x303ba2._0x3ee80b)][_0x450c48(_0x303ba2._0x3d36ac)],this[_0x450c48(_0x303ba2._0x1ba511)],this);}['_onMoveStartEvent'](){const _0x483d83={_0x2d7c1a:0x161,_0xbe4395:0x13e},_0x20f1c3=_0x51b9be;this[_0x20f1c3(_0x483d83._0x2d7c1a)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map'][_0x20f1c3(_0x483d83._0xbe4395)](mars3d__namespace[_0x20f1c3(0x124)]['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x20f1c3(0x14f)],this['_reset'],this));}['_onMoveEndEvent'](){const _0x580710={_0x132ab7:0x142},_0x33a196=_0x51b9be;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace[_0x33a196(0x124)]['postRender'],this[_0x33a196(_0x580710._0x132ab7)],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x5e2a65,_0x591204){this['_removedHook'](),this['_addedHook']();}[_0x51b9be(0x14a)](_0x2907a3){const _0x34462d=_0x51b9be;this[_0x34462d(0x161)]&&this['_mapVRenderer'][_0x34462d(0x14a)](_0x2907a3,this['options']);}['updateData'](_0x437739){const _0x542f78=_0x51b9be;this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x437739,this[_0x542f78(0x130)]);}['getData'](){const _0x2cae28={_0x3802db:0x15f,_0x2e6054:0x178},_0x4bf90b=_0x51b9be;return this['_mapVRenderer']&&(this[_0x4bf90b(_0x2cae28._0x3802db)]=this['_mapVRenderer'][_0x4bf90b(_0x2cae28._0x2e6054)]()),this['dataSet'];}['removeData'](_0x175557){const _0x5d49fe=_0x51b9be;this[_0x5d49fe(0x161)]&&this['_mapVRenderer']['removeData'](_0x175557);}['removeAllData'](){const _0x62fccd=_0x51b9be;this['_mapVRenderer']&&this['_mapVRenderer'][_0x62fccd(0x138)]();}['_createCanvas'](){const _0x543791={_0x3b7ba1:0x175,_0x2f45ba:0x13d,_0x4449d3:0x128,_0x2cc328:0x11d,_0x30c378:0x15a,_0x33dbad:0x12c,_0x3b586d:0x11b,_0x111dce:0x13d,_0x523c4b:0x169,_0x5da00e:0x149,_0x3dae2d:0x15b},_0x3d039c=_0x51b9be,_0x129e79=mars3d__namespace['DomUtil'][_0x3d039c(_0x543791._0x3b7ba1)](_0x3d039c(_0x543791._0x2f45ba),'mars3d-mapv',this[_0x3d039c(0x122)][_0x3d039c(_0x543791._0x4449d3)]);_0x129e79['id']=this['id'],_0x129e79['style']['position']=_0x3d039c(0x129),_0x129e79['style'][_0x3d039c(0x11c)]=_0x3d039c(_0x543791._0x2cc328),_0x129e79[_0x3d039c(0x12c)][_0x3d039c(0x14d)]=_0x3d039c(_0x543791._0x2cc328),_0x129e79['width']=parseInt(this['_map']['canvas']['width']),_0x129e79['height']=parseInt(this['_map']['canvas'][_0x3d039c(0x11b)]),_0x129e79['style'][_0x3d039c(_0x543791._0x30c378)]=this['_map'][_0x3d039c(0x13d)]['style']['width'],_0x129e79[_0x3d039c(_0x543791._0x33dbad)][_0x3d039c(_0x543791._0x3b586d)]=this['_map'][_0x3d039c(_0x543791._0x111dce)]['style'][_0x3d039c(0x11b)],_0x129e79['style']['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x129e79['style'][_0x3d039c(_0x543791._0x523c4b)]=this['options']['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x559dbf=this[_0x3d039c(_0x543791._0x5da00e)];_0x129e79['getContext'](this[_0x3d039c(0x130)][_0x3d039c(0x15e)])[_0x3d039c(_0x543791._0x3dae2d)](_0x559dbf,_0x559dbf);}return _0x129e79;}['_reset'](){const _0xa86053=_0x51b9be;this[_0xa86053(0x15d)](),this['render']();}['draw'](){this['_reset']();}[_0x51b9be(0x173)](){this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}[_0x51b9be(0x15d)](){const _0x4bdbe1={_0xfd0ddb:0x13d,_0x18924c:0x122,_0x3b56ec:0x11b,_0x30bfe8:0x12c},_0x593454=_0x51b9be;if(this['canvas']){const _0x2abdc2=this[_0x593454(_0x4bdbe1._0xfd0ddb)];_0x2abdc2['style']['position']='absolute',_0x2abdc2['style']['top']='0px',_0x2abdc2['style'][_0x593454(0x14d)]='0px',_0x2abdc2[_0x593454(0x15a)]=parseInt(this[_0x593454(_0x4bdbe1._0x18924c)]['canvas']['width']),_0x2abdc2[_0x593454(0x11b)]=parseInt(this['_map']['canvas'][_0x593454(_0x4bdbe1._0x3b56ec)]),_0x2abdc2[_0x593454(_0x4bdbe1._0x30bfe8)][_0x593454(0x15a)]=this['_map']['canvas'][_0x593454(0x12c)]['width'],_0x2abdc2['style']['height']=this['_map']['canvas']['style']['height'];}}[_0x51b9be(0x17e)](_0x21caae){const _0x3a80df={_0x56c1ef:0x15f,_0x1ebdc4:0x131},_0xb419=_0x51b9be;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0xce4ca0=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0xb419(_0x3a80df._0x56c1ef)][_0xb419(0x163)]});if(!_0xce4ca0)return;return _0x21caae!==null&&_0x21caae!==void 0x0&&_0x21caae['isFormat']?_0xce4ca0:Cesium[_0xb419(_0x3a80df._0x1ebdc4)][_0xb419(0x127)](_0xce4ca0['xmin'],_0xce4ca0['ymin'],_0xce4ca0[_0xb419(0x132)],_0xce4ca0['ymax']);}[_0x51b9be(0x11f)](_0x41a78a){const _0x279694={_0x5c2e7c:0x161,_0x1f4b45:0x176},_0x4873f1=_0x51b9be;this['_cache_event']=_0x41a78a,this[_0x4873f1(_0x279694._0x5c2e7c)]&&this['_mapVRenderer'][_0x4873f1(_0x279694._0x1f4b45)](_0x41a78a[_0x4873f1(0x152)],_0x41a78a);}[_0x51b9be(0x16d)](_0x2de3e){const _0x4c9835={_0x51f277:0x161},_0x6a590c=_0x51b9be;this[_0x6a590c(0x139)]=_0x2de3e,this['_mapVRenderer']&&this[_0x6a590c(_0x4c9835._0x51f277)]['mousemoveEvent'](_0x2de3e['windowPosition'],_0x2de3e);}['on'](_0x1c0fcd,_0x56d47b,_0x4b3689){const _0x6dda5d={_0x4b7055:0x126},_0xcb73b={_0x28051e:0x155},_0x4fad31={_0x303bfc:0x139},_0x4f72f7=_0x51b9be;this['options']['methods']=this['options']['methods']||{};if(_0x1c0fcd===mars3d__namespace['EventType']['click'])this[_0x4f72f7(0x130)][_0x4f72f7(0x16b)][_0x4f72f7(0x15c)]=_0x1c56d9=>{const _0x1bfe66=_0x4f72f7;_0x1c56d9&&_0x56d47b['bind'](_0x4b3689)({...this[_0x1bfe66(_0x4fad31._0x303bfc)],'layer':this,'data':_0x1c56d9});},this[_0x4f72f7(0x122)]['on'](mars3d__namespace['EventType']['click'],this[_0x4f72f7(0x11f)],this);else _0x1c0fcd===mars3d__namespace['EventType']['mouseMove']&&(this[_0x4f72f7(0x130)]['methods'][_0x4f72f7(0x16a)]=_0x598bc7=>{const _0x575022=_0x4f72f7;_0x598bc7&&_0x56d47b[_0x575022(_0xcb73b._0x28051e)](_0x4b3689)({...this[_0x575022(0x139)],'layer':this,'data':_0x598bc7});},this['_map']['on'](mars3d__namespace['EventType'][_0x4f72f7(_0x6dda5d._0x4b7055)],this['_onMapMouseMove'],this));return this;}['off'](_0x52073f,_0x27fece){const _0x55a6f1={_0x4a1b54:0x13e,_0x159ab6:0x16b},_0x27d1b4=_0x51b9be;if(_0x52073f===_0x27d1b4(0x15c)){var _0x2ec542;this['_map'][_0x27d1b4(_0x55a6f1._0x4a1b54)](_0x52073f,this['_onMapClick'],this),(_0x2ec542=this['options']['methods'])!==null&&_0x2ec542!==void 0x0&&_0x2ec542['mousemove']&&delete this['options']['methods'][_0x27d1b4(0x15c)];}else{if(_0x52073f==='mouseMove'){var _0x379b37;this['_map']['off'](_0x52073f,this['_onMapMouseMove'],this),(_0x379b37=this['options'][_0x27d1b4(_0x55a6f1._0x159ab6)])!==null&&_0x379b37!==void 0x0&&_0x379b37['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x51b9be(0x171)]['register']('mapv',MapVLayer),mars3d__namespace[_0x51b9be(0x13a)]['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x51b9be(0x16f)](mapv)['forEach'](function(_0x569973){const _0x41399b={_0x164220:0x17b},_0x285dfb=_0x51b9be;if(_0x569973!=='default'&&!exports['hasOwnProperty'](_0x569973))Object[_0x285dfb(_0x41399b._0x164220)](exports,_0x569973,{'enumerable':!![],'get':function(){return mapv[_0x569973];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
