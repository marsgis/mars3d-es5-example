/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.9
 * 编译日期：2024-03-28 22:20:03
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x34a455=_0x268f;(function(_0x4392d0,_0x552056){const _0xe112e2={_0x43b5e8:0x1ca,_0x3c78b3:0x1c9,_0x2918b0:0x1c1,_0x45d62c:0x206},_0xbd2cce=_0x268f,_0x2fc3af=_0x4392d0();while(!![]){try{const _0x1401cd=-parseInt(_0xbd2cce(0x1c8))/0x1+parseInt(_0xbd2cce(0x1ac))/0x2*(-parseInt(_0xbd2cce(0x197))/0x3)+-parseInt(_0xbd2cce(0x1af))/0x4*(-parseInt(_0xbd2cce(_0xe112e2._0x43b5e8))/0x5)+-parseInt(_0xbd2cce(0x199))/0x6+parseInt(_0xbd2cce(0x1cb))/0x7*(parseInt(_0xbd2cce(_0xe112e2._0x3c78b3))/0x8)+-parseInt(_0xbd2cce(0x1c3))/0x9+parseInt(_0xbd2cce(_0xe112e2._0x2918b0))/0xa*(parseInt(_0xbd2cce(_0xe112e2._0x45d62c))/0xb);if(_0x1401cd===_0x552056)break;else _0x2fc3af['push'](_0x2fc3af['shift']());}catch(_0x1978dd){_0x2fc3af['push'](_0x2fc3af['shift']());}}}(_0x36de,0xda9ae));function _0x268f(_0x25a40a,_0x3c9bdd){const _0x36de88=_0x36de();return _0x268f=function(_0x268f19,_0x469912){_0x268f19=_0x268f19-0x188;let _0x47acb5=_0x36de88[_0x268f19];return _0x47acb5;},_0x268f(_0x25a40a,_0x3c9bdd);}function _interopNamespace(_0x4563f3){const _0x37c0b9={_0x27eabb:0x1e8,_0x2f1b6a:0x1be};if(_0x4563f3&&_0x4563f3['__esModule'])return _0x4563f3;var _0x49a45c=Object['create'](null);return _0x4563f3&&Object['keys'](_0x4563f3)['forEach'](function(_0x1d3afb){const _0x3f1e81=_0x268f;if(_0x1d3afb!=='default'){var _0x2dd726=Object[_0x3f1e81(_0x37c0b9._0x27eabb)](_0x4563f3,_0x1d3afb);Object['defineProperty'](_0x49a45c,_0x1d3afb,_0x2dd726[_0x3f1e81(_0x37c0b9._0x2f1b6a)]?_0x2dd726:{'enumerable':!![],'get':function(){return _0x4563f3[_0x1d3afb];}});}}),_0x49a45c['default']=_0x4563f3,_0x49a45c;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x34a455(0x1fd)],baiduMapLayer=mapv__namespace?mapv__namespace[_0x34a455(0x1dd)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x34a455(0x19c)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x5472f6,_0x2888dc,_0x2242a0,_0x4209a3){const _0x53a2ea={_0x171747:0x1e3,_0x3b902c:0x1e5,_0x1c8ebe:0x1ee,_0x6bb443:0x1fb,_0x1616ff:0x1bc},_0x160ae6=_0x34a455;super(_0x5472f6,_0x2888dc,_0x2242a0);if(!BaseLayer$1)return;this['map']=_0x5472f6,this[_0x160ae6(_0x53a2ea._0x171747)]=_0x5472f6[_0x160ae6(0x1e3)],this[_0x160ae6(_0x53a2ea._0x3b902c)]=_0x2888dc,_0x2242a0=_0x2242a0||{},this[_0x160ae6(_0x53a2ea._0x1c8ebe)](_0x2242a0),this['argCheck'](_0x2242a0),this[_0x160ae6(_0x53a2ea._0x6bb443)](),this['canvasLayer']=_0x4209a3,this[_0x160ae6(_0x53a2ea._0x1616ff)]=!0x1,this['animation']=_0x2242a0['animation'];}[_0x34a455(0x1fb)](){const _0x15dcb3=_0x34a455;this[_0x15dcb3(0x1da)]=window['devicePixelRatio']||0x1;}[_0x34a455(0x18d)](){}[_0x34a455(0x1cf)](){const _0x2adc98={_0x4f0a2c:0x1c0,_0x78c55c:0x203,_0x52050e:0x1d8},_0x552c52=_0x34a455,_0x55ecb9=this[_0x552c52(0x1c2)][_0x552c52(_0x2adc98._0x4f0a2c)];this['isEnabledTime']()&&this[_0x552c52(0x191)]&&(this['steps'][_0x552c52(_0x2adc98._0x78c55c)]=_0x55ecb9[_0x552c52(_0x2adc98._0x52050e)][_0x552c52(0x1a9)]);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x1aaa46={_0x524877:0x1fe},_0x2e0352=_0x34a455;return this['canvasLayer'][_0x2e0352(_0x1aaa46._0x524877)]['getContext'](this['context']);}['init'](_0x3d2c29){const _0x4eb726={_0x26aae2:0x1e1,_0x1d499c:0x1a3,_0x33dfbf:0x1c2},_0x3b442a=_0x34a455;this[_0x3b442a(0x1c2)]=_0x3d2c29,this['initDataRange'](_0x3d2c29),this[_0x3b442a(_0x4eb726._0x26aae2)]=this['options']['context']||'2d',Cesium$1['defined'](this['options'][_0x3b442a(0x205)])&&this[_0x3b442a(_0x4eb726._0x1d499c)]&&this['canvasLayer'][_0x3b442a(0x1e9)]&&this['canvasLayer']['setZIndex'](this[_0x3b442a(_0x4eb726._0x33dfbf)]['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x5a53ac){const _0x5b599f={_0x4f1159:0x1a3,_0x497810:0x1c2,_0x23533e:0x1ed,_0x52c22b:0x1ec,_0x3d6843:0x1ad,_0x51564c:0x18e,_0x2258b0:0x1a6,_0xb66c3d:0x1f3,_0x493c77:0x1f1,_0x26117f:0x1e0,_0x2b671c:0x1d6,_0x48bacb:0x1b8,_0x1f5904:0x1f2,_0x5b0337:0x1be,_0x576157:0x195,_0x4ef821:0x19f,_0x572e0d:0x19f},_0xd539dd={_0x2b70b7:0x1fc,_0x5e82d5:0x1d1,_0x462d0b:0x1d7},_0xd54871=_0x34a455;if(!this[_0xd54871(_0x5b599f._0x4f1159)]||this['stopAniamation'])return;const _0x4aeb07=this['scene'],_0x4aef32=this[_0xd54871(_0x5b599f._0x497810)]['animation'],_0x25f3d5=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x5a53ac)return void this[_0xd54871(_0x5b599f._0x23533e)](_0x25f3d5);this['context']==='2d'&&(_0x25f3d5['save'](),_0x25f3d5['globalCompositeOperation']=_0xd54871(_0x5b599f._0x52c22b),_0x25f3d5['fillStyle']=_0xd54871(_0x5b599f._0x3d6843),_0x25f3d5[_0xd54871(0x1cc)](0x0,0x0,_0x25f3d5['canvas'][_0xd54871(_0x5b599f._0x51564c)],_0x25f3d5['canvas']['height']),_0x25f3d5[_0xd54871(0x1c6)]());}else this[_0xd54871(_0x5b599f._0x23533e)](_0x25f3d5);if(this['context']==='2d')for(const _0x1ef096 in this['options']){_0x25f3d5[_0x1ef096]=this['options'][_0x1ef096];}else _0x25f3d5['clear'](_0x25f3d5['COLOR_BUFFER_BIT']);const _0x55dd7b={'transferCoordinate':function(_0x483721){const _0x51eb75=_0xd54871,_0x5397eb=null;let _0x42f9db=_0x4aeb07['mapvFixedHeight'];_0x4aeb07[_0x51eb75(_0xd539dd._0x2b70b7)]&&(_0x42f9db=_0x4aeb07['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x483721[0x0],_0x483721[0x1])));const _0x25dd06=Cesium$1['Cartesian3']['fromDegrees'](_0x483721[0x0],_0x483721[0x1],_0x42f9db);if(!_0x25dd06)return _0x5397eb;const _0x20b5df=_0x4aeb07['cartesianToCanvasCoordinates'](_0x25dd06);if(!_0x20b5df)return _0x5397eb;if(_0x4aeb07['mapvDepthTest']&&_0x4aeb07['mode']===Cesium$1['SceneMode'][_0x51eb75(0x1a7)]){const _0x2442a6=new Cesium$1[(_0x51eb75(_0xd539dd._0x5e82d5))](_0x4aeb07[_0x51eb75(_0xd539dd._0x462d0b)]['ellipsoid'],_0x4aeb07['camera'][_0x51eb75(0x1a8)]),_0x2181a8=_0x2442a6['isPointVisible'](_0x25dd06);if(!_0x2181a8)return _0x5397eb;}return[_0x20b5df['x'],_0x20b5df['y']];}};void 0x0!==_0x5a53ac&&(_0x55dd7b[_0xd54871(0x192)]=function(_0x220481){const _0x5133e6=_0x4aef32['trails']||0xa;return!!(_0x5a53ac&&_0x220481['time']>_0x5a53ac-_0x5133e6&&_0x220481['time']<_0x5a53ac);});let _0x3f6fcc;if(this[_0xd54871(_0x5b599f._0x497810)]['draw']===_0xd54871(0x188)&&(!this['options']['maxClusterZoom']||this['options']['maxClusterZoom']>=this['getZoom']())){this['map']['getExtent']();const _0x23192a=this['getZoom'](),_0x5186c7=this['supercluster']['getClusters']([-0xb4,-0x5a,0xb4,0x5a],_0x23192a);this[_0xd54871(_0x5b599f._0x2258b0)]=this['supercluster'][_0xd54871(_0x5b599f._0xb66c3d)][_0x23192a]['max'],this[_0xd54871(_0x5b599f._0x493c77)]=this[_0xd54871(0x1ce)]['trees'][_0x23192a][_0xd54871(_0x5b599f._0x26117f)];let _0x495001={},_0x38f4f8=null,_0x23415a=null;this['pointCountMax']===this['pointCountMin']?(_0x38f4f8=this[_0xd54871(_0x5b599f._0x497810)][_0xd54871(0x1ab)],_0x23415a=this['options']['minSize']||0x8):_0x495001=new mapv__namespace[(_0xd54871(_0x5b599f._0x2b671c))]({'min':this['pointCountMin'],'max':this['pointCountMax'],'minSize':this['options']['minSize']||0x8,'maxSize':this[_0xd54871(0x1c2)][_0xd54871(_0x5b599f._0x48bacb)]||0x1e,'gradient':this['options'][_0xd54871(0x19a)]});for(let _0x5be6f9=0x0;_0x5be6f9<_0x5186c7['length'];_0x5be6f9++){const _0x29699e=_0x5186c7[_0x5be6f9];_0x29699e[_0xd54871(_0x5b599f._0x1f5904)]&&_0x29699e['properties'][_0xd54871(0x1ea)]?(_0x5186c7[_0x5be6f9]['size']=_0x23415a||_0x495001['getSize'](_0x29699e[_0xd54871(_0x5b599f._0x1f5904)]['point_count']),_0x5186c7[_0x5be6f9]['fillStyle']=_0x38f4f8||_0x495001['getColor'](_0x29699e[_0xd54871(0x1f2)]['point_count'])):_0x5186c7[_0x5be6f9]['size']=this['options'][_0xd54871(0x1d9)];}this[_0xd54871(0x1b4)][_0xd54871(0x1f9)](_0x5186c7),_0x3f6fcc=this['clusterDataSet']['get'](_0x55dd7b);}else _0x3f6fcc=this['dataSet'][_0xd54871(_0x5b599f._0x5b0337)](_0x55dd7b);this['processData'](_0x3f6fcc);this['options']['unit']==='m'&&this[_0xd54871(0x1c2)]['size']&&(this['options'][_0xd54871(0x1eb)]=this['options'][_0xd54871(0x1d9)]);const _0x37ae7d=_0x4aeb07['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x37ae7d)return;this['drawContext'](_0x25f3d5,new mapv__namespace[(_0xd54871(_0x5b599f._0x576157))](_0x3f6fcc),this['options'],_0x37ae7d),this[_0xd54871(0x1c2)][_0xd54871(_0x5b599f._0x4ef821)]&&this['options'][_0xd54871(_0x5b599f._0x572e0d)](_0x5a53ac);}['updateData'](_0x18ad07,_0x215939){const _0x3aa5ea={_0xd1cdb2:0x1f9},_0x319f4a=_0x34a455;let _0x5c8934=_0x18ad07;_0x5c8934&&_0x5c8934['get']&&(_0x5c8934=_0x5c8934['get']()),void 0x0!==_0x5c8934&&this['dataSet'][_0x319f4a(_0x3aa5ea._0xd1cdb2)](_0x5c8934),super['update']({'options':_0x215939});}[_0x34a455(0x1c5)](_0xf4dbb,_0x2b7ad5){let _0x1f8340=_0xf4dbb;_0xf4dbb&&_0xf4dbb['get']&&(_0x1f8340=_0xf4dbb['get']()),this['dataSet']['add'](_0x1f8340),this['update']({'options':_0x2b7ad5});}['getData'](){const _0x3f1449=_0x34a455;return this[_0x3f1449(0x1e5)];}['removeData'](_0x2170f8){const _0x502ce1={_0x3e1d64:0x1e5},_0x3e982e=_0x34a455;if(this['dataSet']){const _0xbbf4e3=this[_0x3e982e(_0x502ce1._0x3e1d64)]['get']({'filter':function(_0x45696b){return _0x2170f8==null||typeof _0x2170f8!=='function'||!_0x2170f8(_0x45696b);}});this['dataSet']['set'](_0xbbf4e3),this['update']({'options':null});}}['clearData'](){const _0x887d90=_0x34a455;this['dataSet']&&this['dataSet'][_0x887d90(0x1ed)](),this['update']({'options':null});}[_0x34a455(0x201)](){const _0x4f1af5=_0x34a455;this[_0x4f1af5(0x1a3)]['draw']();}['clear'](_0x577d58){const _0x1d0f40={_0x56e548:0x19d},_0xb9175=_0x34a455;_0x577d58&&_0x577d58[_0xb9175(0x1ef)]&&_0x577d58['clearRect'](0x0,0x0,_0x577d58['canvas']['width'],_0x577d58['canvas'][_0xb9175(_0x1d0f40._0x56e548)]);}['getZoom'](){const _0x114423={_0x40fd52:0x18c},_0x4317a2=_0x34a455;return this[_0x4317a2(_0x114423._0x40fd52)]['level'];}[_0x34a455(0x1d0)](){const _0x2cc14e={_0x9ffec7:0x196,_0x16751d:0x19b},_0xd839a6=_0x34a455;this['clear'](this[_0xd839a6(_0x2cc14e._0x9ffec7)]()),this['clearData'](),this['animator']&&this['animator'][_0xd839a6(_0x2cc14e._0x16751d)](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x34a455(0x195)]['prototype']['transferCoordinate']=function(_0xf064ec,_0x5a2c11,_0x2d7ab5,_0x48c2ae){const _0x296fc3={_0x14b110:0x1bb,_0x2ae71f:0x190,_0x43f334:0x1e2,_0x19d85b:0x1a4,_0x40263d:0x1b7},_0xaacebe=_0x34a455;_0x48c2ae=_0x48c2ae||'_coordinates',_0x2d7ab5=_0x2d7ab5||'coordinates';for(let _0xb10c58=0x0;_0xb10c58<_0xf064ec[_0xaacebe(_0x296fc3._0x14b110)];_0xb10c58++){const _0xa122e9=_0xf064ec[_0xb10c58][_0xaacebe(_0x296fc3._0x2ae71f)],_0xe9d34b=_0xa122e9[_0x2d7ab5];switch(_0xa122e9['type']){case'Point':{const _0x1a6973=_0x5a2c11(_0xe9d34b);_0x1a6973?_0xa122e9[_0x48c2ae]=_0x1a6973:_0xa122e9[_0x48c2ae]=[-0x3e7,-0x3e7];}break;case _0xaacebe(_0x296fc3._0x43f334):{const _0x5aa5ab=[];for(let _0x2c4ab5=0x0;_0x2c4ab5<_0xe9d34b['length'];_0x2c4ab5++){const _0x16066c=_0x5a2c11(_0xe9d34b[_0x2c4ab5]);_0x16066c&&_0x5aa5ab[_0xaacebe(_0x296fc3._0x19d85b)](_0x16066c);}_0xa122e9[_0x48c2ae]=_0x5aa5ab;}break;case'MultiLineString':case _0xaacebe(0x194):{const _0x31fd22=_0x399ed6(_0xe9d34b);_0xa122e9[_0x48c2ae]=_0x31fd22;}break;case _0xaacebe(_0x296fc3._0x40263d):{const _0xdd64c1=[];for(let _0x9d8530=0x0;_0x9d8530<_0xe9d34b['length'];_0x9d8530++){const _0x12947a=_0x399ed6(_0xe9d34b[_0x9d8530]);_0x12947a['length']>0x0&&_0xdd64c1[_0xaacebe(_0x296fc3._0x19d85b)](_0x12947a);}_0xa122e9[_0x48c2ae]=_0xdd64c1;}break;}}function _0x399ed6(_0x49723b){const _0x26651e=_0xaacebe,_0x58293e=[];for(let _0x12bb33=0x0;_0x12bb33<_0x49723b['length'];_0x12bb33++){const _0x5c4e33=_0x49723b[_0x12bb33],_0x1185d9=[];for(let _0x4d2d56=0x0;_0x4d2d56<_0x5c4e33['length'];_0x4d2d56++){const _0x518830=_0x5a2c11(_0x5c4e33[_0x4d2d56]);_0x518830&&_0x1185d9['push'](_0x518830);}_0x1185d9[_0x26651e(0x1bb)]>0x0&&_0x58293e['push'](_0x1185d9);}return _0x58293e;}return _0xf064ec;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x34a455(0x1fd)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];function _0x36de(){const _0x54c4f0=['SCENE3D','positionWC','start','removeAllData','fillStyle','246vZfwgG','rgba(0,\x200,\x200,\x20.1)','getRectangle','4HbFpzl','_onMoveStartEvent','position','style','_pointerEvents','clusterDataSet','mapvFixedHeight','_onMapClick','MultiPolygon','maxSize','block','_cache_event','length','stopAniamation','removeData','get','depthTest','animation','10UxNGaX','options','14893911UsNODS','none','addData','restore','cameraMoveStart','1511574DfdryH','8HpFdMx','8178035EePZgU','12510631ivQYuU','fillRect','clickEvent','supercluster','animatorMovestartEvent','destroy','EllipsoidalOccluder','EventType','_onMapMouseMove','_removedHook','display','utilDataRangeIntensity','globe','stepsRange','size','devicePixelRatio','mouseMove','Util','baiduMapLayer','mousemove','mapv','min','context','LineString','scene','_reset','dataSet','DomUtil','_dataCache','getOwnPropertyDescriptor','setZIndex','cluster_id','_size','destination-out','clear','init','clearRect','Rectangle','pointCountMin','properties','trees','_addedHook','bindEvent','click','clampToGround','off','set','MapVLayer','initDevicePixelRatio','mapvAutoHeight','Cesium','canvas','parentElement','auto','draw','removeChild','step','methods','zIndex','29963153MNqwdw','cluster','_data','updateData','_mapVRenderer','map','addAnimatorEvent','width','create','geometry','animator','filter','_map','Polygon','DataSet','getContext','24729pzPSls','pointerEvents','6426090pmOrXD','gradient','stop','__proto__','height','postRender','updateCallback','getData','fixedHeight','_createCanvas','canvasLayer','push','forEach','pointCountMax'];_0x36de=function(){return _0x54c4f0;};return _0x36de();}class MapVLayer extends BaseLayer{constructor(_0x5b78ca,_0x1d5b80){const _0x1e1d95={_0x4b3fb4:0x198},_0x4888ad=_0x34a455;super(_0x5b78ca),this['_pointerEvents']=this['options'][_0x4888ad(_0x1e1d95._0x4b3fb4)],this[_0x4888ad(0x1e5)]=_0x1d5b80||new mapv__namespace['DataSet'](_0x5b78ca['data']),this['canvas']=null;}get['pointerEvents'](){const _0x39e3b1=_0x34a455;return this[_0x39e3b1(0x1b3)];}set['pointerEvents'](_0x272500){const _0x3c558a={_0x173bfb:0x198},_0x9fd1d=_0x34a455;this['_pointerEvents']=_0x272500,this['canvas']&&(_0x272500?this['canvas']['style'][_0x9fd1d(_0x3c558a._0x173bfb)]='all':this['canvas']['style']['pointerEvents']='none');}['_showHook'](_0x101ba1){const _0x2ae75a={_0x24e091:0x1b9,_0x256cf8:0x1d5},_0x5b0ccb=_0x34a455;_0x101ba1?this['canvas']['style'][_0x5b0ccb(0x1d5)]=_0x5b0ccb(_0x2ae75a._0x24e091):this['canvas']['style'][_0x5b0ccb(_0x2ae75a._0x256cf8)]='none';}['_mountedHook'](){const _0x5e6007={_0x16f4fe:0x1c2,_0x230b36:0x1f7},_0x5f05d6=_0x34a455;this['_map']['scene']['mapvDepthTest']=this['options'][_0x5f05d6(0x1bf)]??!![],this['_map']['scene']['mapvAutoHeight']=this[_0x5f05d6(_0x5e6007._0x16f4fe)][_0x5f05d6(_0x5e6007._0x230b36)]??![],this['_map'][_0x5f05d6(0x1e3)][_0x5f05d6(0x1b5)]=this['options'][_0x5f05d6(0x1a1)]??0x0;}[_0x34a455(0x1f4)](){const _0x137564={_0x2edd9d:0x189,_0xdc4711:0x193,_0x4f0fa9:0x1fe},_0x5a4bec=_0x34a455;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this['dataSet'][_0x5a4bec(_0x137564._0x2edd9d)]=[]['concat'](this['dataSet'][_0x5a4bec(0x1e7)])),this[_0x5a4bec(0x18b)]=new MapVRenderer(this[_0x5a4bec(_0x137564._0xdc4711)],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this[_0x5a4bec(_0x137564._0x4f0fa9)]=this['_createCanvas'](),this['render']=this['render']['bind'](this),this['bindEvent'](),this[_0x5a4bec(0x1e4)]();}['_removedHook'](){const _0xfa4967={_0xac96dd:0x18b},_0x12b99c=_0x34a455;this['unbindEvent'](),this[_0x12b99c(_0xfa4967._0xac96dd)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this[_0x12b99c(0x1fe)]['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0x507520=_0x34a455;this[_0x507520(0x1da)]=window['devicePixelRatio']||0x1;}[_0x34a455(0x1f5)](){const _0x5d6ac3={_0x2a6642:0x193,_0xd5333d:0x1f6,_0x24ca1c:0x193,_0x1e31c3:0x1f6},_0x17c1c1=_0x34a455;var _0x2d2f8c,_0x10ab69;this[_0x17c1c1(0x193)]['on'](mars3d__namespace[_0x17c1c1(0x1d2)]['mouseDown'],this[_0x17c1c1(0x1b0)],this),this['_map']['on'](mars3d__namespace['EventType'][_0x17c1c1(0x1c7)],this['_onMoveStartEvent'],this),this[_0x17c1c1(_0x5d6ac3._0x2a6642)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x2d2f8c=this['options'])!==null&&_0x2d2f8c!==void 0x0&&(_0x2d2f8c=_0x2d2f8c[_0x17c1c1(0x204)])!==null&&_0x2d2f8c!==void 0x0&&_0x2d2f8c[_0x17c1c1(_0x5d6ac3._0xd5333d)]&&this[_0x17c1c1(_0x5d6ac3._0x24ca1c)]['on'](mars3d__namespace['EventType'][_0x17c1c1(_0x5d6ac3._0x1e31c3)],this['_onMapClick'],this),(_0x10ab69=this['options'])!==null&&_0x10ab69!==void 0x0&&(_0x10ab69=_0x10ab69['methods'])!==null&&_0x10ab69!==void 0x0&&_0x10ab69[_0x17c1c1(0x1de)]&&this[_0x17c1c1(0x193)]['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x81e2df={_0x2f3cb8:0x1e4,_0x16c9a8:0x1d2},_0x17ce7e=_0x34a455;var _0x286fb9,_0xc791cc;this['_map']['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x17ce7e(0x1d2)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace[_0x17ce7e(0x1d2)]['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x17ce7e(_0x81e2df._0x2f3cb8)],this),(_0x286fb9=this['options'])!==null&&_0x286fb9!==void 0x0&&(_0x286fb9=_0x286fb9['methods'])!==null&&_0x286fb9!==void 0x0&&_0x286fb9['click']&&this['_map']['off'](mars3d__namespace[_0x17ce7e(_0x81e2df._0x16c9a8)]['click'],this['_onMapClick'],this),(_0xc791cc=this['options'])!==null&&_0xc791cc!==void 0x0&&(_0xc791cc=_0xc791cc['methods'])!==null&&_0xc791cc!==void 0x0&&_0xc791cc['mousemove']&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x55752c=_0x34a455;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace[_0x55752c(0x1d2)]['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x201d79={_0x310190:0x193,_0x5223cc:0x1f8,_0x5b52e4:0x19e},_0x475ed9=_0x34a455;this['_mapVRenderer']&&(this[_0x475ed9(_0x201d79._0x310190)][_0x475ed9(_0x201d79._0x5223cc)](mars3d__namespace['EventType'][_0x475ed9(_0x201d79._0x5b52e4)],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x2b5e1d,_0x345f6d){const _0x49bedf=_0x34a455;this[_0x49bedf(0x1d4)](),this['_addedHook']();}['addData'](_0x1b1ca6){const _0x3e431a=_0x34a455;this[_0x3e431a(0x18b)]&&this['_mapVRenderer']['addData'](_0x1b1ca6,this['options']);}[_0x34a455(0x18a)](_0x5f299f){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x5f299f,this['options']);}[_0x34a455(0x1a0)](){const _0x1f2cc7={_0xeef3e5:0x1a0},_0x58c991=_0x34a455;return this[_0x58c991(0x18b)]&&(this['dataSet']=this[_0x58c991(0x18b)][_0x58c991(_0x1f2cc7._0xeef3e5)]()),this['dataSet'];}[_0x34a455(0x1bd)](_0x1bb664){const _0x1be4d3=_0x34a455;this['_mapVRenderer']&&this[_0x1be4d3(0x18b)]['removeData'](_0x1bb664);}[_0x34a455(0x1aa)](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}[_0x34a455(0x1a2)](){const _0x89a6f={_0x42e21c:0x1e6,_0x1dbf56:0x1b1,_0x1b8c00:0x1b2,_0x5d9cc1:0x193,_0x89cad:0x19d,_0x46b30a:0x18e,_0x2b6ded:0x200,_0x1cd2df:0x1b2,_0x57bbf8:0x1e1},_0x32d6e3=_0x34a455,_0x496ea6=mars3d__namespace[_0x32d6e3(_0x89a6f._0x42e21c)][_0x32d6e3(0x18f)](_0x32d6e3(0x1fe),'mars3d-mapv',this[_0x32d6e3(0x193)]['container']);_0x496ea6['id']=this['id'],_0x496ea6['style'][_0x32d6e3(_0x89a6f._0x1dbf56)]='absolute',_0x496ea6[_0x32d6e3(0x1b2)]['top']='0px',_0x496ea6[_0x32d6e3(_0x89a6f._0x1b8c00)]['left']='0px',_0x496ea6['width']=parseInt(this[_0x32d6e3(_0x89a6f._0x5d9cc1)]['canvas']['width']),_0x496ea6['height']=parseInt(this['_map']['canvas'][_0x32d6e3(_0x89a6f._0x89cad)]),_0x496ea6['style'][_0x32d6e3(_0x89a6f._0x46b30a)]=this['_map']['canvas'][_0x32d6e3(_0x89a6f._0x1b8c00)][_0x32d6e3(_0x89a6f._0x46b30a)],_0x496ea6['style']['height']=this['_map']['canvas']['style']['height'],_0x496ea6['style']['pointerEvents']=this['_pointerEvents']?_0x32d6e3(_0x89a6f._0x2b6ded):_0x32d6e3(0x1c4),_0x496ea6[_0x32d6e3(_0x89a6f._0x1cd2df)]['zIndex']=this[_0x32d6e3(0x1c2)]['zIndex']??0x9;if(this['options'][_0x32d6e3(_0x89a6f._0x57bbf8)]==='2d'){const _0x3bbe0d=this['devicePixelRatio'];_0x496ea6['getContext'](this['options']['context'])['scale'](_0x3bbe0d,_0x3bbe0d);}return _0x496ea6;}['_reset'](){this['resize'](),this['render']();}[_0x34a455(0x201)](){const _0x3ea419={_0x525073:0x1e4},_0x3acc68=_0x34a455;this[_0x3acc68(_0x3ea419._0x525073)]();}['remove'](){const _0x45c5f5={_0x5d506e:0x1ff,_0x148c37:0x202,_0x27f322:0x1fe},_0x330c7d=_0x34a455;this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this[_0x330c7d(0x1fe)][_0x330c7d(_0x45c5f5._0x5d506e)][_0x330c7d(_0x45c5f5._0x148c37)](this[_0x330c7d(_0x45c5f5._0x27f322)]);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x3e643b=_0x34a455;if(this['canvas']){const _0x4b953b=this[_0x3e643b(0x1fe)];_0x4b953b['style']['position']='absolute',_0x4b953b['style']['top']='0px',_0x4b953b['style']['left']='0px',_0x4b953b['width']=parseInt(this['_map']['canvas']['width']),_0x4b953b['height']=parseInt(this['_map']['canvas']['height']),_0x4b953b['style']['width']=this['_map']['canvas'][_0x3e643b(0x1b2)]['width'],_0x4b953b['style']['height']=this[_0x3e643b(0x193)]['canvas']['style'][_0x3e643b(0x19d)];}}[_0x34a455(0x1ae)](_0x16b609){const _0x4d14dd={_0x281b85:0x1e5,_0x179e98:0x189,_0x43d3df:0x1f0},_0x2bad97=_0x34a455;if(!this['dataSet']||!this[_0x2bad97(_0x4d14dd._0x281b85)]['_data'])return;const _0x4d1622=mars3d__namespace[_0x2bad97(0x1dc)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet'][_0x2bad97(_0x4d14dd._0x179e98)]});if(!_0x4d1622)return;return _0x16b609!==null&&_0x16b609!==void 0x0&&_0x16b609['isFormat']?_0x4d1622:Cesium[_0x2bad97(_0x4d14dd._0x43d3df)]['fromDegrees'](_0x4d1622['xmin'],_0x4d1622['ymin'],_0x4d1622['xmax'],_0x4d1622['ymax']);}[_0x34a455(0x1b6)](_0x3de3f0){const _0x5218b6={_0x3a4015:0x1cd},_0x240d21=_0x34a455;this['_cache_event']=_0x3de3f0,this['_mapVRenderer']&&this['_mapVRenderer'][_0x240d21(_0x5218b6._0x3a4015)](_0x3de3f0['windowPosition'],_0x3de3f0);}['_onMapMouseMove'](_0x2f9258){const _0x125ae7={_0x53f8a4:0x18b},_0xc84f0b=_0x34a455;this['_cache_event']=_0x2f9258,this['_mapVRenderer']&&this[_0xc84f0b(_0x125ae7._0x53f8a4)]['mousemoveEvent'](_0x2f9258['windowPosition'],_0x2f9258);}['on'](_0x591706,_0x2f3278,_0x234883){const _0x3b6df0={_0x586a68:0x1c2,_0x21ed93:0x204,_0x23559b:0x1db,_0x4ca07a:0x193,_0x1a2a91:0x1db},_0x392349={_0x5cf96a:0x1ba},_0x5f0190=_0x34a455;this['options']['methods']=this[_0x5f0190(_0x3b6df0._0x586a68)]['methods']||{};if(_0x591706===mars3d__namespace['EventType']['click'])this['options'][_0x5f0190(_0x3b6df0._0x21ed93)]['click']=_0x4e7066=>{_0x4e7066&&_0x2f3278['bind'](_0x234883)({...this['_cache_event'],'layer':this,'data':_0x4e7066});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x591706===mars3d__namespace[_0x5f0190(0x1d2)][_0x5f0190(_0x3b6df0._0x23559b)]&&(this[_0x5f0190(0x1c2)]['methods']['mousemove']=_0x2aceea=>{const _0x53811d=_0x5f0190;_0x2aceea&&_0x2f3278['bind'](_0x234883)({...this[_0x53811d(_0x392349._0x5cf96a)],'layer':this,'data':_0x2aceea});},this[_0x5f0190(_0x3b6df0._0x4ca07a)]['on'](mars3d__namespace['EventType'][_0x5f0190(_0x3b6df0._0x1a2a91)],this[_0x5f0190(0x1d3)],this));return this;}['off'](_0x356c76,_0x546f18){const _0x2d478f={_0x458503:0x1c2},_0x16c5ce=_0x34a455;if(_0x356c76==='click'){var _0x1eafb5;this[_0x16c5ce(0x193)]['off'](_0x356c76,this['_onMapClick'],this),(_0x1eafb5=this[_0x16c5ce(_0x2d478f._0x458503)]['methods'])!==null&&_0x1eafb5!==void 0x0&&_0x1eafb5['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x356c76==='mouseMove'){var _0x5993ee;this[_0x16c5ce(0x193)]['off'](_0x356c76,this['_onMapMouseMove'],this),(_0x5993ee=this['options']['methods'])!==null&&_0x5993ee!==void 0x0&&_0x5993ee['mousemove']&&delete this['options'][_0x16c5ce(0x204)][_0x16c5ce(0x1de)];}}return this;}}mars3d__namespace['LayerUtil']['register']('mapv',MapVLayer),mars3d__namespace['layer'][_0x34a455(0x1fa)]=MapVLayer,mars3d__namespace[_0x34a455(0x1df)]=mapv__namespace,exports[_0x34a455(0x1fa)]=MapVLayer,Object['keys'](mapv)[_0x34a455(0x1a5)](function(_0x57a8df){if(_0x57a8df!=='default'&&!exports['hasOwnProperty'](_0x57a8df))Object['defineProperty'](exports,_0x57a8df,{'enumerable':!![],'get':function(){return mapv[_0x57a8df];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
