/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.9
 * 编译日期：2024-04-06 21:26:44
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x30045e=_0x4c01;(function(_0xb7ec4a,_0x45c22c){const _0x504bf8={_0x16f5f0:0x1df,_0x3f3b98:0x1c1,_0x374908:0x1e0,_0xdb94b7:0x1d0,_0x3542e0:0x18d},_0x5e2e36=_0x4c01,_0xe5f2e4=_0xb7ec4a();while(!![]){try{const _0x568dcc=parseInt(_0x5e2e36(_0x504bf8._0x16f5f0))/0x1+parseInt(_0x5e2e36(0x1dc))/0x2*(parseInt(_0x5e2e36(0x1a2))/0x3)+parseInt(_0x5e2e36(_0x504bf8._0x3f3b98))/0x4*(parseInt(_0x5e2e36(0x1c9))/0x5)+-parseInt(_0x5e2e36(_0x504bf8._0x374908))/0x6*(parseInt(_0x5e2e36(0x18b))/0x7)+-parseInt(_0x5e2e36(0x192))/0x8*(parseInt(_0x5e2e36(0x1a4))/0x9)+parseInt(_0x5e2e36(0x1a5))/0xa*(-parseInt(_0x5e2e36(_0x504bf8._0xdb94b7))/0xb)+-parseInt(_0x5e2e36(_0x504bf8._0x3542e0))/0xc;if(_0x568dcc===_0x45c22c)break;else _0xe5f2e4['push'](_0xe5f2e4['shift']());}catch(_0x3848a3){_0xe5f2e4['push'](_0xe5f2e4['shift']());}}}(_0x4c43,0xec08a));function _interopNamespace(_0xadfda8){if(_0xadfda8&&_0xadfda8['__esModule'])return _0xadfda8;var _0x399e82=Object['create'](null);return _0xadfda8&&Object['keys'](_0xadfda8)['forEach'](function(_0x5c02a7){const _0x90e9b0=_0x4c01;if(_0x5c02a7!=='default'){var _0x2cbebe=Object['getOwnPropertyDescriptor'](_0xadfda8,_0x5c02a7);Object[_0x90e9b0(0x1b1)](_0x399e82,_0x5c02a7,_0x2cbebe['get']?_0x2cbebe:{'enumerable':!![],'get':function(){return _0xadfda8[_0x5c02a7];}});}}),_0x399e82['default']=_0xadfda8,_0x399e82;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x30045e(0x1a8)],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x3fe4ac,_0x541ebb,_0x444a7a,_0x7942a0){const _0x4a15a8={_0x4b0f2f:0x19e,_0x1527a1:0x185},_0xa0ebe3=_0x30045e;super(_0x3fe4ac,_0x541ebb,_0x444a7a);if(!BaseLayer$1)return;this[_0xa0ebe3(_0x4a15a8._0x4b0f2f)]=_0x3fe4ac,this[_0xa0ebe3(_0x4a15a8._0x1527a1)]=_0x3fe4ac[_0xa0ebe3(_0x4a15a8._0x1527a1)],this['dataSet']=_0x541ebb,_0x444a7a=_0x444a7a||{},this['init'](_0x444a7a),this['argCheck'](_0x444a7a),this['initDevicePixelRatio'](),this['canvasLayer']=_0x7942a0,this['stopAniamation']=!0x1,this['animation']=_0x444a7a['animation'];}[_0x30045e(0x1ae)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x30045e(0x1bc)](){}['animatorMovestartEvent'](){const _0x38566c=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps']['step']=_0x38566c['stepsRange']['start']);}[_0x30045e(0x1d7)](){const _0x2d9cf7=_0x30045e;this['isEnabledTime']()&&this[_0x2d9cf7(0x188)];}['getContext'](){return this['canvasLayer']['canvas']['getContext'](this['context']);}['init'](_0x39ec1c){const _0x41b458={_0x4621ad:0x1a1,_0x3ce510:0x1c6},_0x1b5b44=_0x30045e;this['options']=_0x39ec1c,this[_0x1b5b44(_0x41b458._0x4621ad)](_0x39ec1c),this['context']=this['options'][_0x1b5b44(0x1b6)]||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this['canvasLayer'][_0x1b5b44(_0x41b458._0x3ce510)]&&this['canvasLayer']['setZIndex'](this['options']['zIndex']),this['initAnimator']();}[_0x30045e(0x1a3)](_0x13b592){const _0x16e538={_0x4f1f16:0x1b6,_0x2747f7:0x1cf,_0x4b31d6:0x1e4,_0xcab7dd:0x1c5,_0x1f1b1c:0x1c5,_0x185228:0x1c7,_0x464f8d:0x1a0,_0x39a916:0x1b8,_0x5a827c:0x1dd,_0x40f1db:0x197,_0x29d822:0x1d1,_0x4d8f42:0x193,_0x1cf156:0x1e7,_0x1b3eea:0x1e3,_0x14d27d:0x1c7,_0x31654f:0x1c4},_0x4ed03c=_0x30045e;if(!this['canvasLayer']||this[_0x4ed03c(0x1d9)])return;const _0x5a881f=this['scene'],_0x2d1069=this['options']['animation'],_0x5a0dc5=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x13b592)return void this['clear'](_0x5a0dc5);this[_0x4ed03c(_0x16e538._0x4f1f16)]==='2d'&&(_0x5a0dc5[_0x4ed03c(_0x16e538._0x2747f7)](),_0x5a0dc5['globalCompositeOperation']='destination-out',_0x5a0dc5['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x5a0dc5[_0x4ed03c(_0x16e538._0x4b31d6)](0x0,0x0,_0x5a0dc5[_0x4ed03c(_0x16e538._0xcab7dd)]['width'],_0x5a0dc5[_0x4ed03c(_0x16e538._0x1f1b1c)]['height']),_0x5a0dc5['restore']());}else this['clear'](_0x5a0dc5);if(this['context']==='2d')for(const _0x37735e in this['options']){_0x5a0dc5[_0x37735e]=this[_0x4ed03c(_0x16e538._0x185228)][_0x37735e];}else _0x5a0dc5[_0x4ed03c(_0x16e538._0x464f8d)](_0x5a0dc5['COLOR_BUFFER_BIT']);const _0x44628c={'transferCoordinate':function(_0x1b1d76){const _0x178e0a=_0x4ed03c,_0x36582b=null;let _0x2033f0=_0x5a881f['mapvFixedHeight'];_0x5a881f['mapvAutoHeight']&&(_0x2033f0=_0x5a881f['getHeight'](Cesium$1['Cartographic'][_0x178e0a(0x1da)](_0x1b1d76[0x0],_0x1b1d76[0x1])));const _0x28ccb0=Cesium$1['Cartesian3']['fromDegrees'](_0x1b1d76[0x0],_0x1b1d76[0x1],_0x2033f0);if(!_0x28ccb0)return _0x36582b;const _0x1066c7=_0x5a881f['cartesianToCanvasCoordinates'](_0x28ccb0);if(!_0x1066c7)return _0x36582b;if(_0x5a881f['mapvDepthTest']&&_0x5a881f['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0xbd42ab=new Cesium$1['EllipsoidalOccluder'](_0x5a881f['globe']['ellipsoid'],_0x5a881f['camera'][_0x178e0a(0x1a9)]),_0x3fb6a9=_0xbd42ab['isPointVisible'](_0x28ccb0);if(!_0x3fb6a9)return _0x36582b;}return[_0x1066c7['x'],_0x1066c7['y']];}};void 0x0!==_0x13b592&&(_0x44628c['filter']=function(_0xae0474){const _0xa4386a=_0x2d1069['trails']||0xa;return!!(_0x13b592&&_0xae0474['time']>_0x13b592-_0xa4386a&&_0xae0474['time']<_0x13b592);});let _0x1c9792;if(this[_0x4ed03c(0x1c7)]['draw']==='cluster'&&(!this['options']['maxClusterZoom']||this['options']['maxClusterZoom']>=this[_0x4ed03c(0x196)]())){this['map'][_0x4ed03c(_0x16e538._0x39a916)]();const _0x1de6d2=this['getZoom'](),_0x2889f6=this['supercluster']['getClusters']([-0xb4,-0x5a,0xb4,0x5a],_0x1de6d2);this['pointCountMax']=this['supercluster']['trees'][_0x1de6d2]['max'],this['pointCountMin']=this[_0x4ed03c(_0x16e538._0x5a827c)]['trees'][_0x1de6d2]['min'];let _0x454061={},_0x3bb646=null,_0x5c3398=null;this['pointCountMax']===this['pointCountMin']?(_0x3bb646=this['options']['fillStyle'],_0x5c3398=this['options']['minSize']||0x8):_0x454061=new mapv__namespace['utilDataRangeIntensity']({'min':this['pointCountMin'],'max':this['pointCountMax'],'minSize':this['options'][_0x4ed03c(0x1a7)]||0x8,'maxSize':this[_0x4ed03c(_0x16e538._0x185228)]['maxSize']||0x1e,'gradient':this['options']['gradient']});for(let _0x3786b8=0x0;_0x3786b8<_0x2889f6[_0x4ed03c(0x1b7)];_0x3786b8++){const _0x137a1a=_0x2889f6[_0x3786b8];_0x137a1a[_0x4ed03c(0x197)]&&_0x137a1a['properties']['cluster_id']?(_0x2889f6[_0x3786b8]['size']=_0x5c3398||_0x454061['getSize'](_0x137a1a[_0x4ed03c(_0x16e538._0x40f1db)]['point_count']),_0x2889f6[_0x3786b8][_0x4ed03c(_0x16e538._0x29d822)]=_0x3bb646||_0x454061['getColor'](_0x137a1a['properties']['point_count'])):_0x2889f6[_0x3786b8][_0x4ed03c(0x1e7)]=this['options']['size'];}this['clusterDataSet'][_0x4ed03c(0x190)](_0x2889f6),_0x1c9792=this['clusterDataSet']['get'](_0x44628c);}else _0x1c9792=this['dataSet']['get'](_0x44628c);this['processData'](_0x1c9792);this['options'][_0x4ed03c(_0x16e538._0x4d8f42)]==='m'&&this['options'][_0x4ed03c(_0x16e538._0x1cf156)]&&(this['options']['_size']=this['options'][_0x4ed03c(_0x16e538._0x1cf156)]);const _0x221d18=_0x5a881f['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x221d18)return;this[_0x4ed03c(_0x16e538._0x1b3eea)](_0x5a0dc5,new mapv__namespace['DataSet'](_0x1c9792),this[_0x4ed03c(_0x16e538._0x185228)],_0x221d18),this[_0x4ed03c(_0x16e538._0x14d27d)][_0x4ed03c(_0x16e538._0x31654f)]&&this[_0x4ed03c(0x1c7)]['updateCallback'](_0x13b592);}[_0x30045e(0x1c0)](_0x5681f,_0x14e595){let _0x3c6774=_0x5681f;_0x3c6774&&_0x3c6774['get']&&(_0x3c6774=_0x3c6774['get']()),void 0x0!==_0x3c6774&&this['dataSet']['set'](_0x3c6774),super['update']({'options':_0x14e595});}['addData'](_0x220475,_0x7ddae1){const _0x5d43fa={_0x2e2bfc:0x1aa},_0x588904=_0x30045e;let _0x39d497=_0x220475;_0x220475&&_0x220475['get']&&(_0x39d497=_0x220475['get']()),this[_0x588904(_0x5d43fa._0x2e2bfc)]['add'](_0x39d497),this['update']({'options':_0x7ddae1});}['getData'](){return this['dataSet'];}['removeData'](_0x5ec1c4){const _0x1a7611={_0x12d0e2:0x1aa,_0x5e5667:0x1aa},_0xdf28de=_0x30045e;if(this[_0xdf28de(_0x1a7611._0x12d0e2)]){const _0x5c8c35=this[_0xdf28de(_0x1a7611._0x5e5667)]['get']({'filter':function(_0x45a3c7){return _0x5ec1c4==null||typeof _0x5ec1c4!=='function'||!_0x5ec1c4(_0x45a3c7);}});this[_0xdf28de(0x1aa)][_0xdf28de(0x190)](_0x5c8c35),this[_0xdf28de(0x1c3)]({'options':null});}}['clearData'](){const _0x1f0ff4={_0x1ac156:0x1c3},_0x407f85=_0x30045e;this[_0x407f85(0x1aa)]&&this['dataSet']['clear'](),this[_0x407f85(_0x1f0ff4._0x1ac156)]({'options':null});}['draw'](){this['canvasLayer']['draw']();}[_0x30045e(0x1a0)](_0x47aef1){const _0x5f1017={_0x586ce0:0x1c5},_0x1cc9b7=_0x30045e;_0x47aef1&&_0x47aef1['clearRect']&&_0x47aef1['clearRect'](0x0,0x0,_0x47aef1['canvas']['width'],_0x47aef1[_0x1cc9b7(_0x5f1017._0x586ce0)]['height']);}['getZoom'](){return this['map']['level'];}[_0x30045e(0x19a)](){const _0x3632ef={_0x4d179b:0x1e5},_0x23c207=_0x30045e;this[_0x23c207(0x1a0)](this['getContext']()),this['clearData'](),this['animator']&&this['animator'][_0x23c207(_0x3632ef._0x4d179b)](),this['animator']=null,this[_0x23c207(0x1ce)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x4ab19c,_0x562ca5,_0x4d7175,_0x43ffd6){const _0x17e3f3={_0x1bbccb:0x18e,_0x130b8e:0x1d3},_0x76e8de=_0x30045e;_0x43ffd6=_0x43ffd6||_0x76e8de(0x194),_0x4d7175=_0x4d7175||'coordinates';for(let _0x396d4c=0x0;_0x396d4c<_0x4ab19c['length'];_0x396d4c++){const _0x4b880e=_0x4ab19c[_0x396d4c]['geometry'],_0x19ced1=_0x4b880e[_0x4d7175];switch(_0x4b880e['type']){case'Point':{const _0x1afda0=_0x562ca5(_0x19ced1);_0x1afda0?_0x4b880e[_0x43ffd6]=_0x1afda0:_0x4b880e[_0x43ffd6]=[-0x3e7,-0x3e7];}break;case _0x76e8de(_0x17e3f3._0x1bbccb):{const _0x4accb5=[];for(let _0xfd7c71=0x0;_0xfd7c71<_0x19ced1['length'];_0xfd7c71++){const _0x270a54=_0x562ca5(_0x19ced1[_0xfd7c71]);_0x270a54&&_0x4accb5['push'](_0x270a54);}_0x4b880e[_0x43ffd6]=_0x4accb5;}break;case'MultiLineString':case _0x76e8de(_0x17e3f3._0x130b8e):{const _0x56b3e3=_0x22a344(_0x19ced1);_0x4b880e[_0x43ffd6]=_0x56b3e3;}break;case'MultiPolygon':{const _0x2f6022=[];for(let _0x5bd050=0x0;_0x5bd050<_0x19ced1['length'];_0x5bd050++){const _0x2ba1ac=_0x22a344(_0x19ced1[_0x5bd050]);_0x2ba1ac[_0x76e8de(0x1b7)]>0x0&&_0x2f6022['push'](_0x2ba1ac);}_0x4b880e[_0x43ffd6]=_0x2f6022;}break;}}function _0x22a344(_0x454414){const _0x11968e=_0x76e8de,_0xcac92b=[];for(let _0x27ed65=0x0;_0x27ed65<_0x454414['length'];_0x27ed65++){const _0xc0c095=_0x454414[_0x27ed65],_0x3449df=[];for(let _0x56b348=0x0;_0x56b348<_0xc0c095[_0x11968e(0x1b7)];_0x56b348++){const _0x3dfeba=_0x562ca5(_0xc0c095[_0x56b348]);_0x3dfeba&&_0x3449df['push'](_0x3dfeba);}_0x3449df['length']>0x0&&_0xcac92b['push'](_0x3449df);}return _0xcac92b;}return _0x4ab19c;};else throw new Error(_0x30045e(0x1b2));function _0x4c43(){const _0x36df35=['none','drawContext','fillRect','stop','zIndex','size','_mountedHook','addData','mouseDown','_onMoveStartEvent','ymin','_onMoveEndEvent','scene','_data','pointerEvents','animator','LayerUtil','height','843164QWKQUK','_reset','21546528lGSeTk','LineString','mapv','set','left','8ghHhIB','unit','_coordinates','_pointerEvents','getZoom','properties','mousemoveEvent','getRectangle','destroy','top','mousemove','parentElement','map','keys','clear','initDataRange','19377ZlyBAy','_canvasUpdate','243063wJcerp','40kNWKjf','absolute','minSize','Cesium','positionWC','dataSet','bindEvent','0px','DataSet','initDevicePixelRatio','off','EventType','defineProperty','请引入\x20mapv\x20库\x20','removeData','display','_mapVRenderer','context','length','getExtent','remove','_onMapClick','cameraMoveEnd','addAnimatorEvent','width','postRender','FeatureCollection','updateData','16bwOGAd','_onMapMouseMove','update','updateCallback','canvas','setZIndex','options','_addedHook','2278660HPuQQF','block','click','_cache_event','xmin','canvasLayer','save','209825pKFoVy','fillStyle','mouseMove','Polygon','methods','_map','MapVLayer','animatorMoveendEvent','devicePixelRatio','stopAniamation','fromDegrees','xmax','198RxjdPN','supercluster','style','764632mTlnwL','18ojHzJb','create'];_0x4c43=function(){return _0x36df35;};return _0x4c43();}const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x3b3f5c,_0x454130){const _0x379af1={_0x432e22:0x1aa,_0x10dcb4:0x1c5},_0x3138a5=_0x30045e;super(_0x3b3f5c),this['_pointerEvents']=this[_0x3138a5(0x1c7)]['pointerEvents'],this[_0x3138a5(_0x379af1._0x432e22)]=_0x454130||new mapv__namespace[(_0x3138a5(0x1ad))](_0x3b3f5c['data']),this[_0x3138a5(_0x379af1._0x10dcb4)]=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x30a336){const _0x1bec53={_0x129a07:0x1c5},_0x224e61=_0x30045e;this[_0x224e61(0x195)]=_0x30a336,this['canvas']&&(_0x30a336?this[_0x224e61(_0x1bec53._0x129a07)]['style'][_0x224e61(0x187)]='all':this[_0x224e61(_0x1bec53._0x129a07)]['style'][_0x224e61(0x187)]=_0x224e61(0x1e2));}['_showHook'](_0x5624a6){const _0x379f15={_0x4a854a:0x1ca},_0x3b6d2d=_0x30045e;_0x5624a6?this['canvas']['style']['display']=_0x3b6d2d(_0x379f15._0x4a854a):this['canvas']['style'][_0x3b6d2d(0x1b4)]='none';}[_0x30045e(0x17f)](){const _0x586247={_0x38518f:0x1c7},_0x1f0d75=_0x30045e;this['_map']['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene']['mapvAutoHeight']=this[_0x1f0d75(_0x586247._0x38518f)]['clampToGround']??![],this[_0x1f0d75(0x1d5)][_0x1f0d75(0x185)]['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0xdb75ce={_0x2cbf1d:0x1aa},_0xe303ad=_0x30045e;this['dataSet']&&(!this[_0xe303ad(_0xdb75ce._0x2cbf1d)]['_data']||this[_0xe303ad(0x1aa)]['_data']['length']===0x0)&&(this['dataSet'][_0xe303ad(0x186)]=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render']['bind'](this),this[_0xe303ad(0x1ab)](),this['_reset']();}['_removedHook'](){this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x56d8c5={_0x4599d2:0x1b0,_0x4384fb:0x182,_0x18e053:0x1c7},_0x46c73e=_0x30045e;var _0x5105ff,_0x44b557;this['_map']['on'](mars3d__namespace[_0x46c73e(_0x56d8c5._0x4599d2)]['mouseDown'],this[_0x46c73e(_0x56d8c5._0x4384fb)],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x46c73e(0x1d5)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x5105ff=this[_0x46c73e(_0x56d8c5._0x18e053)])!==null&&_0x5105ff!==void 0x0&&(_0x5105ff=_0x5105ff['methods'])!==null&&_0x5105ff!==void 0x0&&_0x5105ff['click']&&this['_map']['on'](mars3d__namespace[_0x46c73e(0x1b0)]['click'],this['_onMapClick'],this),(_0x44b557=this[_0x46c73e(0x1c7)])!==null&&_0x44b557!==void 0x0&&(_0x44b557=_0x44b557['methods'])!==null&&_0x44b557!==void 0x0&&_0x44b557['mousemove']&&this['_map']['on'](mars3d__namespace['EventType'][_0x46c73e(0x1d2)],this[_0x46c73e(0x1c2)],this);}['unbindEvent'](){const _0x5eadeb={_0x4534ac:0x182,_0x2f1543:0x1d5,_0x4c5d6a:0x1b0,_0x4ffc1e:0x1d5,_0x3329de:0x18c,_0x2163cf:0x1af,_0x1d832f:0x1af},_0x2eb889=_0x30045e;var _0xd4c2cf,_0xb45745;this['_map']['off'](mars3d__namespace[_0x2eb889(0x1b0)][_0x2eb889(0x181)],this[_0x2eb889(_0x5eadeb._0x4534ac)],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x2eb889(0x182)],this),this[_0x2eb889(_0x5eadeb._0x2f1543)]['off'](mars3d__namespace[_0x2eb889(_0x5eadeb._0x4c5d6a)][_0x2eb889(0x1bb)],this[_0x2eb889(0x184)],this),this[_0x2eb889(_0x5eadeb._0x4ffc1e)]['off'](mars3d__namespace['EventType']['postRender'],this[_0x2eb889(_0x5eadeb._0x3329de)],this),(_0xd4c2cf=this['options'])!==null&&_0xd4c2cf!==void 0x0&&(_0xd4c2cf=_0xd4c2cf['methods'])!==null&&_0xd4c2cf!==void 0x0&&_0xd4c2cf[_0x2eb889(0x1cb)]&&this['_map'][_0x2eb889(_0x5eadeb._0x2163cf)](mars3d__namespace[_0x2eb889(0x1b0)]['click'],this['_onMapClick'],this),(_0xb45745=this['options'])!==null&&_0xb45745!==void 0x0&&(_0xb45745=_0xb45745[_0x2eb889(0x1d4)])!==null&&_0xb45745!==void 0x0&&_0xb45745['mousemove']&&this['_map'][_0x2eb889(_0x5eadeb._0x1d832f)](mars3d__namespace[_0x2eb889(0x1b0)]['mouseMove'],this[_0x2eb889(0x1c2)],this);}[_0x30045e(0x182)](){const _0x51be80={_0x4c1e56:0x1d5,_0x574d30:0x1af,_0x250228:0x1be,_0x4e32f9:0x18c},_0x491930=_0x30045e;this[_0x491930(0x1b5)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this[_0x491930(_0x51be80._0x4c1e56)][_0x491930(_0x51be80._0x574d30)](mars3d__namespace['EventType'][_0x491930(_0x51be80._0x250228)],this[_0x491930(_0x51be80._0x4e32f9)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x3cf330,_0x33c033){const _0x328979=_0x30045e;this['_removedHook'](),this[_0x328979(0x1c8)]();}[_0x30045e(0x180)](_0x29b2f){const _0xba8895={_0x41153f:0x180},_0x3106e9=_0x30045e;this['_mapVRenderer']&&this[_0x3106e9(0x1b5)][_0x3106e9(_0xba8895._0x41153f)](_0x29b2f,this[_0x3106e9(0x1c7)]);}['updateData'](_0x17fcc9){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x17fcc9,this['options']);}['getData'](){const _0x4b15f8=_0x30045e;return this['_mapVRenderer']&&(this['dataSet']=this[_0x4b15f8(0x1b5)]['getData']()),this['dataSet'];}[_0x30045e(0x1b3)](_0x5298a6){const _0x5bd294={_0x15840f:0x1b5},_0x11f937=_0x30045e;this[_0x11f937(_0x5bd294._0x15840f)]&&this['_mapVRenderer']['removeData'](_0x5298a6);}['removeAllData'](){const _0x16e80d=_0x30045e;this[_0x16e80d(0x1b5)]&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x35863d={_0x3cace3:0x1e1,_0x131169:0x1d5,_0x46e77e:0x1bd,_0x4ecaf6:0x1c5,_0x304c71:0x1d5,_0x5461ca:0x1e6},_0x5427fd=_0x30045e,_0x409564=mars3d__namespace['DomUtil'][_0x5427fd(_0x35863d._0x3cace3)](_0x5427fd(0x1c5),'mars3d-mapv',this['_map']['container']);_0x409564['id']=this['id'],_0x409564['style']['position']=_0x5427fd(0x1a6),_0x409564['style']['top']='0px',_0x409564['style']['left']='0px',_0x409564['width']=parseInt(this[_0x5427fd(_0x35863d._0x131169)]['canvas'][_0x5427fd(_0x35863d._0x46e77e)]),_0x409564['height']=parseInt(this['_map'][_0x5427fd(_0x35863d._0x4ecaf6)]['height']),_0x409564['style']['width']=this[_0x5427fd(0x1d5)]['canvas'][_0x5427fd(0x1de)]['width'],_0x409564['style']['height']=this[_0x5427fd(_0x35863d._0x304c71)]['canvas'][_0x5427fd(0x1de)]['height'],_0x409564['style']['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x409564['style'][_0x5427fd(_0x35863d._0x5461ca)]=this[_0x5427fd(0x1c7)]['zIndex']??0x9;if(this[_0x5427fd(0x1c7)]['context']==='2d'){const _0x3193da=this[_0x5427fd(0x1d8)];_0x409564['getContext'](this['options']['context'])['scale'](_0x3193da,_0x3193da);}return _0x409564;}['_reset'](){this['resize'](),this['render']();}['draw'](){this['_reset']();}[_0x30045e(0x1b9)](){const _0x205e71={_0x7a68bb:0x1b5,_0x3a69ab:0x19d},_0x90f1c0=_0x30045e;this[_0x90f1c0(0x1b5)]&&(this['_mapVRenderer']['destroy'](),this[_0x90f1c0(_0x205e71._0x7a68bb)]=null),this['canvas'][_0x90f1c0(_0x205e71._0x3a69ab)]['removeChild'](this[_0x90f1c0(0x1c5)]);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x2eff17={_0x56e965:0x191,_0x42902f:0x1bd,_0x27b0e1:0x1d5,_0xa2688e:0x1de,_0x40cfa2:0x18a},_0x526805=_0x30045e;if(this[_0x526805(0x1c5)]){const _0x930ef9=this['canvas'];_0x930ef9[_0x526805(0x1de)]['position']=_0x526805(0x1a6),_0x930ef9['style'][_0x526805(0x19b)]=_0x526805(0x1ac),_0x930ef9['style'][_0x526805(_0x2eff17._0x56e965)]='0px',_0x930ef9['width']=parseInt(this['_map']['canvas'][_0x526805(_0x2eff17._0x42902f)]),_0x930ef9[_0x526805(0x18a)]=parseInt(this['_map']['canvas']['height']),_0x930ef9['style']['width']=this['_map'][_0x526805(0x1c5)]['style']['width'],_0x930ef9['style'][_0x526805(0x18a)]=this[_0x526805(_0x2eff17._0x27b0e1)]['canvas'][_0x526805(_0x2eff17._0xa2688e)][_0x526805(_0x2eff17._0x40cfa2)];}}[_0x30045e(0x199)](_0x2649c3){const _0x509881={_0x14dfd6:0x1bf,_0x3cace1:0x1cd,_0x11ec38:0x183},_0x49a500=_0x30045e;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x184017=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':_0x49a500(_0x509881._0x14dfd6),'features':this[_0x49a500(0x1aa)]['_data']});if(!_0x184017)return;return _0x2649c3!==null&&_0x2649c3!==void 0x0&&_0x2649c3['isFormat']?_0x184017:Cesium['Rectangle']['fromDegrees'](_0x184017[_0x49a500(_0x509881._0x3cace1)],_0x184017[_0x49a500(_0x509881._0x11ec38)],_0x184017[_0x49a500(0x1db)],_0x184017['ymax']);}[_0x30045e(0x1ba)](_0x5cd8b9){const _0x172b62=_0x30045e;this[_0x172b62(0x1cc)]=_0x5cd8b9,this[_0x172b62(0x1b5)]&&this['_mapVRenderer']['clickEvent'](_0x5cd8b9['windowPosition'],_0x5cd8b9);}['_onMapMouseMove'](_0x4d9318){const _0x3b38be={_0x2a1c7b:0x1b5},_0x97b17=_0x30045e;this['_cache_event']=_0x4d9318,this['_mapVRenderer']&&this[_0x97b17(_0x3b38be._0x2a1c7b)][_0x97b17(0x198)](_0x4d9318['windowPosition'],_0x4d9318);}['on'](_0xe5c5cd,_0x55474c,_0xbbeccf){const _0x35b51e={_0x4a7499:0x1c7,_0x4b17d0:0x1cb,_0xedb2ba:0x1d2},_0x4ee8ba={_0x44fada:0x1cc},_0x3c59bc=_0x30045e;this[_0x3c59bc(0x1c7)]['methods']=this['options']['methods']||{};if(_0xe5c5cd===mars3d__namespace['EventType']['click'])this[_0x3c59bc(_0x35b51e._0x4a7499)][_0x3c59bc(0x1d4)][_0x3c59bc(_0x35b51e._0x4b17d0)]=_0x39d284=>{const _0x3818c8=_0x3c59bc;_0x39d284&&_0x55474c['bind'](_0xbbeccf)({...this[_0x3818c8(_0x4ee8ba._0x44fada)],'layer':this,'data':_0x39d284});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0xe5c5cd===mars3d__namespace['EventType'][_0x3c59bc(_0x35b51e._0xedb2ba)]&&(this['options']['methods']['mousemove']=_0x56c1f0=>{_0x56c1f0&&_0x55474c['bind'](_0xbbeccf)({...this['_cache_event'],'layer':this,'data':_0x56c1f0});},this['_map']['on'](mars3d__namespace[_0x3c59bc(0x1b0)]['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x538f76,_0x582535){const _0x4069c9={_0x7adb33:0x1c7,_0x25bb1d:0x1d4},_0x267cd8=_0x30045e;if(_0x538f76==='click'){var _0x303b3b;this[_0x267cd8(0x1d5)]['off'](_0x538f76,this['_onMapClick'],this),(_0x303b3b=this[_0x267cd8(_0x4069c9._0x7adb33)]['methods'])!==null&&_0x303b3b!==void 0x0&&_0x303b3b[_0x267cd8(0x19c)]&&delete this['options'][_0x267cd8(_0x4069c9._0x25bb1d)][_0x267cd8(0x1cb)];}else{if(_0x538f76===_0x267cd8(0x1d2)){var _0x537315;this['_map']['off'](_0x538f76,this['_onMapMouseMove'],this),(_0x537315=this[_0x267cd8(_0x4069c9._0x7adb33)][_0x267cd8(0x1d4)])!==null&&_0x537315!==void 0x0&&_0x537315['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}function _0x4c01(_0x2bd439,_0x40120a){const _0x4c43d3=_0x4c43();return _0x4c01=function(_0x4c0186,_0x3fff29){_0x4c0186=_0x4c0186-0x17f;let _0x367c63=_0x4c43d3[_0x4c0186];return _0x367c63;},_0x4c01(_0x2bd439,_0x40120a);}mars3d__namespace[_0x30045e(0x189)]['register']('mapv',MapVLayer),mars3d__namespace['layer'][_0x30045e(0x1d6)]=MapVLayer,mars3d__namespace[_0x30045e(0x18f)]=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x30045e(0x19f)](mapv)['forEach'](function(_0x6b6390){if(_0x6b6390!=='default'&&!exports['hasOwnProperty'](_0x6b6390))Object['defineProperty'](exports,_0x6b6390,{'enumerable':!![],'get':function(){return mapv[_0x6b6390];}});}),Object[_0x30045e(0x1b1)](exports,'__esModule',{'value':!![]});
}));
