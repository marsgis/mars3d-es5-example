/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.17
 * 编译日期：2023-12-17 23:57:41
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x275d69=_0x2bac;(function(_0xb2b098,_0x91b734){const _0x23ca59={_0x49ea9d:0x18e,_0xf0464c:0x1be,_0x33a4a4:0x1e3,_0x2a8310:0x1a9,_0x1e7a62:0x194},_0x505fce=_0x2bac,_0x8a759f=_0xb2b098();while(!![]){try{const _0x22f7c0=-parseInt(_0x505fce(_0x23ca59._0x49ea9d))/0x1+-parseInt(_0x505fce(_0x23ca59._0xf0464c))/0x2+parseInt(_0x505fce(_0x23ca59._0x33a4a4))/0x3+parseInt(_0x505fce(_0x23ca59._0x2a8310))/0x4*(-parseInt(_0x505fce(_0x23ca59._0x1e7a62))/0x5)+-parseInt(_0x505fce(0x1e1))/0x6+-parseInt(_0x505fce(0x1b1))/0x7*(parseInt(_0x505fce(0x1ed))/0x8)+parseInt(_0x505fce(0x1bb))/0x9;if(_0x22f7c0===_0x91b734)break;else _0x8a759f['push'](_0x8a759f['shift']());}catch(_0x2d6e17){_0x8a759f['push'](_0x8a759f['shift']());}}}(_0x4d7f,0x993a7));function _interopNamespace(_0x1b7446){const _0xca4752={_0x4e70db:0x1c5},_0x202f05=_0x2bac;if(_0x1b7446&&_0x1b7446[_0x202f05(0x1b0)])return _0x1b7446;var _0x1bd8bc=Object['create'](null);return _0x1b7446&&Object['keys'](_0x1b7446)['forEach'](function(_0x5e52be){const _0x1836c5=_0x202f05;if(_0x5e52be!==_0x1836c5(0x1c1)){var _0x3f7273=Object['getOwnPropertyDescriptor'](_0x1b7446,_0x5e52be);Object[_0x1836c5(_0xca4752._0x4e70db)](_0x1bd8bc,_0x5e52be,_0x3f7273['get']?_0x3f7273:{'enumerable':!![],'get':function(){return _0x1b7446[_0x5e52be];}});}}),_0x1bd8bc['default']=_0x1b7446,_0x1bd8bc;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;function _0x4d7f(){const _0x1a1b83=['filter','updateData','_mapVRenderer','zIndex','_onMapMouseMove','xmax','fixedHeight','render','clickEvent','64vzKGKu','methods','length','_removedHook','157918BtzYKb','parentElement','data','mousemove','width','clear','66375IybWWx','update','pointerEvents','destination-out','getRectangle','_canvasUpdate','all','time','geometry','prototype','MultiLineString','Util','_onMoveStartEvent','_map','bindEvent','dataSet','absolute','FeatureCollection','stop','off','canvasLayer','76RhRehz','stopAniamation','EventType','0px','auto','scene','animation','__esModule','631533mFqMLy','initDevicePixelRatio','_reset','step','forEach','postRender','mapvFixedHeight','_createCanvas','mouseMove','options','17674380YuDvJI','create','click','882782TGUdOa','globe','_mountedHook','default','restore','canvas','initDataRange','defineProperty','mapv','animator','bind','argCheck','_pointerEvents','destroy','clearRect','height','Cartesian3','start','Cesium','fillRect','devicePixelRatio','mapvDepthTest','updateCallback','positionWC','_onMapClick','display','_data','type','animatorMovestartEvent','isEnabledTime','getContext','style','fromDegrees','remove','_cache_event','2672688HgTgKN','context','2047611wGUttU'];_0x4d7f=function(){return _0x1a1b83;};return _0x4d7f();}function _0x2bac(_0x36fb23,_0x444498){const _0x4d7f78=_0x4d7f();return _0x2bac=function(_0x2bac5c,_0x179766){_0x2bac5c=_0x2bac5c-0x18e;let _0x1c57db=_0x4d7f78[_0x2bac5c];return _0x1c57db;},_0x2bac(_0x36fb23,_0x444498);}class MapVRenderer extends BaseLayer$1{constructor(_0x484d06,_0xb6f1f5,_0x1daa8c,_0x276adc){const _0x4464b3={_0x4ee18a:0x1a8,_0xc131fe:0x1aa,_0x597785:0x1af},_0xe8f7b7=_0x2bac;super(_0x484d06,_0xb6f1f5,_0x1daa8c);if(!BaseLayer$1)return;this['map']=_0x484d06,this[_0xe8f7b7(0x1ae)]=_0x484d06[_0xe8f7b7(0x1ae)],this['dataSet']=_0xb6f1f5,_0x1daa8c=_0x1daa8c||{},this['init'](_0x1daa8c),this[_0xe8f7b7(0x1c9)](_0x1daa8c),this['initDevicePixelRatio'](),this[_0xe8f7b7(_0x4464b3._0x4ee18a)]=_0x276adc,this[_0xe8f7b7(_0x4464b3._0xc131fe)]=!0x1,this['animation']=_0x1daa8c[_0xe8f7b7(_0x4464b3._0x597785)];}['initDevicePixelRatio'](){const _0x497eca={_0x494a6a:0x1d2},_0x1e35d6=_0x2bac;this['devicePixelRatio']=window[_0x1e35d6(_0x497eca._0x494a6a)]||0x1;}['addAnimatorEvent'](){}[_0x275d69(0x1da)](){const _0x8ef7b5=_0x275d69,_0x54e001=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps'][_0x8ef7b5(0x1b4)]=_0x54e001['stepsRange'][_0x8ef7b5(0x1cf)]);}['animatorMoveendEvent'](){const _0x150a2d={_0x21f47b:0x1c7},_0x5b164f=_0x275d69;this['isEnabledTime']()&&this[_0x5b164f(_0x150a2d._0x21f47b)];}[_0x275d69(0x1dc)](){const _0x20ef0a={_0x10a596:0x1a8},_0x50bbc3=_0x275d69;return this[_0x50bbc3(_0x20ef0a._0x10a596)]['canvas']['getContext'](this[_0x50bbc3(0x1e2)]);}['init'](_0x323cc0){const _0x5dae9c={_0x26ad50:0x1ba,_0x5a3087:0x1a8,_0x4d58ea:0x1e7},_0x3486b5=_0x275d69;this[_0x3486b5(_0x5dae9c._0x26ad50)]=_0x323cc0,this[_0x3486b5(0x1c4)](_0x323cc0),this['context']=this['options']['context']||'2d',Cesium$1['defined'](this[_0x3486b5(_0x5dae9c._0x26ad50)]['zIndex'])&&this[_0x3486b5(_0x5dae9c._0x5a3087)]&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this[_0x3486b5(_0x5dae9c._0x26ad50)][_0x3486b5(_0x5dae9c._0x4d58ea)]),this['initAnimator']();}[_0x275d69(0x199)](_0x51020d){const _0xcfe29c={_0x260326:0x1db,_0x5b9b89:0x1c3,_0x162df6:0x1cd,_0xec6ca9:0x1ba,_0x1c0ac5:0x1e4,_0x35072f:0x1d4},_0x2f2ec9={_0x212ccf:0x1b7,_0x810bbd:0x1de,_0x3bfa9b:0x1d5},_0x58a238=_0x275d69,_0x7b3162=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x283af1=this['options'][_0x58a238(0x1af)],_0x1889e7=this['getContext']();if(this[_0x58a238(_0xcfe29c._0x260326)]()){if(void 0x0===_0x51020d)return void this['clear'](_0x1889e7);this['context']==='2d'&&(_0x1889e7['save'](),_0x1889e7['globalCompositeOperation']=_0x58a238(0x197),_0x1889e7['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x1889e7[_0x58a238(0x1d1)](0x0,0x0,_0x1889e7['canvas']['width'],_0x1889e7[_0x58a238(_0xcfe29c._0x5b9b89)][_0x58a238(_0xcfe29c._0x162df6)]),_0x1889e7[_0x58a238(0x1c2)]());}else this['clear'](_0x1889e7);if(this['context']==='2d')for(const _0x45fcdb in this[_0x58a238(_0xcfe29c._0xec6ca9)]){_0x1889e7[_0x45fcdb]=this['options'][_0x45fcdb];}else _0x1889e7[_0x58a238(0x193)](_0x1889e7['COLOR_BUFFER_BIT']);const _0x14903b={'transferCoordinate':function(_0x4315d9){const _0x3ba80b=_0x58a238,_0x378e7c=null;let _0x1ff9ab=_0x7b3162[_0x3ba80b(_0x2f2ec9._0x212ccf)];_0x7b3162['mapvAutoHeight']&&(_0x1ff9ab=_0x7b3162['globe']['getHeight'](Cesium$1['Cartographic'][_0x3ba80b(_0x2f2ec9._0x810bbd)](_0x4315d9[0x0],_0x4315d9[0x1])));const _0x4a473b=Cesium$1['Cartesian3'][_0x3ba80b(0x1de)](_0x4315d9[0x0],_0x4315d9[0x1],_0x1ff9ab);if(!_0x4a473b)return _0x378e7c;const _0x1f9f22=_0x7b3162['cartesianToCanvasCoordinates'](_0x4a473b);if(!_0x1f9f22)return _0x378e7c;if(_0x7b3162['mapvDepthTest']&&_0x7b3162['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x1f0e5b=new Cesium$1['EllipsoidalOccluder'](_0x7b3162[_0x3ba80b(0x1bf)]['ellipsoid'],_0x7b3162['camera'][_0x3ba80b(_0x2f2ec9._0x3bfa9b)]),_0x8fffc7=_0x1f0e5b['isPointVisible'](_0x4a473b);if(!_0x8fffc7)return _0x378e7c;}return[_0x1f9f22['x'],_0x1f9f22['y']];}};void 0x0!==_0x51020d&&(_0x14903b[_0x58a238(_0xcfe29c._0x1c0ac5)]=function(_0xb1db57){const _0x184e2d=_0x58a238,_0x3980ab=_0x283af1['trails']||0xa;return!!(_0x51020d&&_0xb1db57[_0x184e2d(0x19b)]>_0x51020d-_0x3980ab&&_0xb1db57['time']<_0x51020d);});const _0x5b5d0a=this['dataSet']['get'](_0x14903b);this['processData'](_0x5b5d0a),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x31e230=_0x7b3162['cartesianToCanvasCoordinates'](Cesium$1[_0x58a238(0x1ce)]['fromDegrees'](0x0,0x0));if(!_0x31e230)return;this['drawContext'](_0x1889e7,new mapv__namespace['DataSet'](_0x5b5d0a),this['options'],_0x31e230),this['options'][_0x58a238(0x1d4)]&&this['options'][_0x58a238(_0xcfe29c._0x35072f)](_0x51020d);}}[_0x275d69(0x1e5)](_0x585c99,_0x2555df){let _0x4187b6=_0x585c99;_0x4187b6&&_0x4187b6['get']&&(_0x4187b6=_0x4187b6['get']()),void 0x0!==_0x4187b6&&this['dataSet']['set'](_0x4187b6),super['update']({'options':_0x2555df});}['addData'](_0x124a4f,_0x3bdc49){const _0xf219fd={_0x7fd1c2:0x195},_0x3d8026=_0x275d69;let _0x1e4c97=_0x124a4f;_0x124a4f&&_0x124a4f['get']&&(_0x1e4c97=_0x124a4f['get']()),this['dataSet']['add'](_0x1e4c97),this[_0x3d8026(_0xf219fd._0x7fd1c2)]({'options':_0x3bdc49});}['getData'](){return this['dataSet'];}['removeData'](_0x3c3d4c){const _0x38cc68={_0x121776:0x1a3},_0x1ff410=_0x275d69;if(this[_0x1ff410(_0x38cc68._0x121776)]){const _0x31070e=this[_0x1ff410(0x1a3)]['get']({'filter':function(_0xe08e74){return _0x3c3d4c==null||typeof _0x3c3d4c!=='function'||!_0x3c3d4c(_0xe08e74);}});this[_0x1ff410(0x1a3)]['set'](_0x31070e),this['update']({'options':null});}}['clearData'](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){const _0x4e7937=_0x275d69;this[_0x4e7937(0x1a8)]['draw']();}['clear'](_0x26968f){const _0x4831a5={_0x4c0003:0x1cc,_0x38efc7:0x1cc},_0x381b8e=_0x275d69;_0x26968f&&_0x26968f[_0x381b8e(_0x4831a5._0x4c0003)]&&_0x26968f[_0x381b8e(_0x4831a5._0x38efc7)](0x0,0x0,_0x26968f['canvas']['width'],_0x26968f[_0x381b8e(0x1c3)]['height']);}['destroy'](){const _0x17e1b7=_0x275d69;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this[_0x17e1b7(0x1c7)][_0x17e1b7(0x1a6)](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet'][_0x275d69(0x19d)]['transferCoordinate']=function(_0x1666ed,_0x27f0ba,_0x21e9c5,_0x9139ed){const _0x27ed5c={_0x4fd5f4:0x19c,_0x4232d4:0x1ef},_0x4961a0=_0x275d69;_0x9139ed=_0x9139ed||'_coordinates',_0x21e9c5=_0x21e9c5||'coordinates';for(let _0x1d34ab=0x0;_0x1d34ab<_0x1666ed['length'];_0x1d34ab++){const _0x7b7bc1=_0x1666ed[_0x1d34ab][_0x4961a0(_0x27ed5c._0x4fd5f4)],_0x8c07f6=_0x7b7bc1[_0x21e9c5];switch(_0x7b7bc1[_0x4961a0(0x1d9)]){case'Point':{const _0x17ec5c=_0x27f0ba(_0x8c07f6);_0x17ec5c?_0x7b7bc1[_0x9139ed]=_0x17ec5c:_0x7b7bc1[_0x9139ed]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x58e118=[];for(let _0x14f526=0x0;_0x14f526<_0x8c07f6[_0x4961a0(_0x27ed5c._0x4232d4)];_0x14f526++){const _0x2b5a26=_0x27f0ba(_0x8c07f6[_0x14f526]);_0x2b5a26&&_0x58e118['push'](_0x2b5a26);}_0x7b7bc1[_0x9139ed]=_0x58e118;}break;case _0x4961a0(0x19e):case'Polygon':{const _0x358647=_0xe064f3(_0x8c07f6);_0x7b7bc1[_0x9139ed]=_0x358647;}break;case'MultiPolygon':{const _0x5115d6=[];for(let _0x472811=0x0;_0x472811<_0x8c07f6['length'];_0x472811++){const _0x529663=_0xe064f3(_0x8c07f6[_0x472811]);_0x529663['length']>0x0&&_0x5115d6['push'](_0x529663);}_0x7b7bc1[_0x9139ed]=_0x5115d6;}break;}}function _0xe064f3(_0x451e36){const _0x44e1a7=_0x4961a0,_0x371a92=[];for(let _0x3688e8=0x0;_0x3688e8<_0x451e36['length'];_0x3688e8++){const _0x240bc2=_0x451e36[_0x3688e8],_0x31eda5=[];for(let _0x40df18=0x0;_0x40df18<_0x240bc2['length'];_0x40df18++){const _0x46f9de=_0x27f0ba(_0x240bc2[_0x40df18]);_0x46f9de&&_0x31eda5['push'](_0x46f9de);}_0x31eda5[_0x44e1a7(0x1ef)]>0x0&&_0x371a92['push'](_0x31eda5);}return _0x371a92;}return _0x1666ed;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x275d69(0x1d0)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x47b268,_0x56f077){const _0x1ea878=_0x275d69;super(_0x47b268),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x56f077||new mapv__namespace['DataSet'](_0x47b268[_0x1ea878(0x190)]),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x5ba65a){const _0x1743c3={_0x59bdd2:0x196,_0x597927:0x19a},_0x44f94b=_0x275d69;this['_pointerEvents']=_0x5ba65a,this['canvas']&&(_0x5ba65a?this['canvas']['style'][_0x44f94b(_0x1743c3._0x59bdd2)]=_0x44f94b(_0x1743c3._0x597927):this['canvas']['style']['pointerEvents']='none');}['_showHook'](_0x14447f){const _0x433f04={_0x3049d7:0x1dd},_0x295809=_0x275d69;_0x14447f?this['canvas']['style'][_0x295809(0x1d7)]='block':this['canvas'][_0x295809(_0x433f04._0x3049d7)]['display']='none';}[_0x275d69(0x1c0)](){const _0x280a0b={_0x4b20dd:0x1ea},_0xefcc0b=_0x275d69;this['_map']['scene'][_0xefcc0b(0x1d3)]=this['options']['depthTest']??!![],this['_map']['scene']['mapvAutoHeight']=this['options']['clampToGround']??![],this[_0xefcc0b(0x1a1)]['scene']['mapvFixedHeight']=this['options'][_0xefcc0b(_0x280a0b._0x4b20dd)]??0x0;}['_addedHook'](){const _0x557f00={_0x56b866:0x1a3,_0x185fca:0x1c8},_0x567934=_0x275d69;this['dataSet']&&(!this['dataSet']['_data']||this[_0x567934(0x1a3)]['_data']['length']===0x0)&&(this[_0x567934(_0x557f00._0x56b866)][_0x567934(0x1d8)]=[]['concat'](this[_0x567934(_0x557f00._0x56b866)]['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this[_0x567934(0x1a3)],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render'][_0x567934(_0x557f00._0x185fca)](this),this[_0x567934(0x1a2)](),this['_reset']();}['_removedHook'](){const _0xf52b77=_0x275d69;this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0xf52b77(0x18f)]['removeChild'](this['canvas']);}[_0x275d69(0x1b2)](){const _0x241b47={_0x5c7a6f:0x1d2,_0x45a680:0x1d2},_0x3faca0=_0x275d69;this[_0x3faca0(_0x241b47._0x5c7a6f)]=window[_0x3faca0(_0x241b47._0x45a680)]||0x1;}['bindEvent'](){const _0x5d20f3={_0x51c6d2:0x1ab},_0x337301=_0x275d69;var _0x12d2dc,_0x1d75b3;this[_0x337301(0x1a1)]['on'](mars3d__namespace[_0x337301(0x1ab)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x337301(0x1ab)]['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x12d2dc=this['options'])!==null&&_0x12d2dc!==void 0x0&&(_0x12d2dc=_0x12d2dc['methods'])!==null&&_0x12d2dc!==void 0x0&&_0x12d2dc['click']&&this['_map']['on'](mars3d__namespace['EventType'][_0x337301(0x1bd)],this['_onMapClick'],this),(_0x1d75b3=this[_0x337301(0x1ba)])!==null&&_0x1d75b3!==void 0x0&&(_0x1d75b3=_0x1d75b3['methods'])!==null&&_0x1d75b3!==void 0x0&&_0x1d75b3[_0x337301(0x191)]&&this[_0x337301(0x1a1)]['on'](mars3d__namespace[_0x337301(_0x5d20f3._0x51c6d2)]['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x3399b0={_0x4c8bfe:0x1a1,_0x2c05da:0x1a7,_0x516459:0x1b3,_0x2e30ae:0x1a1,_0xb005d5:0x1ee,_0x41883c:0x1a1},_0x38f505=_0x275d69;var _0x2a4e91,_0x3357c0;this['_map']['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this[_0x38f505(_0x3399b0._0x4c8bfe)][_0x38f505(_0x3399b0._0x2c05da)](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x38f505(0x1a0)],this),this[_0x38f505(_0x3399b0._0x4c8bfe)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x38f505(_0x3399b0._0x516459)],this),(_0x2a4e91=this['options'])!==null&&_0x2a4e91!==void 0x0&&(_0x2a4e91=_0x2a4e91[_0x38f505(0x1ee)])!==null&&_0x2a4e91!==void 0x0&&_0x2a4e91['click']&&this[_0x38f505(_0x3399b0._0x2e30ae)]['off'](mars3d__namespace['EventType']['click'],this[_0x38f505(0x1d6)],this),(_0x3357c0=this[_0x38f505(0x1ba)])!==null&&_0x3357c0!==void 0x0&&(_0x3357c0=_0x3357c0[_0x38f505(_0x3399b0._0xb005d5)])!==null&&_0x3357c0!==void 0x0&&_0x3357c0[_0x38f505(0x191)]&&this[_0x38f505(_0x3399b0._0x41883c)]['off'](mars3d__namespace['EventType'][_0x38f505(0x1b9)],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x3e4cfb={_0x52c58c:0x1e6},_0x2152fa=_0x275d69;this['_mapVRenderer']&&(this[_0x2152fa(_0x3e4cfb._0x52c58c)]['animatorMovestartEvent'](),this[_0x2152fa(0x1a1)]['off'](mars3d__namespace['EventType']['postRender'],this[_0x2152fa(0x1b3)],this),this['_map']['on'](mars3d__namespace['EventType'][_0x2152fa(0x1b6)],this['_reset'],this));}['_onMoveEndEvent'](){const _0x42f119={_0x4ec95c:0x1b6},_0x2aa074=_0x275d69;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType'][_0x2aa074(_0x42f119._0x4ec95c)],this['_reset'],this),this[_0x2aa074(0x1e6)]['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x30f5a8,_0x520aa5){const _0x3299f7={_0x2ed253:0x1f0},_0x24505d=_0x275d69;this[_0x24505d(_0x3299f7._0x2ed253)](),this['_addedHook']();}['addData'](_0x3f89a6){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x3f89a6,this['options']);}['updateData'](_0x274cc1){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x274cc1,this['options']);}['getData'](){return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x56aa2f){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x56aa2f);}['removeAllData'](){const _0x76322a=_0x275d69;this['_mapVRenderer']&&this[_0x76322a(0x1e6)]['clearData']();}[_0x275d69(0x1b8)](){const _0xdc2b98={_0x28f4fe:0x1bc,_0x214138:0x1c3,_0x2bd02d:0x1dd,_0x48c1db:0x1dd,_0x2c887f:0x1c3,_0x3bc697:0x1dd,_0xb3b9bd:0x1ca,_0xa18f50:0x1e2},_0x1c9da1=_0x275d69,_0x230dfe=mars3d__namespace['DomUtil'][_0x1c9da1(_0xdc2b98._0x28f4fe)]('canvas','mars3d-mapv',this['_map']['container']);_0x230dfe['id']=this['id'],_0x230dfe['style']['position']='absolute',_0x230dfe['style']['top']=_0x1c9da1(0x1ac),_0x230dfe['style']['left']=_0x1c9da1(0x1ac),_0x230dfe['width']=parseInt(this[_0x1c9da1(0x1a1)]['canvas']['width']),_0x230dfe['height']=parseInt(this['_map']['canvas']['height']),_0x230dfe['style']['width']=this['_map'][_0x1c9da1(_0xdc2b98._0x214138)][_0x1c9da1(_0xdc2b98._0x2bd02d)]['width'],_0x230dfe[_0x1c9da1(_0xdc2b98._0x48c1db)]['height']=this[_0x1c9da1(0x1a1)][_0x1c9da1(_0xdc2b98._0x2c887f)][_0x1c9da1(_0xdc2b98._0x3bc697)]['height'],_0x230dfe['style']['pointerEvents']=this[_0x1c9da1(_0xdc2b98._0xb3b9bd)]?_0x1c9da1(0x1ad):'none',_0x230dfe['style'][_0x1c9da1(0x1e7)]=this['options']['zIndex']??0x9;if(this['options'][_0x1c9da1(_0xdc2b98._0xa18f50)]==='2d'){const _0x415bfd=this['devicePixelRatio'];_0x230dfe['getContext'](this['options']['context'])['scale'](_0x415bfd,_0x415bfd);}return _0x230dfe;}['_reset'](){const _0x1505c2={_0x6b4404:0x1eb},_0x27c7ad=_0x275d69;this['resize'](),this[_0x27c7ad(_0x1505c2._0x6b4404)]();}['draw'](){const _0x17c824=_0x275d69;this[_0x17c824(0x1b3)]();}[_0x275d69(0x1df)](){const _0xa41842={_0x501878:0x1c3},_0x320a69=_0x275d69;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x320a69(0x1cb)](),this['_mapVRenderer']=null),this[_0x320a69(_0xa41842._0x501878)]['parentElement']['removeChild'](this['canvas']);}['render'](){const _0x3d0887={_0x9cc490:0x199},_0x5d8a97=_0x275d69;this['_mapVRenderer'][_0x5d8a97(_0x3d0887._0x9cc490)]();}['resize'](){const _0x842e5d={_0x35bd97:0x1c3,_0xe21a76:0x1dd,_0x4e00d0:0x1a4,_0x3f19f8:0x1a1},_0x34f8f2=_0x275d69;if(this['canvas']){const _0x3c49a1=this[_0x34f8f2(_0x842e5d._0x35bd97)];_0x3c49a1[_0x34f8f2(_0x842e5d._0xe21a76)]['position']=_0x34f8f2(_0x842e5d._0x4e00d0),_0x3c49a1['style']['top']='0px',_0x3c49a1['style']['left']='0px',_0x3c49a1['width']=parseInt(this[_0x34f8f2(_0x842e5d._0x3f19f8)]['canvas'][_0x34f8f2(0x192)]),_0x3c49a1['height']=parseInt(this['_map']['canvas'][_0x34f8f2(0x1cd)]),_0x3c49a1['style']['width']=this['_map'][_0x34f8f2(0x1c3)][_0x34f8f2(0x1dd)][_0x34f8f2(0x192)],_0x3c49a1[_0x34f8f2(_0x842e5d._0xe21a76)]['height']=this[_0x34f8f2(_0x842e5d._0x3f19f8)]['canvas']['style']['height'];}}[_0x275d69(0x198)](_0x44cc21){const _0x47f88e={_0x3f54ac:0x1a3,_0x2f24da:0x19f,_0x26328f:0x1a5,_0x33a9c1:0x1e9},_0x31c722=_0x275d69;if(!this['dataSet']||!this[_0x31c722(_0x47f88e._0x3f54ac)]['_data'])return;const _0x522a4a=mars3d__namespace[_0x31c722(_0x47f88e._0x2f24da)]['getExtentByGeoJSON']({'type':_0x31c722(_0x47f88e._0x26328f),'features':this['dataSet']['_data']});if(!_0x522a4a)return;return _0x44cc21!==null&&_0x44cc21!==void 0x0&&_0x44cc21['isFormat']?_0x522a4a:Cesium['Rectangle']['fromDegrees'](_0x522a4a['xmin'],_0x522a4a['ymin'],_0x522a4a[_0x31c722(_0x47f88e._0x33a9c1)],_0x522a4a['ymax']);}['_onMapClick'](_0x1a2f36){const _0x5280b7=_0x275d69;this['_cache_event']=_0x1a2f36,this['_mapVRenderer']&&this['_mapVRenderer'][_0x5280b7(0x1ec)](_0x1a2f36['windowPosition'],_0x1a2f36);}['_onMapMouseMove'](_0x198a59){const _0x3e9157=_0x275d69;this[_0x3e9157(0x1e0)]=_0x198a59,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x198a59['windowPosition'],_0x198a59);}['on'](_0x2a12a6,_0xec411b,_0x3a3e5b){const _0x4c45d3={_0x27d653:0x1bd,_0x35ec64:0x1ba,_0x10f8e6:0x1a1},_0x5cc436={_0x17c234:0x1c8},_0x1d39c4={_0xbe541a:0x1e0},_0xdad657=_0x275d69;this['options'][_0xdad657(0x1ee)]=this['options']['methods']||{};if(_0x2a12a6===mars3d__namespace['EventType'][_0xdad657(_0x4c45d3._0x27d653)])this[_0xdad657(0x1ba)]['methods']['click']=_0x4a9701=>{const _0x4ce2df=_0xdad657;_0x4a9701&&_0xec411b['bind'](_0x3a3e5b)({...this[_0x4ce2df(_0x1d39c4._0xbe541a)],'layer':this,'data':_0x4a9701});},this['_map']['on'](mars3d__namespace[_0xdad657(0x1ab)]['click'],this[_0xdad657(0x1d6)],this);else _0x2a12a6===mars3d__namespace['EventType'][_0xdad657(0x1b9)]&&(this[_0xdad657(_0x4c45d3._0x35ec64)]['methods']['mousemove']=_0x55e0fe=>{const _0x5bf226=_0xdad657;_0x55e0fe&&_0xec411b[_0x5bf226(_0x5cc436._0x17c234)](_0x3a3e5b)({...this['_cache_event'],'layer':this,'data':_0x55e0fe});},this[_0xdad657(_0x4c45d3._0x10f8e6)]['on'](mars3d__namespace[_0xdad657(0x1ab)]['mouseMove'],this[_0xdad657(0x1e8)],this));return this;}[_0x275d69(0x1a7)](_0x598f42,_0x350ef){const _0x1b2319={_0x34781c:0x1ba,_0x1436a3:0x1ee,_0x43853f:0x1a1},_0x13333a=_0x275d69;if(_0x598f42==='click'){var _0x53454f;this['_map'][_0x13333a(0x1a7)](_0x598f42,this['_onMapClick'],this),(_0x53454f=this['options']['methods'])!==null&&_0x53454f!==void 0x0&&_0x53454f['mousemove']&&delete this[_0x13333a(_0x1b2319._0x34781c)][_0x13333a(_0x1b2319._0x1436a3)]['click'];}else{if(_0x598f42==='mouseMove'){var _0x222c20;this[_0x13333a(_0x1b2319._0x43853f)]['off'](_0x598f42,this['_onMapMouseMove'],this),(_0x222c20=this['options']['methods'])!==null&&_0x222c20!==void 0x0&&_0x222c20['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil']['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace[_0x275d69(0x1c6)]=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)[_0x275d69(0x1b5)](function(_0x1477a1){if(_0x1477a1!=='default'&&!exports['hasOwnProperty'](_0x1477a1))Object['defineProperty'](exports,_0x1477a1,{'enumerable':!![],'get':function(){return mapv[_0x1477a1];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
