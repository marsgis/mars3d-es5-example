/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.12
 * 编译日期：2023-11-07 21:56:03
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x183db2=_0x5f23;(function(_0x5f291e,_0x1110d1){const _0x238c3f={_0x4f70c8:0x1b8,_0x1b3127:0x1da,_0xc082da:0x1c3,_0x55aab5:0x1f2,_0xba2935:0x1e7},_0x16fba3=_0x5f23,_0x12e244=_0x5f291e();while(!![]){try{const _0x14adf8=parseInt(_0x16fba3(_0x238c3f._0x4f70c8))/0x1*(parseInt(_0x16fba3(0x1e0))/0x2)+parseInt(_0x16fba3(0x204))/0x3+-parseInt(_0x16fba3(_0x238c3f._0x1b3127))/0x4*(parseInt(_0x16fba3(0x1e1))/0x5)+parseInt(_0x16fba3(_0x238c3f._0xc082da))/0x6*(parseInt(_0x16fba3(0x1e4))/0x7)+-parseInt(_0x16fba3(_0x238c3f._0x55aab5))/0x8+-parseInt(_0x16fba3(0x1cb))/0x9+parseInt(_0x16fba3(_0x238c3f._0xba2935))/0xa;if(_0x14adf8===_0x1110d1)break;else _0x12e244['push'](_0x12e244['shift']());}catch(_0x45e6e6){_0x12e244['push'](_0x12e244['shift']());}}}(_0x3c60,0xb94c7));function _interopNamespace(_0x136229){const _0x5bd378=_0x5f23;if(_0x136229&&_0x136229['__esModule'])return _0x136229;var _0x450405=Object[_0x5bd378(0x1d2)](null);return _0x136229&&Object['keys'](_0x136229)['forEach'](function(_0x1917cf){if(_0x1917cf!=='default'){var _0x5d9569=Object['getOwnPropertyDescriptor'](_0x136229,_0x1917cf);Object['defineProperty'](_0x450405,_0x1917cf,_0x5d9569['get']?_0x5d9569:{'enumerable':!![],'get':function(){return _0x136229[_0x1917cf];}});}}),_0x450405['default']=_0x136229,_0x450405;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x152073,_0x553b0e,_0x201baf,_0x29add1){const _0x36d6ce={_0x41f670:0x1d9,_0x229fef:0x1a9,_0x13bd8c:0x1bd,_0x4cc55e:0x1c0},_0x390a56=_0x5f23;super(_0x152073,_0x553b0e,_0x201baf);if(!BaseLayer$1)return;this[_0x390a56(_0x36d6ce._0x41f670)]=_0x152073,this['scene']=_0x152073[_0x390a56(_0x36d6ce._0x229fef)],this['dataSet']=_0x553b0e,_0x201baf=_0x201baf||{},this[_0x390a56(_0x36d6ce._0x13bd8c)](_0x201baf),this['argCheck'](_0x201baf),this['initDevicePixelRatio'](),this['canvasLayer']=_0x29add1,this['stopAniamation']=!0x1,this[_0x390a56(_0x36d6ce._0x4cc55e)]=_0x201baf['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x183db2(0x1f4)](){}[_0x183db2(0x1f7)](){const _0x210210=_0x183db2,_0x5609e8=this[_0x210210(0x1b7)]['animation'];this[_0x210210(0x1c1)]()&&this['animator']&&(this['steps']['step']=_0x5609e8['stepsRange']['start']);}['animatorMoveendEvent'](){const _0x46c939=_0x183db2;this['isEnabledTime']()&&this[_0x46c939(0x1f3)];}['getContext'](){return this['canvasLayer']['canvas']['getContext'](this['context']);}['init'](_0x1cafd6){const _0x2999e0={_0x209693:0x1aa,_0x4333ed:0x1bc,_0x56f18d:0x1fa},_0x3b6607=_0x183db2;this['options']=_0x1cafd6,this[_0x3b6607(_0x2999e0._0x209693)](_0x1cafd6),this['context']=this[_0x3b6607(0x1b7)]['context']||'2d',Cesium$1[_0x3b6607(_0x2999e0._0x4333ed)](this[_0x3b6607(0x1b7)]['zIndex'])&&this[_0x3b6607(0x1cf)]&&this['canvasLayer'][_0x3b6607(_0x2999e0._0x56f18d)]&&this['canvasLayer'][_0x3b6607(0x1fa)](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x421d20){const _0x152610={_0x37606d:0x1a9,_0x2d8dc6:0x1c1,_0x16644b:0x206,_0x5c92e9:0x202},_0x2be107={_0xc1714c:0x1fc,_0x577e12:0x1f6},_0x1a9a28=_0x183db2,_0x1aaacc=this[_0x1a9a28(_0x152610._0x37606d)];if(this['canvasLayer']&&!this['stopAniamation']){const _0x165b66=this['options'][_0x1a9a28(0x1c0)],_0x1a3253=this['getContext']();if(this[_0x1a9a28(_0x152610._0x2d8dc6)]()){if(void 0x0===_0x421d20)return void this[_0x1a9a28(_0x152610._0x16644b)](_0x1a3253);this[_0x1a9a28(_0x152610._0x5c92e9)]==='2d'&&(_0x1a3253['save'](),_0x1a3253['globalCompositeOperation']=_0x1a9a28(0x1ec),_0x1a3253['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x1a3253['fillRect'](0x0,0x0,_0x1a3253['canvas']['width'],_0x1a3253[_0x1a9a28(0x1e5)]['height']),_0x1a3253['restore']());}else this['clear'](_0x1a3253);if(this['context']==='2d')for(const _0xb96925 in this['options']){_0x1a3253[_0xb96925]=this['options'][_0xb96925];}else _0x1a3253['clear'](_0x1a3253['COLOR_BUFFER_BIT']);const _0x52ed8d={'transferCoordinate':function(_0x11a129){const _0xb6e752=_0x1a9a28,_0x1f3012=null;let _0x2fad00=_0x1aaacc['mapvFixedHeight'];_0x1aaacc['mapvAutoHeight']&&(_0x2fad00=_0x1aaacc['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x11a129[0x0],_0x11a129[0x1])));const _0x91faa6=Cesium$1[_0xb6e752(0x1e3)][_0xb6e752(_0x2be107._0xc1714c)](_0x11a129[0x0],_0x11a129[0x1],_0x2fad00);if(!_0x91faa6)return _0x1f3012;const _0x4031e2=_0x1aaacc['cartesianToCanvasCoordinates'](_0x91faa6);if(!_0x4031e2)return _0x1f3012;if(_0x1aaacc['mapvDepthTest']&&_0x1aaacc[_0xb6e752(_0x2be107._0x577e12)]===Cesium$1['SceneMode'][_0xb6e752(0x1f9)]){const _0x44ebf7=new Cesium$1['EllipsoidalOccluder'](_0x1aaacc['globe'][_0xb6e752(0x1b5)],_0x1aaacc['camera']['positionWC']),_0x58bd6f=_0x44ebf7['isPointVisible'](_0x91faa6);if(!_0x58bd6f)return _0x1f3012;}return[_0x4031e2['x'],_0x4031e2['y']];}};void 0x0!==_0x421d20&&(_0x52ed8d['filter']=function(_0x545195){const _0x2608a0=_0x1a9a28,_0x1d56f3=_0x165b66['trails']||0xa;return!!(_0x421d20&&_0x545195[_0x2608a0(0x1dd)]>_0x421d20-_0x1d56f3&&_0x545195['time']<_0x421d20);});const _0x53a894=this['dataSet']['get'](_0x52ed8d);this['processData'](_0x53a894),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x4a8a9f=_0x1aaacc['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x4a8a9f)return;this[_0x1a9a28(0x1f8)](_0x1a3253,new mapv__namespace['DataSet'](_0x53a894),this['options'],_0x4a8a9f),this[_0x1a9a28(0x1b7)][_0x1a9a28(0x1e8)]&&this[_0x1a9a28(0x1b7)]['updateCallback'](_0x421d20);}}['updateData'](_0x3e9510,_0x28174b){const _0x559fb3={_0x42e340:0x1bb},_0x5d1f37=_0x183db2;let _0x196d97=_0x3e9510;_0x196d97&&_0x196d97['get']&&(_0x196d97=_0x196d97[_0x5d1f37(_0x559fb3._0x42e340)]()),void 0x0!==_0x196d97&&this['dataSet']['set'](_0x196d97),super['update']({'options':_0x28174b});}[_0x183db2(0x1b0)](_0x4ad73c,_0x3f71f8){const _0x1e535d={_0x18c1ce:0x1d4},_0x178117=_0x183db2;let _0x8335b1=_0x4ad73c;_0x4ad73c&&_0x4ad73c['get']&&(_0x8335b1=_0x4ad73c['get']()),this[_0x178117(_0x1e535d._0x18c1ce)]['add'](_0x8335b1),this['update']({'options':_0x3f71f8});}['getData'](){return this['dataSet'];}['removeData'](_0x2ea7f2){const _0x1957b1=_0x183db2;if(this['dataSet']){const _0x29a2a7=this['dataSet'][_0x1957b1(0x1bb)]({'filter':function(_0x32cee2){return _0x2ea7f2==null||typeof _0x2ea7f2!=='function'||!_0x2ea7f2(_0x32cee2);}});this[_0x1957b1(0x1d4)]['set'](_0x29a2a7),this['update']({'options':null});}}['clearData'](){const _0x211b21={_0x137aa4:0x1d4},_0xbf95b3=_0x183db2;this[_0xbf95b3(_0x211b21._0x137aa4)]&&this['dataSet']['clear'](),this['update']({'options':null});}[_0x183db2(0x1f1)](){this['canvasLayer']['draw']();}['clear'](_0x1f1c44){const _0x41ec33={_0x2bd505:0x1c7,_0x483210:0x200},_0x33a08e=_0x183db2;_0x1f1c44&&_0x1f1c44['clearRect']&&_0x1f1c44['clearRect'](0x0,0x0,_0x1f1c44['canvas'][_0x33a08e(_0x41ec33._0x2bd505)],_0x1f1c44['canvas'][_0x33a08e(_0x41ec33._0x483210)]);}[_0x183db2(0x1d7)](){const _0x4fdbc8={_0x19f051:0x1f3},_0x392def=_0x183db2;this[_0x392def(0x206)](this['getContext']()),this['clearData'](),this['animator']&&this[_0x392def(_0x4fdbc8._0x19f051)]['stop'](),this['animator']=null,this['canvasLayer']=null;}}function _0x5f23(_0xbef47e,_0x2c23dd){const _0x3c608b=_0x3c60();return _0x5f23=function(_0x5f23a9,_0x48e6f3){_0x5f23a9=_0x5f23a9-0x1a9;let _0x42168c=_0x3c608b[_0x5f23a9];return _0x42168c;},_0x5f23(_0xbef47e,_0x2c23dd);}function _0x3c60(){const _0x2a4c46=['_canvasUpdate','width','length','style','all','5663115ZifbRf','bindEvent','EventType','_reset','canvasLayer','_onMapMouseMove','0px','create','parentElement','dataSet','mousemoveEvent','pointerEvents','destroy','xmin','map','28DNDLxo','DataSet','_mapVRenderer','time','请引入\x20mapv\x20库\x20','_removedHook','18Prbibq','224545DpCZEB','devicePixelRatio','Cartesian3','588qgwqid','canvas','_createCanvas','3317750QvSlAW','updateCallback','_data','_map','clearData','destination-out','off','mapv','getData','Rectangle','draw','9465480lFrGdu','animator','addAnimatorEvent','position','mode','animatorMovestartEvent','drawContext','SCENE3D','setZIndex','getContext','fromDegrees','_coordinates','LayerUtil','removeData','height','ymax','context','_setOptionsHook','2233290LbKNci','unbindEvent','clear','_onMapClick','animatorMoveendEvent','scene','initDataRange','windowPosition','updateData','methods','_cache_event','click','addData','mousemove','_mountedHook','scale','top','ellipsoid','MapVLayer','options','90397uHeKTR','Cesium','coordinates','get','defined','init','__esModule','prototype','animation','isEnabledTime','keys','71142Dtbcik','_pointerEvents','initDevicePixelRatio'];_0x3c60=function(){return _0x2a4c46;};return _0x3c60();}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace[_0x183db2(0x1db)][_0x183db2(0x1bf)]['transferCoordinate']=function(_0x2f2d0d,_0x134321,_0x4f86a9,_0x35bd30){const _0x1ade77=_0x183db2;_0x35bd30=_0x35bd30||_0x1ade77(0x1fd),_0x4f86a9=_0x4f86a9||_0x1ade77(0x1ba);for(let _0x3021df=0x0;_0x3021df<_0x2f2d0d['length'];_0x3021df++){const _0x561ad0=_0x2f2d0d[_0x3021df]['geometry'],_0x10a23e=_0x561ad0[_0x4f86a9];switch(_0x561ad0['type']){case'Point':{const _0x448ea2=_0x134321(_0x10a23e);_0x448ea2?_0x561ad0[_0x35bd30]=_0x448ea2:_0x561ad0[_0x35bd30]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x4f3516=[];for(let _0x26b001=0x0;_0x26b001<_0x10a23e['length'];_0x26b001++){const _0x54b249=_0x134321(_0x10a23e[_0x26b001]);_0x54b249&&_0x4f3516['push'](_0x54b249);}_0x561ad0[_0x35bd30]=_0x4f3516;}break;case'MultiLineString':case'Polygon':{const _0x19be01=_0x1cd349(_0x10a23e);_0x561ad0[_0x35bd30]=_0x19be01;}break;case'MultiPolygon':{const _0x49e8f0=[];for(let _0x2af37b=0x0;_0x2af37b<_0x10a23e[_0x1ade77(0x1c8)];_0x2af37b++){const _0x23322f=_0x1cd349(_0x10a23e[_0x2af37b]);_0x23322f['length']>0x0&&_0x49e8f0['push'](_0x23322f);}_0x561ad0[_0x35bd30]=_0x49e8f0;}break;}}function _0x1cd349(_0x36efb4){const _0x4924d5=_0x1ade77,_0x96a38a=[];for(let _0x40b7dd=0x0;_0x40b7dd<_0x36efb4['length'];_0x40b7dd++){const _0x4c7ee8=_0x36efb4[_0x40b7dd],_0xc3ef78=[];for(let _0x3af639=0x0;_0x3af639<_0x4c7ee8[_0x4924d5(0x1c8)];_0x3af639++){const _0x23e533=_0x134321(_0x4c7ee8[_0x3af639]);_0x23e533&&_0xc3ef78['push'](_0x23e533);}_0xc3ef78['length']>0x0&&_0x96a38a['push'](_0xc3ef78);}return _0x96a38a;}return _0x2f2d0d;};else throw new Error(_0x183db2(0x1de));const Cesium=mars3d__namespace[_0x183db2(0x1b9)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x55fe46,_0x575a5f){const _0x4f4406=_0x183db2;super(_0x55fe46),this['_pointerEvents']=this[_0x4f4406(0x1b7)]['pointerEvents'],this['dataSet']=_0x575a5f||new mapv__namespace['DataSet'](_0x55fe46['data']),this[_0x4f4406(0x1e5)]=null;}get[_0x183db2(0x1d6)](){return this['_pointerEvents'];}set[_0x183db2(0x1d6)](_0x300f1b){const _0x56017e={_0x55d7d9:0x1d6,_0x13a3ef:0x1ca,_0xc9152:0x1d6},_0x6166f3=_0x183db2;this[_0x6166f3(0x1c4)]=_0x300f1b,this['canvas']&&(_0x300f1b?this['canvas']['style'][_0x6166f3(_0x56017e._0x55d7d9)]=_0x6166f3(_0x56017e._0x13a3ef):this['canvas']['style'][_0x6166f3(_0x56017e._0xc9152)]='none');}['_showHook'](_0x2e79b0){const _0x438717=_0x183db2;_0x2e79b0?this['canvas'][_0x438717(0x1c9)]['display']='block':this['canvas']['style']['display']='none';}[_0x183db2(0x1b2)](){const _0xc2d2d7={_0x549025:0x1a9,_0x3f5a90:0x1a9},_0x1269df=_0x183db2;this['_map'][_0x1269df(_0xc2d2d7._0x549025)]['mapvDepthTest']=this['options']['depthTest']??!![],this[_0x1269df(0x1ea)]['scene']['mapvAutoHeight']=this['options']['clampToGround']??![],this['_map'][_0x1269df(_0xc2d2d7._0x3f5a90)]['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x44ab82={_0x44967f:0x1d4,_0x2ebe42:0x1d4,_0x5d3b3a:0x1e6},_0x2346ee=_0x183db2;this[_0x2346ee(_0x44ab82._0x44967f)]&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this['dataSet'][_0x2346ee(0x1e9)]=[]['concat'](this[_0x2346ee(_0x44ab82._0x2ebe42)]['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x2346ee(0x1ea)],this[_0x2346ee(0x1d4)],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this[_0x2346ee(_0x44ab82._0x5d3b3a)](),this['render']=this['render']['bind'](this),this['bindEvent'](),this['_reset']();}[_0x183db2(0x1df)](){const _0x58c054={_0x54d634:0x1d3},_0x29f416=_0x183db2;this[_0x29f416(0x205)](),this[_0x29f416(0x1dc)]&&(this[_0x29f416(0x1dc)]['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x29f416(_0x58c054._0x54d634)]['removeChild'](this['canvas']);}[_0x183db2(0x1c5)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x183db2(0x1cc)](){const _0x4105fb={_0x4bb956:0x1ea,_0x2b4160:0x1ea,_0x3aee10:0x1cd},_0x49480e=_0x183db2;var _0x2e6aed,_0x578c40;this[_0x49480e(0x1ea)]['on'](mars3d__namespace[_0x49480e(0x1cd)]['mouseDown'],this['_onMoveStartEvent'],this),this[_0x49480e(_0x4105fb._0x4bb956)]['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x49480e(0x1ea)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x2e6aed=this['options'])!==null&&_0x2e6aed!==void 0x0&&(_0x2e6aed=_0x2e6aed['methods'])!==null&&_0x2e6aed!==void 0x0&&_0x2e6aed['click']&&this['_map']['on'](mars3d__namespace['EventType'][_0x49480e(0x1af)],this[_0x49480e(0x207)],this),(_0x578c40=this['options'])!==null&&_0x578c40!==void 0x0&&(_0x578c40=_0x578c40['methods'])!==null&&_0x578c40!==void 0x0&&_0x578c40[_0x49480e(0x1b1)]&&this[_0x49480e(_0x4105fb._0x2b4160)]['on'](mars3d__namespace[_0x49480e(_0x4105fb._0x3aee10)]['mouseMove'],this[_0x49480e(0x1d0)],this);}[_0x183db2(0x205)](){const _0x15e5dc={_0x498b7f:0x1ea},_0xc904aa=_0x183db2;var _0x58d7c6,_0x1c2701;this['_map']['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0xc904aa(0x1ea)]['off'](mars3d__namespace[_0xc904aa(0x1cd)]['cameraMoveEnd'],this['_onMoveEndEvent'],this),this[_0xc904aa(_0x15e5dc._0x498b7f)]['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x58d7c6=this['options'])!==null&&_0x58d7c6!==void 0x0&&(_0x58d7c6=_0x58d7c6[_0xc904aa(0x1ad)])!==null&&_0x58d7c6!==void 0x0&&_0x58d7c6['click']&&this['_map']['off'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x1c2701=this['options'])!==null&&_0x1c2701!==void 0x0&&(_0x1c2701=_0x1c2701[_0xc904aa(0x1ad)])!==null&&_0x1c2701!==void 0x0&&_0x1c2701['mousemove']&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x1b199a=_0x183db2;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map'][_0x1b199a(0x1ed)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x1d5a13=_0x183db2;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x1d5a13(0x1ce)],this),this['_mapVRenderer'][_0x1d5a13(0x208)](),this['_reset']());}[_0x183db2(0x203)](_0x35fc53,_0x11c09d){const _0x75f536={_0x318d02:0x1df},_0x40e9c3=_0x183db2;this[_0x40e9c3(_0x75f536._0x318d02)](),this['_addedHook']();}['addData'](_0x2bf84e){const _0x33f397={_0x1cc646:0x1b7},_0x58224a=_0x183db2;this['_mapVRenderer']&&this['_mapVRenderer'][_0x58224a(0x1b0)](_0x2bf84e,this[_0x58224a(_0x33f397._0x1cc646)]);}[_0x183db2(0x1ac)](_0x17a70c){const _0x3dbbf2={_0x45a1d7:0x1ac},_0x1b8756=_0x183db2;this['_mapVRenderer']&&this['_mapVRenderer'][_0x1b8756(_0x3dbbf2._0x45a1d7)](_0x17a70c,this['options']);}[_0x183db2(0x1ef)](){const _0x48e7c8=_0x183db2;return this['_mapVRenderer']&&(this[_0x48e7c8(0x1d4)]=this['_mapVRenderer']['getData']()),this['dataSet'];}[_0x183db2(0x1ff)](_0x2d3baf){const _0x2866e0={_0x3a2f8e:0x1dc},_0x5b321e=_0x183db2;this['_mapVRenderer']&&this[_0x5b321e(_0x2866e0._0x3a2f8e)]['removeData'](_0x2d3baf);}['removeAllData'](){const _0xa38d51={_0x3dc949:0x1eb},_0x20b96e=_0x183db2;this[_0x20b96e(0x1dc)]&&this['_mapVRenderer'][_0x20b96e(_0xa38d51._0x3dc949)]();}['_createCanvas'](){const _0x400d61={_0x10bf80:0x1e5,_0x1d99fd:0x1e5,_0x2cc256:0x1c9,_0x12aa1b:0x200,_0x485b82:0x202,_0x533684:0x1e2,_0x10396c:0x1fb,_0x337b46:0x1b3},_0x50518d=_0x183db2,_0x4732c7=mars3d__namespace['DomUtil']['create'](_0x50518d(_0x400d61._0x10bf80),'mars3d-mapv',this['_map']['container']);_0x4732c7['id']=this['id'],_0x4732c7['style'][_0x50518d(0x1f5)]='absolute',_0x4732c7['style'][_0x50518d(0x1b4)]=_0x50518d(0x1d1),_0x4732c7['style']['left']='0px',_0x4732c7[_0x50518d(0x1c7)]=parseInt(this['_map']['canvas']['width']),_0x4732c7['height']=parseInt(this['_map']['canvas'][_0x50518d(0x200)]),_0x4732c7[_0x50518d(0x1c9)][_0x50518d(0x1c7)]=this['_map'][_0x50518d(_0x400d61._0x1d99fd)]['style']['width'],_0x4732c7[_0x50518d(0x1c9)]['height']=this[_0x50518d(0x1ea)]['canvas'][_0x50518d(_0x400d61._0x2cc256)][_0x50518d(_0x400d61._0x12aa1b)],_0x4732c7[_0x50518d(0x1c9)]['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x4732c7['style']['zIndex']=this['options']['zIndex']??0x9;if(this[_0x50518d(0x1b7)][_0x50518d(_0x400d61._0x485b82)]==='2d'){const _0xa1a724=this[_0x50518d(_0x400d61._0x533684)];_0x4732c7[_0x50518d(_0x400d61._0x10396c)](this[_0x50518d(0x1b7)]['context'])[_0x50518d(_0x400d61._0x337b46)](_0xa1a724,_0xa1a724);}return _0x4732c7;}['_reset'](){this['resize'](),this['render']();}['draw'](){this['_reset']();}['remove'](){const _0x160705={_0x34b8b4:0x1d3},_0x3502bc=_0x183db2;this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x3502bc(_0x160705._0x34b8b4)]['removeChild'](this[_0x3502bc(0x1e5)]);}['render'](){const _0x515768={_0x23287b:0x1dc},_0x480173=_0x183db2;this[_0x480173(_0x515768._0x23287b)][_0x480173(0x1c6)]();}['resize'](){const _0x432900={_0x10c8ec:0x1ea,_0x274f27:0x1c9,_0x531343:0x1c9},_0x3d4503=_0x183db2;if(this['canvas']){const _0x5d0a66=this['canvas'];_0x5d0a66[_0x3d4503(0x1c9)][_0x3d4503(0x1f5)]='absolute',_0x5d0a66[_0x3d4503(0x1c9)]['top']='0px',_0x5d0a66['style']['left']='0px',_0x5d0a66['width']=parseInt(this['_map']['canvas'][_0x3d4503(0x1c7)]),_0x5d0a66['height']=parseInt(this[_0x3d4503(_0x432900._0x10c8ec)]['canvas']['height']),_0x5d0a66[_0x3d4503(_0x432900._0x274f27)]['width']=this['_map']['canvas']['style']['width'],_0x5d0a66[_0x3d4503(_0x432900._0x531343)]['height']=this[_0x3d4503(0x1ea)]['canvas']['style']['height'];}}['getRectangle'](_0x179e21){const _0x1e70c2={_0x473954:0x1d4,_0x404578:0x1e9,_0x2e3664:0x1f0,_0xf65fce:0x1d8,_0x4ffeb0:0x201},_0x34d663=_0x183db2;if(!this[_0x34d663(_0x1e70c2._0x473954)]||!this['dataSet'][_0x34d663(_0x1e70c2._0x404578)])return;const _0x20f69a=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x20f69a)return;return _0x179e21!==null&&_0x179e21!==void 0x0&&_0x179e21['isFormat']?_0x20f69a:Cesium[_0x34d663(_0x1e70c2._0x2e3664)]['fromDegrees'](_0x20f69a[_0x34d663(_0x1e70c2._0xf65fce)],_0x20f69a['ymin'],_0x20f69a['xmax'],_0x20f69a[_0x34d663(_0x1e70c2._0x4ffeb0)]);}['_onMapClick'](_0x2de109){const _0xff2c02={_0x54f06b:0x1ab},_0x2b564a=_0x183db2;this['_cache_event']=_0x2de109,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x2de109[_0x2b564a(_0xff2c02._0x54f06b)],_0x2de109);}[_0x183db2(0x1d0)](_0x19490c){const _0x2c472c=_0x183db2;this[_0x2c472c(0x1ae)]=_0x19490c,this['_mapVRenderer']&&this['_mapVRenderer'][_0x2c472c(0x1d5)](_0x19490c['windowPosition'],_0x19490c);}['on'](_0x39cc25,_0x5067dc,_0x577926){const _0x4110c3={_0x31a5fe:0x1af},_0x3f6286=_0x183db2;this[_0x3f6286(0x1b7)]['methods']=this['options']['methods']||{};if(_0x39cc25===mars3d__namespace['EventType'][_0x3f6286(0x1af)])this['options']['methods']['click']=_0x62bead=>{_0x62bead&&_0x5067dc['bind'](_0x577926)({...this['_cache_event'],'layer':this,'data':_0x62bead});},this['_map']['on'](mars3d__namespace['EventType'][_0x3f6286(_0x4110c3._0x31a5fe)],this['_onMapClick'],this);else _0x39cc25===mars3d__namespace['EventType']['mouseMove']&&(this['options']['methods']['mousemove']=_0x1a9981=>{const _0x10aa94=_0x3f6286;_0x1a9981&&_0x5067dc['bind'](_0x577926)({...this[_0x10aa94(0x1ae)],'layer':this,'data':_0x1a9981});},this['_map']['on'](mars3d__namespace[_0x3f6286(0x1cd)]['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x54bd0d,_0x172896){const _0x2ca9e0={_0x2147fd:0x1af,_0x2ec0c3:0x1ed},_0x591e4c=_0x183db2;if(_0x54bd0d==='click'){var _0x20c805;this['_map'][_0x591e4c(0x1ed)](_0x54bd0d,this['_onMapClick'],this),(_0x20c805=this['options']['methods'])!==null&&_0x20c805!==void 0x0&&_0x20c805['mousemove']&&delete this['options']['methods'][_0x591e4c(_0x2ca9e0._0x2147fd)];}else{if(_0x54bd0d==='mouseMove'){var _0x140d4d;this['_map'][_0x591e4c(_0x2ca9e0._0x2ec0c3)](_0x54bd0d,this['_onMapMouseMove'],this),(_0x140d4d=this['options']['methods'])!==null&&_0x140d4d!==void 0x0&&_0x140d4d['mousemove']&&delete this[_0x591e4c(0x1b7)]['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x183db2(0x1fe)]['register'](_0x183db2(0x1ee),MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0x183db2(0x1b6)]=MapVLayer,Object[_0x183db2(0x1c2)](mapv)['forEach'](function(_0x1d95c7){if(_0x1d95c7!=='default'&&!exports['hasOwnProperty'](_0x1d95c7))Object['defineProperty'](exports,_0x1d95c7,{'enumerable':!![],'get':function(){return mapv[_0x1d95c7];}});}),Object['defineProperty'](exports,_0x183db2(0x1be),{'value':!![]});
}));
