/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.0
 * 编译日期：2024-01-14 21:58:35
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x92f195=_0x56ea;function _0x56ea(_0x588386,_0x1725e5){const _0x442591=_0x4425();return _0x56ea=function(_0x56ea86,_0x102410){_0x56ea86=_0x56ea86-0xc3;let _0x582e6c=_0x442591[_0x56ea86];return _0x582e6c;},_0x56ea(_0x588386,_0x1725e5);}(function(_0x179cc3,_0x3b0951){const _0xad75c2={_0x2e4b7a:0xcf,_0x119c96:0x11f,_0x37a598:0xec},_0x5cf3fd=_0x56ea,_0x4b254c=_0x179cc3();while(!![]){try{const _0x4e6ff6=parseInt(_0x5cf3fd(0x11e))/0x1*(parseInt(_0x5cf3fd(0xfa))/0x2)+parseInt(_0x5cf3fd(0x106))/0x3*(-parseInt(_0x5cf3fd(0x104))/0x4)+parseInt(_0x5cf3fd(0xd1))/0x5+parseInt(_0x5cf3fd(0x10f))/0x6*(parseInt(_0x5cf3fd(0x117))/0x7)+parseInt(_0x5cf3fd(_0xad75c2._0x2e4b7a))/0x8+-parseInt(_0x5cf3fd(_0xad75c2._0x119c96))/0x9*(-parseInt(_0x5cf3fd(0xd6))/0xa)+-parseInt(_0x5cf3fd(_0xad75c2._0x37a598))/0xb;if(_0x4e6ff6===_0x3b0951)break;else _0x4b254c['push'](_0x4b254c['shift']());}catch(_0x1adaf2){_0x4b254c['push'](_0x4b254c['shift']());}}}(_0x4425,0x78b9a));function _interopNamespace(_0x2a535d){const _0xbb3ab1=_0x56ea;if(_0x2a535d&&_0x2a535d[_0xbb3ab1(0xe1)])return _0x2a535d;var _0x439a21=Object[_0xbb3ab1(0xe7)](null);return _0x2a535d&&Object['keys'](_0x2a535d)['forEach'](function(_0x55ed49){const _0x24b119=_0xbb3ab1;if(_0x55ed49!==_0x24b119(0xe9)){var _0x1efab1=Object['getOwnPropertyDescriptor'](_0x2a535d,_0x55ed49);Object[_0x24b119(0xc3)](_0x439a21,_0x55ed49,_0x1efab1['get']?_0x1efab1:{'enumerable':!![],'get':function(){return _0x2a535d[_0x55ed49];}});}}),_0x439a21['default']=_0x2a535d,_0x439a21;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x92f195(0xca)],baiduMapLayer=mapv__namespace?mapv__namespace[_0x92f195(0xc4)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x23eac1,_0x352986,_0x2c0169,_0x4f1353){const _0x1d65d9={_0x4b7381:0x116,_0x49159a:0xce,_0x55a7a9:0x110,_0x43681c:0xf2},_0x5075fd=_0x92f195;super(_0x23eac1,_0x352986,_0x2c0169);if(!BaseLayer$1)return;this[_0x5075fd(0xc7)]=_0x23eac1,this[_0x5075fd(0x116)]=_0x23eac1[_0x5075fd(_0x1d65d9._0x4b7381)],this[_0x5075fd(0x119)]=_0x352986,_0x2c0169=_0x2c0169||{},this['init'](_0x2c0169),this[_0x5075fd(_0x1d65d9._0x49159a)](_0x2c0169),this[_0x5075fd(_0x1d65d9._0x55a7a9)](),this[_0x5075fd(0xc9)]=_0x4f1353,this[_0x5075fd(0xd3)]=!0x1,this[_0x5075fd(_0x1d65d9._0x43681c)]=_0x2c0169['animation'];}['initDevicePixelRatio'](){const _0x1d3f36={_0x49582f:0xe0},_0x1f6a29=_0x92f195;this['devicePixelRatio']=window[_0x1f6a29(_0x1d3f36._0x49582f)]||0x1;}['addAnimatorEvent'](){}[_0x92f195(0xf5)](){const _0x3a6ff6={_0x5dfba3:0x11a,_0x4f1896:0x118},_0x65130a=_0x92f195,_0x1ebee2=this['options']['animation'];this[_0x65130a(_0x3a6ff6._0x5dfba3)]()&&this['animator']&&(this['steps'][_0x65130a(0x105)]=_0x1ebee2['stepsRange'][_0x65130a(_0x3a6ff6._0x4f1896)]);}['animatorMoveendEvent'](){const _0x2e9c98=_0x92f195;this[_0x2e9c98(0x11a)]()&&this['animator'];}[_0x92f195(0xdb)](){const _0x51f679=_0x92f195;return this[_0x51f679(0xc9)]['canvas']['getContext'](this[_0x51f679(0xed)]);}['init'](_0x4c69ed){const _0x1419d7={_0x43b5d6:0xd9,_0x549567:0xc9,_0x52fd8e:0xc9},_0x5e10ec=_0x92f195;this[_0x5e10ec(_0x1419d7._0x43b5d6)]=_0x4c69ed,this['initDataRange'](_0x4c69ed),this['context']=this['options'][_0x5e10ec(0xed)]||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this[_0x5e10ec(_0x1419d7._0x549567)]['setZIndex']&&this[_0x5e10ec(_0x1419d7._0x52fd8e)]['setZIndex'](this['options']['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x102b65){const _0x526971={_0x4e0324:0x116,_0xaee06b:0xd9,_0x34ac58:0xe6,_0x594a9a:0x10e},_0x4b56a8={_0x526bf1:0xf6,_0x4cff01:0x111},_0x1fac96=_0x92f195,_0x48199a=this[_0x1fac96(_0x526971._0x4e0324)];if(this['canvasLayer']&&!this['stopAniamation']){const _0x2e662e=this[_0x1fac96(_0x526971._0xaee06b)][_0x1fac96(0xf2)],_0x6da71f=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x102b65)return void this['clear'](_0x6da71f);this['context']==='2d'&&(_0x6da71f[_0x1fac96(0x11c)](),_0x6da71f[_0x1fac96(0xc5)]='destination-out',_0x6da71f['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x6da71f['fillRect'](0x0,0x0,_0x6da71f[_0x1fac96(0x121)][_0x1fac96(0xc8)],_0x6da71f[_0x1fac96(0x121)]['height']),_0x6da71f['restore']());}else this[_0x1fac96(0xee)](_0x6da71f);if(this['context']==='2d')for(const _0x319379 in this['options']){_0x6da71f[_0x319379]=this[_0x1fac96(_0x526971._0xaee06b)][_0x319379];}else _0x6da71f['clear'](_0x6da71f['COLOR_BUFFER_BIT']);const _0x71f26d={'transferCoordinate':function(_0x537e91){const _0x41413a=_0x1fac96,_0x593ef4=null;let _0x59273f=_0x48199a['mapvFixedHeight'];_0x48199a['mapvAutoHeight']&&(_0x59273f=_0x48199a[_0x41413a(_0x4b56a8._0x526bf1)]['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x537e91[0x0],_0x537e91[0x1])));const _0x2ea932=Cesium$1['Cartesian3']['fromDegrees'](_0x537e91[0x0],_0x537e91[0x1],_0x59273f);if(!_0x2ea932)return _0x593ef4;const _0x3e9de8=_0x48199a['cartesianToCanvasCoordinates'](_0x2ea932);if(!_0x3e9de8)return _0x593ef4;if(_0x48199a['mapvDepthTest']&&_0x48199a['mode']===Cesium$1['SceneMode'][_0x41413a(0x115)]){const _0x213a94=new Cesium$1['EllipsoidalOccluder'](_0x48199a['globe']['ellipsoid'],_0x48199a[_0x41413a(_0x4b56a8._0x4cff01)]['positionWC']),_0x592480=_0x213a94['isPointVisible'](_0x2ea932);if(!_0x592480)return _0x593ef4;}return[_0x3e9de8['x'],_0x3e9de8['y']];}};void 0x0!==_0x102b65&&(_0x71f26d['filter']=function(_0x51366e){const _0x449fd7=_0x2e662e['trails']||0xa;return!!(_0x102b65&&_0x51366e['time']>_0x102b65-_0x449fd7&&_0x51366e['time']<_0x102b65);});const _0x1b8b0a=this['dataSet'][_0x1fac96(0xe2)](_0x71f26d);this['processData'](_0x1b8b0a),this[_0x1fac96(0xd9)][_0x1fac96(_0x526971._0x34ac58)]==='m'&&this['options'][_0x1fac96(0x100)],this['options']['_size']=this['options']['size'];const _0x30e349=_0x48199a[_0x1fac96(_0x526971._0x594a9a)](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x30e349)return;this['drawContext'](_0x6da71f,new mapv__namespace['DataSet'](_0x1b8b0a),this['options'],_0x30e349),this[_0x1fac96(_0x526971._0xaee06b)]['updateCallback']&&this[_0x1fac96(0xd9)]['updateCallback'](_0x102b65);}}['updateData'](_0x59a80c,_0x42cfc3){const _0x26d977={_0x57e4a0:0xea},_0xb2b7fc=_0x92f195;let _0x3bed4b=_0x59a80c;_0x3bed4b&&_0x3bed4b['get']&&(_0x3bed4b=_0x3bed4b[_0xb2b7fc(0xe2)]()),void 0x0!==_0x3bed4b&&this['dataSet'][_0xb2b7fc(_0x26d977._0x57e4a0)](_0x3bed4b),super['update']({'options':_0x42cfc3});}['addData'](_0x3f934a,_0xff1e45){const _0x48bbbb={_0x5baa08:0xe2},_0x540cb2=_0x92f195;let _0x24f5a7=_0x3f934a;_0x3f934a&&_0x3f934a[_0x540cb2(_0x48bbbb._0x5baa08)]&&(_0x24f5a7=_0x3f934a['get']()),this['dataSet']['add'](_0x24f5a7),this['update']({'options':_0xff1e45});}[_0x92f195(0xd8)](){return this['dataSet'];}['removeData'](_0x5e8bf9){const _0x33b623={_0x3ce4c8:0xe2},_0x2ebeed=_0x92f195;if(this['dataSet']){const _0x43db22=this[_0x2ebeed(0x119)][_0x2ebeed(_0x33b623._0x3ce4c8)]({'filter':function(_0x3569f7){return _0x5e8bf9==null||typeof _0x5e8bf9!=='function'||!_0x5e8bf9(_0x3569f7);}});this['dataSet']['set'](_0x43db22),this['update']({'options':null});}}[_0x92f195(0x10b)](){const _0x316a28={_0x27ebae:0x119},_0x186fbc=_0x92f195;this[_0x186fbc(0x119)]&&this[_0x186fbc(_0x316a28._0x27ebae)]['clear'](),this[_0x186fbc(0xda)]({'options':null});}['draw'](){const _0x35aa4d={_0x3152e4:0xc9},_0x246a29=_0x92f195;this[_0x246a29(_0x35aa4d._0x3152e4)]['draw']();}['clear'](_0x254923){const _0x5918ea={_0x2ca649:0xdd},_0x5a8e6a=_0x92f195;_0x254923&&_0x254923['clearRect']&&_0x254923['clearRect'](0x0,0x0,_0x254923['canvas']['width'],_0x254923['canvas'][_0x5a8e6a(_0x5918ea._0x2ca649)]);}['destroy'](){const _0x265020={_0x1e49eb:0xc9},_0x19e32d=_0x92f195;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this['animator']['stop'](),this['animator']=null,this[_0x19e32d(_0x265020._0x1e49eb)]=null;}}function _0x4425(){const _0x17f1dc=['initDevicePixelRatio','camera','cameraMoveEnd','_onMapClick','Rectangle','SCENE3D','scene','454237skmpuN','start','dataSet','isEnabledTime','_onMapMouseMove','save','off','55lXRXAa','45qCwTuK','data','canvas','defineProperty','baiduMapLayer','globalCompositeOperation','length','map','width','canvasLayer','Cesium','pointerEvents','position','_onMoveEndEvent','argCheck','4571168OSLpqY','windowPosition','464830qZpRyL','DomUtil','stopAniamation','removeData','DataSet','597230izABGJ','Util','getData','options','update','getContext','_data','height','layer','mapv','devicePixelRatio','__esModule','get','methods','none','absolute','unit','create','forEach','default','set','_mapVRenderer','17413638NuBUTt','context','clear','mapvFixedHeight','render','block','animation','LayerUtil','_setOptionsHook','animatorMovestartEvent','globe','EventType','click','MapVLayer','34382eYAWhf','_onMoveStartEvent','transferCoordinate','updateData','postRender','mapvAutoHeight','size','mouseDown','_reset','0px','2178940hbgmvs','step','3vPHvur','_map','style','isFormat','mouseMove','clearData','push','_pointerEvents','cartesianToCanvasCoordinates','66buRrFA'];_0x4425=function(){return _0x17f1dc;};return _0x4425();}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype'][_0x92f195(0xfc)]=function(_0x4355f4,_0x44f1ed,_0x32db67,_0x5d4ce8){const _0x2c4974={_0x5bb4d8:0x10c},_0x27a605={_0x1810c9:0xc6},_0x1fc96a=_0x92f195;_0x5d4ce8=_0x5d4ce8||'_coordinates',_0x32db67=_0x32db67||'coordinates';for(let _0x177972=0x0;_0x177972<_0x4355f4[_0x1fc96a(0xc6)];_0x177972++){const _0x3d0326=_0x4355f4[_0x177972]['geometry'],_0x207e07=_0x3d0326[_0x32db67];switch(_0x3d0326['type']){case'Point':{const _0x320dff=_0x44f1ed(_0x207e07);_0x320dff?_0x3d0326[_0x5d4ce8]=_0x320dff:_0x3d0326[_0x5d4ce8]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x3474a1=[];for(let _0x1bb004=0x0;_0x1bb004<_0x207e07['length'];_0x1bb004++){const _0x440b22=_0x44f1ed(_0x207e07[_0x1bb004]);_0x440b22&&_0x3474a1[_0x1fc96a(_0x2c4974._0x5bb4d8)](_0x440b22);}_0x3d0326[_0x5d4ce8]=_0x3474a1;}break;case'MultiLineString':case'Polygon':{const _0x4b767d=_0x2ecf53(_0x207e07);_0x3d0326[_0x5d4ce8]=_0x4b767d;}break;case'MultiPolygon':{const _0x1e9618=[];for(let _0x235452=0x0;_0x235452<_0x207e07['length'];_0x235452++){const _0xd6913c=_0x2ecf53(_0x207e07[_0x235452]);_0xd6913c['length']>0x0&&_0x1e9618['push'](_0xd6913c);}_0x3d0326[_0x5d4ce8]=_0x1e9618;}break;}}function _0x2ecf53(_0x2fab5d){const _0x4cf161=_0x1fc96a,_0x1ea1a5=[];for(let _0x236043=0x0;_0x236043<_0x2fab5d['length'];_0x236043++){const _0x2b7494=_0x2fab5d[_0x236043],_0x158587=[];for(let _0x544ac5=0x0;_0x544ac5<_0x2b7494[_0x4cf161(0xc6)];_0x544ac5++){const _0x36b483=_0x44f1ed(_0x2b7494[_0x544ac5]);_0x36b483&&_0x158587['push'](_0x36b483);}_0x158587[_0x4cf161(_0x27a605._0x1810c9)]>0x0&&_0x1ea1a5['push'](_0x158587);}return _0x1ea1a5;}return _0x4355f4;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x92f195(0xca)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x3a3bf8,_0xe79e47){const _0x4a9663={_0x5edd0a:0xd9},_0x5415e5=_0x92f195;super(_0x3a3bf8),this[_0x5415e5(0x10d)]=this[_0x5415e5(_0x4a9663._0x5edd0a)]['pointerEvents'],this[_0x5415e5(0x119)]=_0xe79e47||new mapv__namespace[(_0x5415e5(0xd5))](_0x3a3bf8[_0x5415e5(0x120)]),this[_0x5415e5(0x121)]=null;}get[_0x92f195(0xcb)](){return this['_pointerEvents'];}set['pointerEvents'](_0x54c133){const _0x554b45={_0x70c073:0xcb,_0x1f81f4:0x108,_0x2cb2b2:0xcb},_0x49913e=_0x92f195;this['_pointerEvents']=_0x54c133,this[_0x49913e(0x121)]&&(_0x54c133?this['canvas'][_0x49913e(0x108)][_0x49913e(_0x554b45._0x70c073)]='all':this['canvas'][_0x49913e(_0x554b45._0x1f81f4)][_0x49913e(_0x554b45._0x2cb2b2)]='none');}['_showHook'](_0x3a7d7f){const _0x52bb0d=_0x92f195;_0x3a7d7f?this['canvas'][_0x52bb0d(0x108)]['display']=_0x52bb0d(0xf1):this['canvas']['style']['display']=_0x52bb0d(0xe4);}['_mountedHook'](){const _0x6b12ed={_0x5394e7:0xff,_0x4d02f9:0xef,_0x5af1b5:0xd9},_0x21e042=_0x92f195;this['_map']['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene'][_0x21e042(_0x6b12ed._0x5394e7)]=this[_0x21e042(0xd9)]['clampToGround']??![],this['_map']['scene'][_0x21e042(_0x6b12ed._0x4d02f9)]=this[_0x21e042(_0x6b12ed._0x5af1b5)]['fixedHeight']??0x0;}['_addedHook'](){const _0x118db9={_0x159838:0xdc,_0xc27bf8:0x119,_0x547c49:0x102},_0x3cf8ad=_0x92f195;this['dataSet']&&(!this[_0x3cf8ad(0x119)][_0x3cf8ad(_0x118db9._0x159838)]||this[_0x3cf8ad(0x119)][_0x3cf8ad(0xdc)]['length']===0x0)&&(this['dataSet']['_data']=[]['concat'](this[_0x3cf8ad(_0x118db9._0xc27bf8)]['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this[_0x3cf8ad(0x110)](),this[_0x3cf8ad(0x121)]=this['_createCanvas'](),this['render']=this['render']['bind'](this),this['bindEvent'](),this[_0x3cf8ad(_0x118db9._0x547c49)]();}['_removedHook'](){const _0x3fb1e9={_0x5c1ec2:0xeb,_0x4b8d03:0x121},_0x3741a0=_0x92f195;this['unbindEvent'](),this[_0x3741a0(_0x3fb1e9._0x5c1ec2)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this[_0x3741a0(_0x3fb1e9._0x4b8d03)]['parentElement']['removeChild'](this[_0x3741a0(_0x3fb1e9._0x4b8d03)]);}['initDevicePixelRatio'](){const _0x37d814={_0x2d1085:0xe0},_0x315ac4=_0x92f195;this[_0x315ac4(_0x37d814._0x2d1085)]=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0xa4cf50={_0x4b2d9b:0xe3,_0x458d4a:0xf8,_0x772869:0xf7},_0x3f8afd=_0x92f195;var _0x5c2918,_0x12e2ab;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x3f8afd(0x107)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x5c2918=this['options'])!==null&&_0x5c2918!==void 0x0&&(_0x5c2918=_0x5c2918[_0x3f8afd(_0xa4cf50._0x4b2d9b)])!==null&&_0x5c2918!==void 0x0&&_0x5c2918['click']&&this['_map']['on'](mars3d__namespace['EventType'][_0x3f8afd(_0xa4cf50._0x458d4a)],this['_onMapClick'],this),(_0x12e2ab=this[_0x3f8afd(0xd9)])!==null&&_0x12e2ab!==void 0x0&&(_0x12e2ab=_0x12e2ab['methods'])!==null&&_0x12e2ab!==void 0x0&&_0x12e2ab['mousemove']&&this['_map']['on'](mars3d__namespace[_0x3f8afd(_0xa4cf50._0x772869)]['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x2504c5={_0x3391d4:0xf7,_0x2216cb:0xfb,_0xc2a8b1:0xe3},_0x10b396=_0x92f195;var _0x4a794c,_0x237764;this['_map']['off'](mars3d__namespace['EventType'][_0x10b396(0x101)],this['_onMoveStartEvent'],this),this[_0x10b396(0x107)]['off'](mars3d__namespace[_0x10b396(_0x2504c5._0x3391d4)]['cameraMoveStart'],this[_0x10b396(_0x2504c5._0x2216cb)],this),this[_0x10b396(0x107)]['off'](mars3d__namespace['EventType'][_0x10b396(0x112)],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x4a794c=this[_0x10b396(0xd9)])!==null&&_0x4a794c!==void 0x0&&(_0x4a794c=_0x4a794c[_0x10b396(_0x2504c5._0xc2a8b1)])!==null&&_0x4a794c!==void 0x0&&_0x4a794c['click']&&this['_map']['off'](mars3d__namespace[_0x10b396(0xf7)]['click'],this['_onMapClick'],this),(_0x237764=this['options'])!==null&&_0x237764!==void 0x0&&(_0x237764=_0x237764['methods'])!==null&&_0x237764!==void 0x0&&_0x237764['mousemove']&&this['_map'][_0x10b396(0x11d)](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}[_0x92f195(0xfb)](){const _0x5aabe6={_0xae8888:0x107,_0x31e4ea:0xf7},_0x588caa=_0x92f195;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x588caa(0xf5)](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0x588caa(_0x5aabe6._0xae8888)]['on'](mars3d__namespace[_0x588caa(_0x5aabe6._0x31e4ea)][_0x588caa(0xfe)],this['_reset'],this));}[_0x92f195(0xcd)](){const _0x5a1d2c={_0x12d683:0xeb},_0x39b6d5=_0x92f195;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0x39b6d5(_0x5a1d2c._0x12d683)]['animatorMoveendEvent'](),this['_reset']());}[_0x92f195(0xf4)](_0x379bbb,_0xe0566){this['_removedHook'](),this['_addedHook']();}['addData'](_0x5bc26b){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x5bc26b,this['options']);}[_0x92f195(0xfd)](_0x519e02){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x519e02,this['options']);}['getData'](){return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}[_0x92f195(0xd4)](_0x15b82b){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x15b82b);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x3d331d={_0x39b004:0xd2,_0x3720a0:0xe5,_0x24dea0:0x103,_0x36974c:0x121,_0x598be7:0xdd,_0x1417e4:0xdd,_0x7b67fb:0x10d,_0x200749:0x108,_0x530f38:0xed},_0x1ed6d2=_0x92f195,_0x559ddd=mars3d__namespace[_0x1ed6d2(_0x3d331d._0x39b004)]['create']('canvas','mars3d-mapv',this['_map']['container']);_0x559ddd['id']=this['id'],_0x559ddd[_0x1ed6d2(0x108)]['position']=_0x1ed6d2(_0x3d331d._0x3720a0),_0x559ddd['style']['top']=_0x1ed6d2(0x103),_0x559ddd['style']['left']=_0x1ed6d2(_0x3d331d._0x24dea0),_0x559ddd['width']=parseInt(this[_0x1ed6d2(0x107)]['canvas']['width']),_0x559ddd['height']=parseInt(this['_map']['canvas']['height']),_0x559ddd['style']['width']=this['_map'][_0x1ed6d2(_0x3d331d._0x36974c)]['style']['width'],_0x559ddd['style'][_0x1ed6d2(_0x3d331d._0x598be7)]=this['_map']['canvas']['style'][_0x1ed6d2(_0x3d331d._0x1417e4)],_0x559ddd['style'][_0x1ed6d2(0xcb)]=this[_0x1ed6d2(_0x3d331d._0x7b67fb)]?'auto':'none',_0x559ddd[_0x1ed6d2(_0x3d331d._0x200749)]['zIndex']=this['options']['zIndex']??0x9;if(this['options'][_0x1ed6d2(_0x3d331d._0x530f38)]==='2d'){const _0x3f4b1b=this['devicePixelRatio'];_0x559ddd[_0x1ed6d2(0xdb)](this['options']['context'])['scale'](_0x3f4b1b,_0x3f4b1b);}return _0x559ddd;}['_reset'](){this['resize'](),this['render']();}['draw'](){this['_reset']();}['remove'](){this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}[_0x92f195(0xf0)](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x54f424={_0x3adfca:0xcc,_0x1fd153:0xe5,_0x172b31:0x108,_0x143564:0xc8},_0x3336c8=_0x92f195;if(this['canvas']){const _0x513a9d=this['canvas'];_0x513a9d['style'][_0x3336c8(_0x54f424._0x3adfca)]=_0x3336c8(_0x54f424._0x1fd153),_0x513a9d[_0x3336c8(0x108)]['top']='0px',_0x513a9d[_0x3336c8(_0x54f424._0x172b31)]['left']='0px',_0x513a9d[_0x3336c8(_0x54f424._0x143564)]=parseInt(this[_0x3336c8(0x107)]['canvas']['width']),_0x513a9d['height']=parseInt(this[_0x3336c8(0x107)]['canvas'][_0x3336c8(0xdd)]),_0x513a9d['style']['width']=this['_map'][_0x3336c8(0x121)]['style']['width'],_0x513a9d['style']['height']=this['_map']['canvas']['style']['height'];}}['getRectangle'](_0x1ce433){const _0x4bbb8b={_0x2237f5:0xdc,_0x4ac125:0x114},_0xb377d2=_0x92f195;if(!this[_0xb377d2(0x119)]||!this['dataSet'][_0xb377d2(_0x4bbb8b._0x2237f5)])return;const _0x47c8ac=mars3d__namespace[_0xb377d2(0xd7)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet'][_0xb377d2(_0x4bbb8b._0x2237f5)]});if(!_0x47c8ac)return;return _0x1ce433!==null&&_0x1ce433!==void 0x0&&_0x1ce433[_0xb377d2(0x109)]?_0x47c8ac:Cesium[_0xb377d2(_0x4bbb8b._0x4ac125)]['fromDegrees'](_0x47c8ac['xmin'],_0x47c8ac['ymin'],_0x47c8ac['xmax'],_0x47c8ac['ymax']);}['_onMapClick'](_0x53397b){const _0x45f076={_0x5869f5:0xd0},_0x3e87cb=_0x92f195;this['_cache_event']=_0x53397b,this[_0x3e87cb(0xeb)]&&this['_mapVRenderer']['clickEvent'](_0x53397b[_0x3e87cb(_0x45f076._0x5869f5)],_0x53397b);}['_onMapMouseMove'](_0x463000){const _0x5546ea={_0x2f0281:0xd0},_0x120e75=_0x92f195;this['_cache_event']=_0x463000,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x463000[_0x120e75(_0x5546ea._0x2f0281)],_0x463000);}['on'](_0x11e178,_0x4a53bf,_0x552f33){const _0x190982={_0x136ac4:0x113,_0x2bc485:0xf7},_0xfa469d=_0x92f195;this['options']['methods']=this['options']['methods']||{};if(_0x11e178===mars3d__namespace['EventType'][_0xfa469d(0xf8)])this['options']['methods']['click']=_0xdc1222=>{_0xdc1222&&_0x4a53bf['bind'](_0x552f33)({...this['_cache_event'],'layer':this,'data':_0xdc1222});},this['_map']['on'](mars3d__namespace[_0xfa469d(0xf7)]['click'],this[_0xfa469d(_0x190982._0x136ac4)],this);else _0x11e178===mars3d__namespace['EventType'][_0xfa469d(0x10a)]&&(this['options'][_0xfa469d(0xe3)]['mousemove']=_0x516374=>{_0x516374&&_0x4a53bf['bind'](_0x552f33)({...this['_cache_event'],'layer':this,'data':_0x516374});},this['_map']['on'](mars3d__namespace[_0xfa469d(_0x190982._0x2bc485)]['mouseMove'],this['_onMapMouseMove'],this));return this;}[_0x92f195(0x11d)](_0x7d57ff,_0x1486a4){const _0x105c1d={_0xf3817a:0xf8,_0x25d4e5:0x11d},_0x28630b=_0x92f195;if(_0x7d57ff===_0x28630b(_0x105c1d._0xf3817a)){var _0x56b0ef;this['_map'][_0x28630b(_0x105c1d._0x25d4e5)](_0x7d57ff,this['_onMapClick'],this),(_0x56b0ef=this['options']['methods'])!==null&&_0x56b0ef!==void 0x0&&_0x56b0ef['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x7d57ff==='mouseMove'){var _0x1118ad;this[_0x28630b(0x107)]['off'](_0x7d57ff,this[_0x28630b(0x11b)],this),(_0x1118ad=this['options']['methods'])!==null&&_0x1118ad!==void 0x0&&_0x1118ad['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x92f195(0xf3)]['register'](_0x92f195(0xdf),MapVLayer),mars3d__namespace[_0x92f195(0xde)][_0x92f195(0xf9)]=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)[_0x92f195(0xe8)](function(_0x5b80ba){if(_0x5b80ba!=='default'&&!exports['hasOwnProperty'](_0x5b80ba))Object['defineProperty'](exports,_0x5b80ba,{'enumerable':!![],'get':function(){return mapv[_0x5b80ba];}});}),Object[_0x92f195(0xc3)](exports,'__esModule',{'value':!![]});
}));
