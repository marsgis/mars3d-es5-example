/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.15
 * 编译日期：2023-12-04 17:36:02
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0xafb71f=_0x29aa;function _0x29aa(_0x390aa5,_0x4a31fe){const _0xfe5dcf=_0xfe5d();return _0x29aa=function(_0x29aa56,_0x4e886b){_0x29aa56=_0x29aa56-0xeb;let _0x3c7310=_0xfe5dcf[_0x29aa56];return _0x3c7310;},_0x29aa(_0x390aa5,_0x4a31fe);}(function(_0xa548a9,_0x11ecb0){const _0x28b606={_0x675d25:0x11f,_0x71efae:0x13e,_0x54422f:0x136,_0xec2676:0x149,_0x3969b8:0xf6},_0x2a9700=_0x29aa,_0xc3f9f9=_0xa548a9();while(!![]){try{const _0x8806bb=-parseInt(_0x2a9700(0x11d))/0x1*(parseInt(_0x2a9700(_0x28b606._0x675d25))/0x2)+-parseInt(_0x2a9700(_0x28b606._0x71efae))/0x3+parseInt(_0x2a9700(0x127))/0x4*(parseInt(_0x2a9700(0x12f))/0x5)+-parseInt(_0x2a9700(_0x28b606._0x54422f))/0x6+parseInt(_0x2a9700(0x11e))/0x7*(parseInt(_0x2a9700(0x14d))/0x8)+-parseInt(_0x2a9700(0xf3))/0x9*(parseInt(_0x2a9700(_0x28b606._0xec2676))/0xa)+parseInt(_0x2a9700(_0x28b606._0x3969b8))/0xb;if(_0x8806bb===_0x11ecb0)break;else _0xc3f9f9['push'](_0xc3f9f9['shift']());}catch(_0x774951){_0xc3f9f9['push'](_0xc3f9f9['shift']());}}}(_0xfe5d,0x56e54));function _interopNamespace(_0x23356c){const _0x389584=_0x29aa;if(_0x23356c&&_0x23356c['__esModule'])return _0x23356c;var _0x3eece8=Object['create'](null);return _0x23356c&&Object[_0x389584(0x119)](_0x23356c)['forEach'](function(_0x186ff2){if(_0x186ff2!=='default'){var _0x2d71b0=Object['getOwnPropertyDescriptor'](_0x23356c,_0x186ff2);Object['defineProperty'](_0x3eece8,_0x186ff2,_0x2d71b0['get']?_0x2d71b0:{'enumerable':!![],'get':function(){return _0x23356c[_0x186ff2];}});}}),_0x3eece8['default']=_0x23356c,_0x3eece8;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x5e73ca,_0x112d4e,_0x320f4e,_0x3a307d){const _0x1484d1={_0x2d383d:0x113,_0x592f64:0xeb},_0x1f25a9=_0x29aa;super(_0x5e73ca,_0x112d4e,_0x320f4e);if(!BaseLayer$1)return;this['map']=_0x5e73ca,this['scene']=_0x5e73ca[_0x1f25a9(_0x1484d1._0x2d383d)],this['dataSet']=_0x112d4e,_0x320f4e=_0x320f4e||{},this['init'](_0x320f4e),this['argCheck'](_0x320f4e),this['initDevicePixelRatio'](),this[_0x1f25a9(_0x1484d1._0x592f64)]=_0x3a307d,this['stopAniamation']=!0x1,this['animation']=_0x320f4e['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0xafb71f(0x10d)](){}['animatorMovestartEvent'](){const _0x2e7a54={_0x49243a:0x120,_0x374f8a:0x11c},_0x5f3606=_0xafb71f,_0x46f933=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this[_0x5f3606(_0x2e7a54._0x49243a)]['step']=_0x46f933[_0x5f3606(_0x2e7a54._0x374f8a)]['start']);}['animatorMoveendEvent'](){const _0x39e6c8={_0x441191:0xec},_0x504f3e=_0xafb71f;this['isEnabledTime']()&&this[_0x504f3e(_0x39e6c8._0x441191)];}['getContext'](){const _0x836ae5={_0x56a40c:0xeb},_0xd92526=_0xafb71f;return this[_0xd92526(_0x836ae5._0x56a40c)][_0xd92526(0x106)]['getContext'](this[_0xd92526(0x135)]);}['init'](_0x51f397){const _0x501eae={_0x20c46c:0x135,_0x4a3bf6:0xeb,_0x3ef686:0x116,_0x359340:0xfd},_0x2b4066=_0xafb71f;this['options']=_0x51f397,this['initDataRange'](_0x51f397),this['context']=this['options'][_0x2b4066(_0x501eae._0x20c46c)]||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this[_0x2b4066(0xeb)]['setZIndex']&&this[_0x2b4066(_0x501eae._0x4a3bf6)]['setZIndex'](this[_0x2b4066(_0x501eae._0x3ef686)]['zIndex']),this[_0x2b4066(_0x501eae._0x359340)]();}['_canvasUpdate'](_0x3b9a31){const _0x188e13={_0x5c625f:0x113,_0x35fab7:0x116,_0x4a1f89:0xf4,_0x117ca8:0x106,_0x5dd629:0x116,_0x4f309b:0x12c,_0x3a8978:0x116,_0x2c354d:0x14f},_0x161612={_0x275de8:0x146,_0x2e8df6:0xed},_0x1e394d=_0xafb71f,_0x53a3e3=this[_0x1e394d(_0x188e13._0x5c625f)];if(this['canvasLayer']&&!this['stopAniamation']){const _0x3691f5=this[_0x1e394d(_0x188e13._0x35fab7)]['animation'],_0x40a219=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x3b9a31)return void this['clear'](_0x40a219);this['context']==='2d'&&(_0x40a219['save'](),_0x40a219['globalCompositeOperation']='destination-out',_0x40a219['fillStyle']=_0x1e394d(_0x188e13._0x4a1f89),_0x40a219['fillRect'](0x0,0x0,_0x40a219['canvas'][_0x1e394d(0x140)],_0x40a219[_0x1e394d(_0x188e13._0x117ca8)]['height']),_0x40a219[_0x1e394d(0x10c)]());}else this['clear'](_0x40a219);if(this['context']==='2d')for(const _0x47b43d in this['options']){_0x40a219[_0x47b43d]=this['options'][_0x47b43d];}else _0x40a219[_0x1e394d(0xee)](_0x40a219['COLOR_BUFFER_BIT']);const _0x2ddb11={'transferCoordinate':function(_0x554961){const _0x540b63=_0x1e394d,_0x191dcc=null;let _0xed1fe6=_0x53a3e3['mapvFixedHeight'];_0x53a3e3['mapvAutoHeight']&&(_0xed1fe6=_0x53a3e3['globe']['getHeight'](Cesium$1['Cartographic'][_0x540b63(0x12d)](_0x554961[0x0],_0x554961[0x1])));const _0x2ef0a3=Cesium$1['Cartesian3'][_0x540b63(0x12d)](_0x554961[0x0],_0x554961[0x1],_0xed1fe6);if(!_0x2ef0a3)return _0x191dcc;const _0xd8471a=_0x53a3e3['cartesianToCanvasCoordinates'](_0x2ef0a3);if(!_0xd8471a)return _0x191dcc;if(_0x53a3e3['mapvDepthTest']&&_0x53a3e3['mode']===Cesium$1['SceneMode'][_0x540b63(_0x161612._0x275de8)]){const _0x281ae6=new Cesium$1['EllipsoidalOccluder'](_0x53a3e3['globe'][_0x540b63(_0x161612._0x2e8df6)],_0x53a3e3['camera']['positionWC']),_0x40485f=_0x281ae6[_0x540b63(0x131)](_0x2ef0a3);if(!_0x40485f)return _0x191dcc;}return[_0xd8471a['x'],_0xd8471a['y']];}};void 0x0!==_0x3b9a31&&(_0x2ddb11['filter']=function(_0x10e5a2){const _0x328ac9=_0x1e394d,_0x8ea743=_0x3691f5['trails']||0xa;return!!(_0x3b9a31&&_0x10e5a2['time']>_0x3b9a31-_0x8ea743&&_0x10e5a2[_0x328ac9(0x11a)]<_0x3b9a31);});const _0x19b337=this['dataSet'][_0x1e394d(0x100)](_0x2ddb11);this['processData'](_0x19b337),this['options']['unit']==='m'&&this[_0x1e394d(_0x188e13._0x5dd629)][_0x1e394d(_0x188e13._0x4f309b)],this[_0x1e394d(_0x188e13._0x3a8978)][_0x1e394d(0x111)]=this[_0x1e394d(0x116)]['size'];const _0x12ed03=_0x53a3e3[_0x1e394d(0xf2)](Cesium$1[_0x1e394d(0x105)]['fromDegrees'](0x0,0x0));if(!_0x12ed03)return;this[_0x1e394d(_0x188e13._0x2c354d)](_0x40a219,new mapv__namespace[(_0x1e394d(0x109))](_0x19b337),this['options'],_0x12ed03),this['options']['updateCallback']&&this['options'][_0x1e394d(0x147)](_0x3b9a31);}}['updateData'](_0xf21d47,_0x2eb7ee){const _0x28d89e={_0x391645:0x12b},_0x56508a=_0xafb71f;let _0x5c2fb0=_0xf21d47;_0x5c2fb0&&_0x5c2fb0['get']&&(_0x5c2fb0=_0x5c2fb0[_0x56508a(0x100)]()),void 0x0!==_0x5c2fb0&&this['dataSet'][_0x56508a(_0x28d89e._0x391645)](_0x5c2fb0),super['update']({'options':_0x2eb7ee});}['addData'](_0x177e07,_0x4ce989){const _0x56017b=_0xafb71f;let _0x35b73a=_0x177e07;_0x177e07&&_0x177e07['get']&&(_0x35b73a=_0x177e07[_0x56017b(0x100)]()),this['dataSet']['add'](_0x35b73a),this['update']({'options':_0x4ce989});}['getData'](){const _0x15c1c7={_0x57b944:0x11b},_0x41a50d=_0xafb71f;return this[_0x41a50d(_0x15c1c7._0x57b944)];}['removeData'](_0x272919){const _0x2bddea={_0x2f9551:0x12b},_0x22f52f={_0x2d5741:0x108},_0x39bad6=_0xafb71f;if(this['dataSet']){const _0x4957f4=this['dataSet']['get']({'filter':function(_0x55e4b1){const _0x4f09d2=_0x29aa;return _0x272919==null||typeof _0x272919!==_0x4f09d2(_0x22f52f._0x2d5741)||!_0x272919(_0x55e4b1);}});this['dataSet'][_0x39bad6(_0x2bddea._0x2f9551)](_0x4957f4),this['update']({'options':null});}}['clearData'](){const _0xe7ac88={_0x6368ab:0x10b},_0x1f4a0a=_0xafb71f;this[_0x1f4a0a(0x11b)]&&this['dataSet']['clear'](),this[_0x1f4a0a(_0xe7ac88._0x6368ab)]({'options':null});}[_0xafb71f(0x145)](){const _0xf1d6ee={_0x158bbf:0xeb},_0x478a5c=_0xafb71f;this[_0x478a5c(_0xf1d6ee._0x158bbf)]['draw']();}[_0xafb71f(0xee)](_0x5c5b2c){const _0x38f0c5={_0x14d797:0x133,_0x30b793:0x10f},_0x35546f=_0xafb71f;_0x5c5b2c&&_0x5c5b2c['clearRect']&&_0x5c5b2c[_0x35546f(_0x38f0c5._0x14d797)](0x0,0x0,_0x5c5b2c['canvas']['width'],_0x5c5b2c[_0x35546f(0x106)][_0x35546f(_0x38f0c5._0x30b793)]);}[_0xafb71f(0x103)](){const _0x1c5e5a={_0x20a449:0xec,_0x1d5ea4:0x14a,_0xf3e1a8:0xeb},_0x3f4959=_0xafb71f;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this[_0x3f4959(_0x1c5e5a._0x20a449)][_0x3f4959(_0x1c5e5a._0x1d5ea4)](),this['animator']=null,this[_0x3f4959(_0x1c5e5a._0xf3e1a8)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0xafb71f(0x109)])mapv__namespace[_0xafb71f(0x109)]['prototype']['transferCoordinate']=function(_0x923501,_0x4098f8,_0x331b20,_0x2c71ce){const _0x301b25={_0x23bf7f:0xfb},_0x3e7b88={_0x3ea099:0x14b,_0x2f1fa8:0x14b},_0x4605b7=_0xafb71f;_0x2c71ce=_0x2c71ce||_0x4605b7(_0x301b25._0x23bf7f),_0x331b20=_0x331b20||'coordinates';for(let _0x484d3b=0x0;_0x484d3b<_0x923501['length'];_0x484d3b++){const _0xa1f7a=_0x923501[_0x484d3b]['geometry'],_0x2a76d3=_0xa1f7a[_0x331b20];switch(_0xa1f7a['type']){case'Point':{const _0x48e2b8=_0x4098f8(_0x2a76d3);_0x48e2b8?_0xa1f7a[_0x2c71ce]=_0x48e2b8:_0xa1f7a[_0x2c71ce]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x4c6334=[];for(let _0x188dff=0x0;_0x188dff<_0x2a76d3['length'];_0x188dff++){const _0x1b0770=_0x4098f8(_0x2a76d3[_0x188dff]);_0x1b0770&&_0x4c6334['push'](_0x1b0770);}_0xa1f7a[_0x2c71ce]=_0x4c6334;}break;case _0x4605b7(0xf1):case'Polygon':{const _0x5897e5=_0x37387a(_0x2a76d3);_0xa1f7a[_0x2c71ce]=_0x5897e5;}break;case'MultiPolygon':{const _0x2e383b=[];for(let _0x3d0da0=0x0;_0x3d0da0<_0x2a76d3[_0x4605b7(0x14b)];_0x3d0da0++){const _0x5a81ae=_0x37387a(_0x2a76d3[_0x3d0da0]);_0x5a81ae['length']>0x0&&_0x2e383b['push'](_0x5a81ae);}_0xa1f7a[_0x2c71ce]=_0x2e383b;}break;}}function _0x37387a(_0x42acad){const _0x26e843=_0x4605b7,_0x3d3042=[];for(let _0x5d1ebd=0x0;_0x5d1ebd<_0x42acad[_0x26e843(_0x3e7b88._0x3ea099)];_0x5d1ebd++){const _0x530568=_0x42acad[_0x5d1ebd],_0x59a206=[];for(let _0x226475=0x0;_0x226475<_0x530568['length'];_0x226475++){const _0x496d15=_0x4098f8(_0x530568[_0x226475]);_0x496d15&&_0x59a206['push'](_0x496d15);}_0x59a206[_0x26e843(_0x3e7b88._0x2f1fa8)]>0x0&&_0x3d3042['push'](_0x59a206);}return _0x3d3042;}return _0x923501;};else throw new Error('请引入\x20mapv\x20库\x20');function _0xfe5d(){const _0xc9c46b=['none','_size','click','scene','clickEvent','removeData','options','bindEvent','mapvDepthTest','keys','time','dataSet','stepsRange','1HpFhib','7tZHOQS','660298QMnkDE','steps','bind','mousemoveEvent','resize','_data','left','_reset','1584WKfUxy','off','ymin','ymax','set','size','fromDegrees','MapVLayer','6280ljCuyC','_showHook','isPointVisible','_removedHook','clearRect','getContext','context','1471542Cxronp','_onMapClick','LayerUtil','_mapVRenderer','_onMapMouseMove','_addedHook','clampToGround','mouseMove','1520199FYvcvz','render','width','pointerEvents','xmin','EventType','postRender','draw','SCENE3D','updateCallback','_map','6443230ZSdfwB','stop','length','_pointerEvents','1359080PJXLCb','methods','drawContext','canvasLayer','animator','ellipsoid','clear','style','defineProperty','MultiLineString','cartesianToCanvasCoordinates','9oQvNQM','rgba(0,\x200,\x200,\x20.1)','devicePixelRatio','15566375WYmjXi','mousemove','Rectangle','_onMoveStartEvent','depthTest','_coordinates','FeatureCollection','initAnimator','_setOptionsHook','animatorMovestartEvent','get','removeAllData','absolute','destroy','display','Cartesian3','canvas','isFormat','function','DataSet','0px','update','restore','addAnimatorEvent','position','height'];_0xfe5d=function(){return _0xc9c46b;};return _0xfe5d();}const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x2cfedf,_0x27bb3d){const _0x4d4fde=_0xafb71f;super(_0x2cfedf),this['_pointerEvents']=this[_0x4d4fde(0x116)]['pointerEvents'],this['dataSet']=_0x27bb3d||new mapv__namespace[(_0x4d4fde(0x109))](_0x2cfedf['data']),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x10e709){const _0x28d960={_0x382433:0x14c,_0x3b70fc:0x106,_0x2aa396:0x110},_0xae8f55=_0xafb71f;this[_0xae8f55(_0x28d960._0x382433)]=_0x10e709,this[_0xae8f55(_0x28d960._0x3b70fc)]&&(_0x10e709?this['canvas']['style']['pointerEvents']='all':this[_0xae8f55(_0x28d960._0x3b70fc)]['style'][_0xae8f55(0x141)]=_0xae8f55(_0x28d960._0x2aa396));}[_0xafb71f(0x130)](_0x3ee4b5){const _0x584d6c={_0x13304b:0x104},_0x459ea5=_0xafb71f;_0x3ee4b5?this['canvas'][_0x459ea5(0xef)][_0x459ea5(_0x584d6c._0x13304b)]='block':this[_0x459ea5(0x106)]['style']['display']=_0x459ea5(0x110);}['_mountedHook'](){const _0x512418={_0x3b8065:0xfa,_0x241f88:0x13c,_0xa17f1d:0x148,_0x2a39bf:0x113},_0x1e6a4e=_0xafb71f;this['_map'][_0x1e6a4e(0x113)][_0x1e6a4e(0x118)]=this['options'][_0x1e6a4e(_0x512418._0x3b8065)]??!![],this[_0x1e6a4e(0x148)]['scene']['mapvAutoHeight']=this['options'][_0x1e6a4e(_0x512418._0x241f88)]??![],this[_0x1e6a4e(_0x512418._0xa17f1d)][_0x1e6a4e(_0x512418._0x2a39bf)]['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}[_0xafb71f(0x13b)](){const _0x256692={_0x44e1e0:0x124,_0x357478:0x11b,_0x2b4455:0x139,_0x282b9e:0x13f,_0x3a8833:0x121},_0x516a4b=_0xafb71f;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet'][_0x516a4b(_0x256692._0x44e1e0)][_0x516a4b(0x14b)]===0x0)&&(this[_0x516a4b(_0x256692._0x357478)]['_data']=[]['concat'](this['dataSet']['_dataCache'])),this[_0x516a4b(_0x256692._0x2b4455)]=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this[_0x516a4b(_0x256692._0x282b9e)]=this['render'][_0x516a4b(_0x256692._0x3a8833)](this),this['bindEvent'](),this[_0x516a4b(0x126)]();}['_removedHook'](){const _0x5f5131={_0x18c30f:0x139},_0x4ff655=_0xafb71f;this['unbindEvent'](),this[_0x4ff655(_0x5f5131._0x18c30f)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0x39dc39={_0xbc3161:0xf5},_0x12f076=_0xafb71f;this['devicePixelRatio']=window[_0x12f076(_0x39dc39._0xbc3161)]||0x1;}[_0xafb71f(0x117)](){const _0x463734={_0x186ac7:0xf9,_0x5af565:0x112,_0x475ca8:0xf7},_0x500f92=_0xafb71f;var _0x49db89,_0x1e7f8f;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x500f92(0x143)]['cameraMoveStart'],this[_0x500f92(_0x463734._0x186ac7)],this),this[_0x500f92(0x148)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x49db89=this['options'])!==null&&_0x49db89!==void 0x0&&(_0x49db89=_0x49db89['methods'])!==null&&_0x49db89!==void 0x0&&_0x49db89['click']&&this[_0x500f92(0x148)]['on'](mars3d__namespace['EventType'][_0x500f92(_0x463734._0x5af565)],this['_onMapClick'],this),(_0x1e7f8f=this['options'])!==null&&_0x1e7f8f!==void 0x0&&(_0x1e7f8f=_0x1e7f8f['methods'])!==null&&_0x1e7f8f!==void 0x0&&_0x1e7f8f[_0x500f92(_0x463734._0x475ca8)]&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x26f2e1={_0x4ee6c2:0x128,_0x13a326:0x148,_0x1d0a66:0x128,_0x14a9c0:0x143,_0x558f16:0x137,_0x576042:0x14e,_0x24bda7:0x13d},_0x172db6=_0xafb71f;var _0x23308e,_0x3bbca2;this['_map'][_0x172db6(_0x26f2e1._0x4ee6c2)](mars3d__namespace['EventType']['mouseDown'],this[_0x172db6(0xf9)],this),this[_0x172db6(_0x26f2e1._0x13a326)]['off'](mars3d__namespace[_0x172db6(0x143)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map'][_0x172db6(_0x26f2e1._0x1d0a66)](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace[_0x172db6(0x143)]['postRender'],this['_reset'],this),(_0x23308e=this['options'])!==null&&_0x23308e!==void 0x0&&(_0x23308e=_0x23308e[_0x172db6(0x14e)])!==null&&_0x23308e!==void 0x0&&_0x23308e['click']&&this[_0x172db6(0x148)]['off'](mars3d__namespace[_0x172db6(_0x26f2e1._0x14a9c0)]['click'],this[_0x172db6(_0x26f2e1._0x558f16)],this),(_0x3bbca2=this['options'])!==null&&_0x3bbca2!==void 0x0&&(_0x3bbca2=_0x3bbca2[_0x172db6(_0x26f2e1._0x576042)])!==null&&_0x3bbca2!==void 0x0&&_0x3bbca2['mousemove']&&this['_map']['off'](mars3d__namespace['EventType'][_0x172db6(_0x26f2e1._0x24bda7)],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x471408={_0x1ae462:0x139,_0x1a5b0f:0x143,_0x42867b:0x126},_0x3690dc=_0xafb71f;this[_0x3690dc(_0x471408._0x1ae462)]&&(this[_0x3690dc(_0x471408._0x1ae462)][_0x3690dc(0xff)](),this['_map']['off'](mars3d__namespace[_0x3690dc(0x143)]['postRender'],this[_0x3690dc(0x126)],this),this['_map']['on'](mars3d__namespace[_0x3690dc(_0x471408._0x1a5b0f)]['postRender'],this[_0x3690dc(_0x471408._0x42867b)],this));}['_onMoveEndEvent'](){const _0x182d05=_0xafb71f;this['_mapVRenderer']&&(this['_map'][_0x182d05(0x128)](mars3d__namespace['EventType'][_0x182d05(0x144)],this['_reset'],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}[_0xafb71f(0xfe)](_0x147929,_0x8351f7){const _0x29af31={_0xca3d10:0x132,_0x160ba9:0x13b},_0x2d25fa=_0xafb71f;this[_0x2d25fa(_0x29af31._0xca3d10)](),this[_0x2d25fa(_0x29af31._0x160ba9)]();}['addData'](_0x1f12bf){const _0x45e328=_0xafb71f;this['_mapVRenderer']&&this[_0x45e328(0x139)]['addData'](_0x1f12bf,this['options']);}['updateData'](_0x2e6833){const _0x432171={_0x4d317d:0x139},_0x3710c7=_0xafb71f;this['_mapVRenderer']&&this[_0x3710c7(_0x432171._0x4d317d)]['updateData'](_0x2e6833,this['options']);}['getData'](){const _0x19a59b={_0x4431c1:0x139},_0x2771b8=_0xafb71f;return this[_0x2771b8(_0x19a59b._0x4431c1)]&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x4ebc01){const _0x523da3=_0xafb71f;this['_mapVRenderer']&&this['_mapVRenderer'][_0x523da3(0x115)](_0x4ebc01);}[_0xafb71f(0x101)](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x1a11d6={_0x5878d5:0x10e,_0x431a61:0xef,_0x4f0061:0x140,_0x330a26:0x106,_0x2ce4c9:0xef,_0x184996:0x116},_0x41f300=_0xafb71f,_0x23047e=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x23047e['id']=this['id'],_0x23047e['style'][_0x41f300(_0x1a11d6._0x5878d5)]='absolute',_0x23047e[_0x41f300(_0x1a11d6._0x431a61)]['top']='0px',_0x23047e['style']['left']='0px',_0x23047e['width']=parseInt(this['_map']['canvas']['width']),_0x23047e['height']=parseInt(this[_0x41f300(0x148)]['canvas']['height']),_0x23047e['style'][_0x41f300(_0x1a11d6._0x4f0061)]=this['_map'][_0x41f300(_0x1a11d6._0x330a26)][_0x41f300(0xef)]['width'],_0x23047e[_0x41f300(_0x1a11d6._0x2ce4c9)]['height']=this['_map'][_0x41f300(_0x1a11d6._0x330a26)][_0x41f300(_0x1a11d6._0x431a61)]['height'],_0x23047e['style']['pointerEvents']=this[_0x41f300(0x14c)]?'auto':_0x41f300(0x110),_0x23047e['style']['zIndex']=this['options']['zIndex']??0x9;if(this['options'][_0x41f300(0x135)]==='2d'){const _0x5a6a37=this[_0x41f300(0xf5)];_0x23047e[_0x41f300(0x134)](this[_0x41f300(_0x1a11d6._0x184996)]['context'])['scale'](_0x5a6a37,_0x5a6a37);}return _0x23047e;}['_reset'](){const _0x118626={_0x2ec50f:0x123},_0x20a620=_0xafb71f;this[_0x20a620(_0x118626._0x2ec50f)](),this[_0x20a620(0x13f)]();}['draw'](){const _0x5972fa=_0xafb71f;this[_0x5972fa(0x126)]();}['remove'](){const _0x2849e7={_0x42ba0f:0x106},_0x1fbf0a=_0xafb71f;this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this[_0x1fbf0a(_0x2849e7._0x42ba0f)]);}[_0xafb71f(0x13f)](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x2cbce2={_0x3c3016:0x106,_0x1ede65:0x125,_0x4d1002:0x10a,_0xa3c4cf:0x148,_0x49fc10:0x140,_0x2d6806:0x106,_0x5064c3:0xef},_0x3d344b=_0xafb71f;if(this['canvas']){const _0x53c1ba=this[_0x3d344b(_0x2cbce2._0x3c3016)];_0x53c1ba['style']['position']=_0x3d344b(0x102),_0x53c1ba['style']['top']='0px',_0x53c1ba[_0x3d344b(0xef)][_0x3d344b(_0x2cbce2._0x1ede65)]=_0x3d344b(_0x2cbce2._0x4d1002),_0x53c1ba['width']=parseInt(this[_0x3d344b(_0x2cbce2._0xa3c4cf)][_0x3d344b(_0x2cbce2._0x3c3016)][_0x3d344b(0x140)]),_0x53c1ba['height']=parseInt(this['_map'][_0x3d344b(0x106)][_0x3d344b(0x10f)]),_0x53c1ba['style'][_0x3d344b(_0x2cbce2._0x49fc10)]=this['_map'][_0x3d344b(_0x2cbce2._0x2d6806)][_0x3d344b(0xef)]['width'],_0x53c1ba['style']['height']=this[_0x3d344b(0x148)]['canvas'][_0x3d344b(_0x2cbce2._0x5064c3)]['height'];}}['getRectangle'](_0x3c24bd){const _0x11045d={_0x3924dd:0x107,_0x43263d:0xf8,_0x57266a:0x142,_0x1a460a:0x12a},_0x382d18=_0xafb71f;if(!this['dataSet']||!this['dataSet'][_0x382d18(0x124)])return;const _0x4e9b4c=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':_0x382d18(0xfc),'features':this['dataSet']['_data']});if(!_0x4e9b4c)return;return _0x3c24bd!==null&&_0x3c24bd!==void 0x0&&_0x3c24bd[_0x382d18(_0x11045d._0x3924dd)]?_0x4e9b4c:Cesium[_0x382d18(_0x11045d._0x43263d)]['fromDegrees'](_0x4e9b4c[_0x382d18(_0x11045d._0x57266a)],_0x4e9b4c[_0x382d18(0x129)],_0x4e9b4c['xmax'],_0x4e9b4c[_0x382d18(_0x11045d._0x1a460a)]);}['_onMapClick'](_0x21e6eb){const _0x18a3b9=_0xafb71f;this['_cache_event']=_0x21e6eb,this[_0x18a3b9(0x139)]&&this[_0x18a3b9(0x139)][_0x18a3b9(0x114)](_0x21e6eb['windowPosition'],_0x21e6eb);}[_0xafb71f(0x13a)](_0x5edaa2){const _0x2cf7ef=_0xafb71f;this['_cache_event']=_0x5edaa2,this[_0x2cf7ef(0x139)]&&this[_0x2cf7ef(0x139)][_0x2cf7ef(0x122)](_0x5edaa2['windowPosition'],_0x5edaa2);}['on'](_0x534796,_0x53dbf7,_0x388614){const _0x926ff5={_0x3c98ed:0x116,_0x21fb99:0x116,_0xd0ec94:0x112,_0x3092ef:0x137},_0x1efa2d=_0xafb71f;this[_0x1efa2d(_0x926ff5._0x3c98ed)]['methods']=this[_0x1efa2d(0x116)]['methods']||{};if(_0x534796===mars3d__namespace['EventType']['click'])this[_0x1efa2d(_0x926ff5._0x21fb99)]['methods'][_0x1efa2d(_0x926ff5._0xd0ec94)]=_0x41463d=>{_0x41463d&&_0x53dbf7['bind'](_0x388614)({...this['_cache_event'],'layer':this,'data':_0x41463d});},this['_map']['on'](mars3d__namespace['EventType'][_0x1efa2d(0x112)],this[_0x1efa2d(_0x926ff5._0x3092ef)],this);else _0x534796===mars3d__namespace[_0x1efa2d(0x143)]['mouseMove']&&(this[_0x1efa2d(0x116)]['methods']['mousemove']=_0x467b2f=>{_0x467b2f&&_0x53dbf7['bind'](_0x388614)({...this['_cache_event'],'layer':this,'data':_0x467b2f});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x314ba1,_0x4424b3){const _0x3708b0={_0x552257:0x116},_0x2684ad=_0xafb71f;if(_0x314ba1==='click'){var _0x1e34b0;this['_map']['off'](_0x314ba1,this['_onMapClick'],this),(_0x1e34b0=this[_0x2684ad(_0x3708b0._0x552257)]['methods'])!==null&&_0x1e34b0!==void 0x0&&_0x1e34b0['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x314ba1==='mouseMove'){var _0x42a47c;this[_0x2684ad(0x148)][_0x2684ad(0x128)](_0x314ba1,this['_onMapMouseMove'],this),(_0x42a47c=this[_0x2684ad(_0x3708b0._0x552257)][_0x2684ad(0x14e)])!==null&&_0x42a47c!==void 0x0&&_0x42a47c['mousemove']&&delete this['options'][_0x2684ad(0x14e)]['mousemove'];}}return this;}}mars3d__namespace[_0xafb71f(0x138)]['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0xafb71f(0x12e)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x4fab59){const _0x4a4185={_0x30e0d6:0xf0},_0x20720a=_0xafb71f;if(_0x4fab59!=='default'&&!exports['hasOwnProperty'](_0x4fab59))Object[_0x20720a(_0x4a4185._0x30e0d6)](exports,_0x4fab59,{'enumerable':!![],'get':function(){return mapv[_0x4fab59];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
