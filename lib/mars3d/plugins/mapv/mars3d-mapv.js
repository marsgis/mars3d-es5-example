/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.18
 * 编译日期：2023-12-28 21:28:48
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x24975e=_0x2202;(function(_0x4bc34a,_0x404870){const _0x538af4={_0x49873d:0x13a,_0x4e8d7b:0x158,_0x2b580e:0x15c,_0x25b850:0x147},_0xd29f6e=_0x2202,_0x558111=_0x4bc34a();while(!![]){try{const _0x313292=-parseInt(_0xd29f6e(_0x538af4._0x49873d))/0x1*(parseInt(_0xd29f6e(0x104))/0x2)+-parseInt(_0xd29f6e(0x10e))/0x3+parseInt(_0xd29f6e(_0x538af4._0x4e8d7b))/0x4*(parseInt(_0xd29f6e(_0x538af4._0x2b580e))/0x5)+parseInt(_0xd29f6e(_0x538af4._0x25b850))/0x6+-parseInt(_0xd29f6e(0x116))/0x7+parseInt(_0xd29f6e(0x126))/0x8*(-parseInt(_0xd29f6e(0x11d))/0x9)+parseInt(_0xd29f6e(0x109))/0xa;if(_0x313292===_0x404870)break;else _0x558111['push'](_0x558111['shift']());}catch(_0x2edadc){_0x558111['push'](_0x558111['shift']());}}}(_0x34eb,0x89014));function _interopNamespace(_0x4cb359){const _0x5e4fa9=_0x2202;if(_0x4cb359&&_0x4cb359['__esModule'])return _0x4cb359;var _0x454715=Object['create'](null);return _0x4cb359&&Object['keys'](_0x4cb359)[_0x5e4fa9(0x142)](function(_0x3a8b7b){if(_0x3a8b7b!=='default'){var _0x21b9e7=Object['getOwnPropertyDescriptor'](_0x4cb359,_0x3a8b7b);Object['defineProperty'](_0x454715,_0x3a8b7b,_0x21b9e7['get']?_0x21b9e7:{'enumerable':!![],'get':function(){return _0x4cb359[_0x3a8b7b];}});}}),_0x454715[_0x5e4fa9(0x140)]=_0x4cb359,_0x454715;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x34eb(){const _0x5660cf=['scene','postRender','bindEvent','trails','canvas','dataSet','437744Pamwlr','addData','removeChild','register','5axemUR','_map','_showHook','transferCoordinate','EventType','position','mapv','type','destroy','_mapVRenderer','2aFcPrV','clearRect','width','_onMapClick','size','30856790aAPauR','absolute','_createCanvas','defineProperty','coordinates','2162883SnELcW','mousemove','methods','DataSet','Polygon','update','geometry','clearData','4584615ZBifPJ','mouseMove','zIndex','clear','isEnabledTime','add','pointerEvents','7615989HUWswV','getContext','unit','clickEvent','animator','destination-out','animatorMoveendEvent','block','fromDegrees','8ghazux','_removedHook','animatorMovestartEvent','_data','BaseLayer','prototype','context','length','unbindEvent','_onMoveStartEvent','mapvFixedHeight','none','_onMoveEndEvent','filter','mouseDown','options','steps','SceneMode','style','data','1044149KuStYv','devicePixelRatio','animation','fixedHeight','_cache_event','cameraMoveEnd','default','rgba(0,\x200,\x200,\x20.1)','forEach','_reset','get','mapvAutoHeight','parentElement','3793998fkFwqB','xmin','top','push','all','_canvasUpdate','MapVLayer','height','display','_onMapMouseMove','render'];_0x34eb=function(){return _0x5660cf;};return _0x34eb();}const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;function _0x2202(_0x15674b,_0x4c516c){const _0x34eb15=_0x34eb();return _0x2202=function(_0x220288,_0xe47864){_0x220288=_0x220288-0xfe;let _0x1e8e35=_0x34eb15[_0x220288];return _0x1e8e35;},_0x2202(_0x15674b,_0x4c516c);}class MapVRenderer extends BaseLayer$1{constructor(_0x1b93d9,_0x5ccfb8,_0x403f8e,_0x240ce0){const _0x53c4d5={_0x191944:0x13c},_0x564e3c=_0x2202;super(_0x1b93d9,_0x5ccfb8,_0x403f8e);if(!BaseLayer$1)return;this['map']=_0x1b93d9,this['scene']=_0x1b93d9[_0x564e3c(0x152)],this['dataSet']=_0x5ccfb8,_0x403f8e=_0x403f8e||{},this['init'](_0x403f8e),this['argCheck'](_0x403f8e),this['initDevicePixelRatio'](),this['canvasLayer']=_0x240ce0,this['stopAniamation']=!0x1,this[_0x564e3c(_0x53c4d5._0x191944)]=_0x403f8e['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}[_0x24975e(0x128)](){const _0x4ae2f7={_0x4c0cf2:0x136},_0xceaf07=_0x24975e,_0x3cbc89=this['options'][_0xceaf07(0x13c)];this[_0xceaf07(0x11a)]()&&this['animator']&&(this[_0xceaf07(_0x4ae2f7._0x4c0cf2)]['step']=_0x3cbc89['stepsRange']['start']);}[_0x24975e(0x123)](){const _0x19c357={_0x1fd4ca:0x121},_0x5d301c=_0x24975e;this['isEnabledTime']()&&this[_0x5d301c(_0x19c357._0x1fd4ca)];}[_0x24975e(0x11e)](){const _0x10bcf3={_0x4b3a53:0x11e},_0x1f80cb=_0x24975e;return this['canvasLayer']['canvas'][_0x1f80cb(_0x10bcf3._0x4b3a53)](this['context']);}['init'](_0x54d5b8){const _0x3e7068={_0x56b4bb:0x12c,_0x133724:0x135},_0x4147cc=_0x24975e;this['options']=_0x54d5b8,this['initDataRange'](_0x54d5b8),this[_0x4147cc(0x12c)]=this[_0x4147cc(0x135)][_0x4147cc(_0x3e7068._0x56b4bb)]||'2d',Cesium$1['defined'](this[_0x4147cc(_0x3e7068._0x133724)][_0x4147cc(0x118)])&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this['canvasLayer']['setZIndex'](this['options'][_0x4147cc(0x118)]),this['initAnimator']();}[_0x24975e(0x14c)](_0x1fdfd3){const _0x56ceb7={_0x3347f5:0x11a,_0x5e3258:0x122,_0x462fcc:0x106,_0x25585c:0x144,_0x2d6c41:0x11f},_0x203925={_0x3ae22e:0x155},_0x916b3f={_0x186ef0:0x145},_0x5d35c2=_0x24975e,_0xd0ba69=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x1bf977=this['options'][_0x5d35c2(0x13c)],_0xb5b87e=this['getContext']();if(this[_0x5d35c2(_0x56ceb7._0x3347f5)]()){if(void 0x0===_0x1fdfd3)return void this['clear'](_0xb5b87e);this['context']==='2d'&&(_0xb5b87e['save'](),_0xb5b87e['globalCompositeOperation']=_0x5d35c2(_0x56ceb7._0x5e3258),_0xb5b87e['fillStyle']=_0x5d35c2(0x141),_0xb5b87e['fillRect'](0x0,0x0,_0xb5b87e['canvas'][_0x5d35c2(_0x56ceb7._0x462fcc)],_0xb5b87e['canvas']['height']),_0xb5b87e['restore']());}else this['clear'](_0xb5b87e);if(this['context']==='2d')for(const _0x445f0f in this['options']){_0xb5b87e[_0x445f0f]=this['options'][_0x445f0f];}else _0xb5b87e['clear'](_0xb5b87e['COLOR_BUFFER_BIT']);const _0x5ab54b={'transferCoordinate':function(_0x2652bd){const _0x56c00c=_0x5d35c2,_0x4cd9b5=null;let _0x3a676d=_0xd0ba69['mapvFixedHeight'];_0xd0ba69[_0x56c00c(_0x916b3f._0x186ef0)]&&(_0x3a676d=_0xd0ba69['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x2652bd[0x0],_0x2652bd[0x1])));const _0x5f1e14=Cesium$1['Cartesian3'][_0x56c00c(0x125)](_0x2652bd[0x0],_0x2652bd[0x1],_0x3a676d);if(!_0x5f1e14)return _0x4cd9b5;const _0x5ca78a=_0xd0ba69['cartesianToCanvasCoordinates'](_0x5f1e14);if(!_0x5ca78a)return _0x4cd9b5;if(_0xd0ba69['mapvDepthTest']&&_0xd0ba69['mode']===Cesium$1[_0x56c00c(0x137)]['SCENE3D']){const _0x5b24f4=new Cesium$1['EllipsoidalOccluder'](_0xd0ba69['globe']['ellipsoid'],_0xd0ba69['camera']['positionWC']),_0x2fb54e=_0x5b24f4['isPointVisible'](_0x5f1e14);if(!_0x2fb54e)return _0x4cd9b5;}return[_0x5ca78a['x'],_0x5ca78a['y']];}};void 0x0!==_0x1fdfd3&&(_0x5ab54b[_0x5d35c2(0x133)]=function(_0x7edfcd){const _0xf7cc39=_0x5d35c2,_0x1fee60=_0x1bf977[_0xf7cc39(_0x203925._0x3ae22e)]||0xa;return!!(_0x1fdfd3&&_0x7edfcd['time']>_0x1fdfd3-_0x1fee60&&_0x7edfcd['time']<_0x1fdfd3);});const _0x3a42b1=this['dataSet'][_0x5d35c2(_0x56ceb7._0x25585c)](_0x5ab54b);this['processData'](_0x3a42b1),this['options'][_0x5d35c2(_0x56ceb7._0x2d6c41)]==='m'&&this['options']['size'],this['options']['_size']=this['options'][_0x5d35c2(0x108)];const _0x109536=_0xd0ba69['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x109536)return;this['drawContext'](_0xb5b87e,new mapv__namespace['DataSet'](_0x3a42b1),this['options'],_0x109536),this['options']['updateCallback']&&this['options']['updateCallback'](_0x1fdfd3);}}['updateData'](_0x3a80b2,_0x1758ec){const _0xd9e60a={_0xe125ff:0x144},_0x5b2fae=_0x24975e;let _0x521943=_0x3a80b2;_0x521943&&_0x521943[_0x5b2fae(_0xd9e60a._0xe125ff)]&&(_0x521943=_0x521943['get']()),void 0x0!==_0x521943&&this[_0x5b2fae(0x157)]['set'](_0x521943),super['update']({'options':_0x1758ec});}[_0x24975e(0x159)](_0x449ec2,_0x24a9d4){const _0x4f8ebf={_0x29d80e:0x157},_0x1a3747=_0x24975e;let _0x55c64d=_0x449ec2;_0x449ec2&&_0x449ec2['get']&&(_0x55c64d=_0x449ec2[_0x1a3747(0x144)]()),this[_0x1a3747(_0x4f8ebf._0x29d80e)][_0x1a3747(0x11b)](_0x55c64d),this['update']({'options':_0x24a9d4});}['getData'](){return this['dataSet'];}['removeData'](_0x502db2){const _0x3d5edf=_0x24975e;if(this['dataSet']){const _0x20d36d=this['dataSet']['get']({'filter':function(_0x21559b){return _0x502db2==null||typeof _0x502db2!=='function'||!_0x502db2(_0x21559b);}});this['dataSet']['set'](_0x20d36d),this[_0x3d5edf(0x113)]({'options':null});}}[_0x24975e(0x115)](){const _0x1d8d6b={_0x5f0284:0x157},_0x41eda2=_0x24975e;this[_0x41eda2(_0x1d8d6b._0x5f0284)]&&this['dataSet']['clear'](),this[_0x41eda2(0x113)]({'options':null});}['draw'](){this['canvasLayer']['draw']();}[_0x24975e(0x119)](_0x5c2cc4){const _0x145565={_0x1be65e:0x105},_0x39c013=_0x24975e;_0x5c2cc4&&_0x5c2cc4[_0x39c013(_0x145565._0x1be65e)]&&_0x5c2cc4[_0x39c013(0x105)](0x0,0x0,_0x5c2cc4['canvas']['width'],_0x5c2cc4['canvas']['height']);}['destroy'](){const _0x2fbc53={_0x3f5841:0x119,_0x402c1f:0x121},_0xce6bc6=_0x24975e;this[_0xce6bc6(_0x2fbc53._0x3f5841)](this['getContext']()),this[_0xce6bc6(0x115)](),this[_0xce6bc6(_0x2fbc53._0x402c1f)]&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x24975e(0x111)])mapv__namespace['DataSet'][_0x24975e(0x12b)][_0x24975e(0x15f)]=function(_0x2d1369,_0x209f73,_0x5a2f26,_0x2f5c22){const _0x1efc7e={_0x4b28de:0x10d,_0x18f1bf:0x114,_0x2bccac:0x101,_0x44adcb:0x14a,_0x1d898a:0x112},_0x356dc5={_0x2893cb:0x12d,_0x344d58:0x14a},_0x20e309=_0x24975e;_0x2f5c22=_0x2f5c22||'_coordinates',_0x5a2f26=_0x5a2f26||_0x20e309(_0x1efc7e._0x4b28de);for(let _0x502f17=0x0;_0x502f17<_0x2d1369['length'];_0x502f17++){const _0x49e93a=_0x2d1369[_0x502f17][_0x20e309(_0x1efc7e._0x18f1bf)],_0x23ae16=_0x49e93a[_0x5a2f26];switch(_0x49e93a[_0x20e309(_0x1efc7e._0x2bccac)]){case'Point':{const _0x291277=_0x209f73(_0x23ae16);_0x291277?_0x49e93a[_0x2f5c22]=_0x291277:_0x49e93a[_0x2f5c22]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x1e4d0d=[];for(let _0x477197=0x0;_0x477197<_0x23ae16['length'];_0x477197++){const _0x46c3f0=_0x209f73(_0x23ae16[_0x477197]);_0x46c3f0&&_0x1e4d0d[_0x20e309(_0x1efc7e._0x44adcb)](_0x46c3f0);}_0x49e93a[_0x2f5c22]=_0x1e4d0d;}break;case'MultiLineString':case _0x20e309(_0x1efc7e._0x1d898a):{const _0x28ca8f=_0x4513e8(_0x23ae16);_0x49e93a[_0x2f5c22]=_0x28ca8f;}break;case'MultiPolygon':{const _0x26d1bf=[];for(let _0x16f221=0x0;_0x16f221<_0x23ae16[_0x20e309(0x12d)];_0x16f221++){const _0x574bb3=_0x4513e8(_0x23ae16[_0x16f221]);_0x574bb3['length']>0x0&&_0x26d1bf['push'](_0x574bb3);}_0x49e93a[_0x2f5c22]=_0x26d1bf;}break;}}function _0x4513e8(_0x3078fb){const _0x112b3a=_0x20e309,_0xf27c2=[];for(let _0x51066c=0x0;_0x51066c<_0x3078fb[_0x112b3a(_0x356dc5._0x2893cb)];_0x51066c++){const _0x80fe70=_0x3078fb[_0x51066c],_0x126001=[];for(let _0x4e1580=0x0;_0x4e1580<_0x80fe70['length'];_0x4e1580++){const _0x1aeeca=_0x209f73(_0x80fe70[_0x4e1580]);_0x1aeeca&&_0x126001['push'](_0x1aeeca);}_0x126001['length']>0x0&&_0xf27c2[_0x112b3a(_0x356dc5._0x344d58)](_0x126001);}return _0xf27c2;}return _0x2d1369;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer'][_0x24975e(0x12a)];class MapVLayer extends BaseLayer{constructor(_0x5237ec,_0x4ace19){const _0x47b5c4={_0x3eaea9:0x139},_0x30b3c9=_0x24975e;super(_0x5237ec),this['_pointerEvents']=this['options'][_0x30b3c9(0x11c)],this['dataSet']=_0x4ace19||new mapv__namespace['DataSet'](_0x5237ec[_0x30b3c9(_0x47b5c4._0x3eaea9)]),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set[_0x24975e(0x11c)](_0x41b250){const _0x192b4a={_0x19d406:0x11c,_0x2da659:0x14b},_0x1f8e54=_0x24975e;this['_pointerEvents']=_0x41b250,this['canvas']&&(_0x41b250?this['canvas']['style'][_0x1f8e54(_0x192b4a._0x19d406)]=_0x1f8e54(_0x192b4a._0x2da659):this['canvas']['style']['pointerEvents']='none');}[_0x24975e(0x15e)](_0x26524c){const _0x5b2fef={_0xebbcbc:0x14f,_0xb82110:0x131},_0x11b41f=_0x24975e;_0x26524c?this['canvas']['style']['display']=_0x11b41f(0x124):this['canvas'][_0x11b41f(0x138)][_0x11b41f(_0x5b2fef._0xebbcbc)]=_0x11b41f(_0x5b2fef._0xb82110);}['_mountedHook'](){const _0x535773={_0x4a4849:0x145},_0x45d5c9=_0x24975e;this[_0x45d5c9(0x15d)]['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene'][_0x45d5c9(_0x535773._0x4a4849)]=this['options']['clampToGround']??![],this['_map']['scene'][_0x45d5c9(0x130)]=this['options'][_0x45d5c9(0x13d)]??0x0;}['_addedHook'](){const _0x1795ec={_0x482bfc:0x157,_0x5090dc:0x103},_0x44e263=_0x24975e;this['dataSet']&&(!this['dataSet']['_data']||this[_0x44e263(_0x1795ec._0x482bfc)]['_data']['length']===0x0)&&(this['dataSet']['_data']=[]['concat'](this['dataSet']['_dataCache'])),this[_0x44e263(_0x1795ec._0x5090dc)]=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this['render']['bind'](this),this[_0x44e263(0x154)](),this['_reset']();}[_0x24975e(0x127)](){const _0x1b40d1={_0x560789:0x103,_0xe9ff14:0x146},_0x156571=_0x24975e;this[_0x156571(0x12e)](),this[_0x156571(_0x1b40d1._0x560789)]&&(this[_0x156571(_0x1b40d1._0x560789)][_0x156571(0x102)](),this[_0x156571(0x103)]=null),this['canvas'][_0x156571(_0x1b40d1._0xe9ff14)]['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0x26922c={_0x2bef77:0x13b},_0x387a7d=_0x24975e;this['devicePixelRatio']=window[_0x387a7d(_0x26922c._0x2bef77)]||0x1;}['bindEvent'](){const _0x48d5cb={_0x41ef77:0x12f,_0x5dedf6:0x13f,_0x1fab9d:0x132,_0x2840ed:0xfe,_0x424a69:0x15d},_0x59e71f=_0x24975e;var _0x59b915,_0x3c1067;this['_map']['on'](mars3d__namespace['EventType'][_0x59e71f(0x134)],this[_0x59e71f(_0x48d5cb._0x41ef77)],this),this['_map']['on'](mars3d__namespace[_0x59e71f(0xfe)]['cameraMoveStart'],this[_0x59e71f(0x12f)],this),this['_map']['on'](mars3d__namespace['EventType'][_0x59e71f(_0x48d5cb._0x5dedf6)],this[_0x59e71f(_0x48d5cb._0x1fab9d)],this),(_0x59b915=this['options'])!==null&&_0x59b915!==void 0x0&&(_0x59b915=_0x59b915['methods'])!==null&&_0x59b915!==void 0x0&&_0x59b915['click']&&this['_map']['on'](mars3d__namespace[_0x59e71f(_0x48d5cb._0x2840ed)]['click'],this['_onMapClick'],this),(_0x3c1067=this[_0x59e71f(0x135)])!==null&&_0x3c1067!==void 0x0&&(_0x3c1067=_0x3c1067['methods'])!==null&&_0x3c1067!==void 0x0&&_0x3c1067['mousemove']&&this[_0x59e71f(_0x48d5cb._0x424a69)]['on'](mars3d__namespace['EventType'][_0x59e71f(0x117)],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x51fd36={_0x475b95:0x15d,_0x52fe4f:0x143,_0x5b59bb:0x135},_0x395533=_0x24975e;var _0x218f73,_0x2eda18;this[_0x395533(_0x51fd36._0x475b95)]['off'](mars3d__namespace['EventType']['mouseDown'],this[_0x395533(0x12f)],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x395533(0x12f)],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x395533(0x132)],this),this['_map']['off'](mars3d__namespace[_0x395533(0xfe)]['postRender'],this[_0x395533(_0x51fd36._0x52fe4f)],this),(_0x218f73=this['options'])!==null&&_0x218f73!==void 0x0&&(_0x218f73=_0x218f73[_0x395533(0x110)])!==null&&_0x218f73!==void 0x0&&_0x218f73['click']&&this[_0x395533(0x15d)]['off'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x2eda18=this[_0x395533(_0x51fd36._0x5b59bb)])!==null&&_0x2eda18!==void 0x0&&(_0x2eda18=_0x2eda18['methods'])!==null&&_0x2eda18!==void 0x0&&_0x2eda18[_0x395533(0x10f)]&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x526061=_0x24975e;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType'][_0x526061(0x153)],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this[_0x526061(0x143)],this));}[_0x24975e(0x132)](){const _0x101b98={_0x101e49:0x103},_0x71ab1d=_0x24975e;this[_0x71ab1d(_0x101b98._0x101e49)]&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0x71ab1d(0x103)]['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x568213,_0x6d3245){this['_removedHook'](),this['_addedHook']();}[_0x24975e(0x159)](_0x1621e7){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x1621e7,this['options']);}['updateData'](_0x4bdf90){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x4bdf90,this['options']);}['getData'](){const _0x5af172={_0x14889b:0x103},_0x5553cf=_0x24975e;return this['_mapVRenderer']&&(this['dataSet']=this[_0x5553cf(_0x5af172._0x14889b)]['getData']()),this[_0x5553cf(0x157)];}['removeData'](_0x503ccf){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x503ccf);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}[_0x24975e(0x10b)](){const _0x49c781={_0x73507a:0x14e,_0x45f98d:0x11e,_0x24a1a9:0x12c},_0x51c842=_0x24975e,_0x5aa072=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x5aa072['id']=this['id'],_0x5aa072['style']['position']=_0x51c842(0x10a),_0x5aa072['style']['top']='0px',_0x5aa072[_0x51c842(0x138)]['left']='0px',_0x5aa072['width']=parseInt(this[_0x51c842(0x15d)]['canvas'][_0x51c842(0x106)]),_0x5aa072[_0x51c842(_0x49c781._0x73507a)]=parseInt(this[_0x51c842(0x15d)]['canvas'][_0x51c842(0x14e)]),_0x5aa072['style']['width']=this['_map']['canvas']['style']['width'],_0x5aa072['style']['height']=this['_map'][_0x51c842(0x156)]['style']['height'],_0x5aa072['style']['pointerEvents']=this['_pointerEvents']?'auto':_0x51c842(0x131),_0x5aa072[_0x51c842(0x138)][_0x51c842(0x118)]=this['options'][_0x51c842(0x118)]??0x9;if(this['options'][_0x51c842(0x12c)]==='2d'){const _0x291237=this['devicePixelRatio'];_0x5aa072[_0x51c842(_0x49c781._0x45f98d)](this['options'][_0x51c842(_0x49c781._0x24a1a9)])['scale'](_0x291237,_0x291237);}return _0x5aa072;}['_reset'](){this['resize'](),this['render']();}['draw'](){const _0x58a592={_0x15d19d:0x143},_0x5a57be=_0x24975e;this[_0x5a57be(_0x58a592._0x15d19d)]();}['remove'](){const _0x89f2e9={_0x493281:0x103,_0xac800f:0x146},_0x34bbcf=_0x24975e;this[_0x34bbcf(0x103)]&&(this[_0x34bbcf(_0x89f2e9._0x493281)]['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x34bbcf(_0x89f2e9._0xac800f)][_0x34bbcf(0x15a)](this['canvas']);}[_0x24975e(0x151)](){const _0x34c165={_0x232eb7:0x14c},_0x27ed05=_0x24975e;this['_mapVRenderer'][_0x27ed05(_0x34c165._0x232eb7)]();}['resize'](){const _0x33ab04={_0x355faa:0x138,_0x5390d1:0xff,_0x1f3ec3:0x15d,_0x33139a:0x156,_0x32f145:0x138},_0x316d45=_0x24975e;if(this['canvas']){const _0x505b33=this['canvas'];_0x505b33[_0x316d45(_0x33ab04._0x355faa)][_0x316d45(_0x33ab04._0x5390d1)]='absolute',_0x505b33['style'][_0x316d45(0x149)]='0px',_0x505b33['style']['left']='0px',_0x505b33['width']=parseInt(this[_0x316d45(_0x33ab04._0x1f3ec3)]['canvas']['width']),_0x505b33[_0x316d45(0x14e)]=parseInt(this['_map'][_0x316d45(_0x33ab04._0x33139a)]['height']),_0x505b33['style']['width']=this['_map']['canvas'][_0x316d45(_0x33ab04._0x32f145)]['width'],_0x505b33['style']['height']=this[_0x316d45(_0x33ab04._0x1f3ec3)]['canvas'][_0x316d45(0x138)]['height'];}}['getRectangle'](_0x1c2b9c){const _0x53ffd3={_0x29fb4c:0x157,_0x552823:0x157,_0x172831:0x148},_0x42159d=_0x24975e;if(!this[_0x42159d(_0x53ffd3._0x29fb4c)]||!this['dataSet']['_data'])return;const _0x2d10b9=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0x42159d(_0x53ffd3._0x552823)][_0x42159d(0x129)]});if(!_0x2d10b9)return;return _0x1c2b9c!==null&&_0x1c2b9c!==void 0x0&&_0x1c2b9c['isFormat']?_0x2d10b9:Cesium['Rectangle']['fromDegrees'](_0x2d10b9[_0x42159d(_0x53ffd3._0x172831)],_0x2d10b9['ymin'],_0x2d10b9['xmax'],_0x2d10b9['ymax']);}['_onMapClick'](_0x1d2aa0){const _0x3cfae9=_0x24975e;this['_cache_event']=_0x1d2aa0,this['_mapVRenderer']&&this['_mapVRenderer'][_0x3cfae9(0x120)](_0x1d2aa0['windowPosition'],_0x1d2aa0);}['_onMapMouseMove'](_0x33a2e4){this['_cache_event']=_0x33a2e4,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x33a2e4['windowPosition'],_0x33a2e4);}['on'](_0x34941f,_0x1249da,_0x361f62){const _0x29329e={_0x51b6f5:0x135,_0x343bbe:0x135,_0x23fc51:0x110,_0x20d019:0xfe,_0x4b849b:0xfe},_0x3c5917={_0x25a0fb:0x13e},_0x390c47=_0x24975e;this['options']['methods']=this[_0x390c47(_0x29329e._0x51b6f5)][_0x390c47(0x110)]||{};if(_0x34941f===mars3d__namespace[_0x390c47(0xfe)]['click'])this[_0x390c47(_0x29329e._0x343bbe)][_0x390c47(_0x29329e._0x23fc51)]['click']=_0x2620fb=>{const _0x531602=_0x390c47;_0x2620fb&&_0x1249da['bind'](_0x361f62)({...this[_0x531602(0x13e)],'layer':this,'data':_0x2620fb});},this['_map']['on'](mars3d__namespace[_0x390c47(_0x29329e._0x20d019)]['click'],this['_onMapClick'],this);else _0x34941f===mars3d__namespace[_0x390c47(0xfe)]['mouseMove']&&(this['options']['methods']['mousemove']=_0x12ba47=>{const _0x206206=_0x390c47;_0x12ba47&&_0x1249da['bind'](_0x361f62)({...this[_0x206206(_0x3c5917._0x25a0fb)],'layer':this,'data':_0x12ba47});},this['_map']['on'](mars3d__namespace[_0x390c47(_0x29329e._0x4b849b)][_0x390c47(0x117)],this['_onMapMouseMove'],this));return this;}['off'](_0x15a9fb,_0x30cf9a){const _0x314592={_0x1ae6bf:0x107,_0x485dfe:0x15d,_0x257812:0x150},_0x9375bc=_0x24975e;if(_0x15a9fb==='click'){var _0x22fd01;this['_map']['off'](_0x15a9fb,this[_0x9375bc(_0x314592._0x1ae6bf)],this),(_0x22fd01=this['options'][_0x9375bc(0x110)])!==null&&_0x22fd01!==void 0x0&&_0x22fd01[_0x9375bc(0x10f)]&&delete this['options']['methods']['click'];}else{if(_0x15a9fb==='mouseMove'){var _0x35fe7c;this[_0x9375bc(_0x314592._0x485dfe)]['off'](_0x15a9fb,this[_0x9375bc(_0x314592._0x257812)],this),(_0x35fe7c=this[_0x9375bc(0x135)]['methods'])!==null&&_0x35fe7c!==void 0x0&&_0x35fe7c['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil'][_0x24975e(0x15b)](_0x24975e(0x100),MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0x24975e(0x14d)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x10c9ff){const _0x546ee3={_0x440da6:0x140},_0x1d2ab8=_0x24975e;if(_0x10c9ff!==_0x1d2ab8(_0x546ee3._0x440da6)&&!exports['hasOwnProperty'](_0x10c9ff))Object['defineProperty'](exports,_0x10c9ff,{'enumerable':!![],'get':function(){return mapv[_0x10c9ff];}});}),Object[_0x24975e(0x10c)](exports,'__esModule',{'value':!![]});
}));
