/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.9
 * 编译日期：2023-10-15 21:14:06
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x12d569=_0x4550;(function(_0x14111d,_0x4a5f35){const _0x7aa5c2={_0x1e9744:0xb4,_0x5e65c3:0x96,_0x510e0e:0x89,_0x43c736:0xbd},_0x1cb204=_0x4550,_0x218213=_0x14111d();while(!![]){try{const _0x576b24=parseInt(_0x1cb204(_0x7aa5c2._0x1e9744))/0x1+-parseInt(_0x1cb204(0xe3))/0x2+parseInt(_0x1cb204(0xa0))/0x3*(parseInt(_0x1cb204(0x95))/0x4)+parseInt(_0x1cb204(_0x7aa5c2._0x5e65c3))/0x5+-parseInt(_0x1cb204(_0x7aa5c2._0x510e0e))/0x6+-parseInt(_0x1cb204(_0x7aa5c2._0x43c736))/0x7*(-parseInt(_0x1cb204(0xa8))/0x8)+-parseInt(_0x1cb204(0xa6))/0x9;if(_0x576b24===_0x4a5f35)break;else _0x218213['push'](_0x218213['shift']());}catch(_0x43b34a){_0x218213['push'](_0x218213['shift']());}}}(_0xcf49,0xa33bf));function _0x4550(_0x60e1e7,_0x3cee7d){const _0xcf4920=_0xcf49();return _0x4550=function(_0x455037,_0x583abf){_0x455037=_0x455037-0x81;let _0x324d63=_0xcf4920[_0x455037];return _0x324d63;},_0x4550(_0x60e1e7,_0x3cee7d);}function _interopNamespace(_0x4a4ca2){const _0x3671f9=_0x4550;if(_0x4a4ca2&&_0x4a4ca2[_0x3671f9(0x8f)])return _0x4a4ca2;var _0x1cd300=Object['create'](null);return _0x4a4ca2&&Object['keys'](_0x4a4ca2)['forEach'](function(_0x4023bb){if(_0x4023bb!=='default'){var _0x1e82eb=Object['getOwnPropertyDescriptor'](_0x4a4ca2,_0x4023bb);Object['defineProperty'](_0x1cd300,_0x4023bb,_0x1e82eb['get']?_0x1e82eb:{'enumerable':!![],'get':function(){return _0x4a4ca2[_0x4023bb];}});}}),_0x1cd300['default']=_0x4a4ca2,_0x1cd300;}function _0xcf49(){const _0x4fcac1=['unit','28fbXDWr','0px','fillStyle','methods','animatorMoveendEvent','_mapVRenderer','addAnimatorEvent','updateCallback','camera','MultiLineString','_reset','mapvDepthTest','context','DataSet','Util','steps','off','removeChild','absolute','draw','zIndex','_size','concat','unbindEvent','_cache_event','register','cameraMoveStart','canvasLayer','devicePixelRatio','fillRect','stepsRange','ellipsoid','argCheck','baiduMapLayer','stopAniamation','mapv','_map','left','1962176yDBOnf','bind','position','animatorMovestartEvent','DomUtil','setZIndex','height','ymax','addData','mouseMove','5277882FznELS','xmax','get','drawContext','mousemove','pointerEvents','__esModule','isEnabledTime','all','BaseLayer','clearRect','getData','757056QjpoGP','4582895CuDWmx','scene','parentElement','style','update','dataSet','Cesium','_createCanvas','Cartographic','save','15KFBxND','clear','stop','filter','_onMapMouseMove','step','17412147iCVmer','set','2640248HfVmMN','windowPosition','_data','options','canvas','length','EventType','container','globalCompositeOperation','animator','clickEvent','updateData','1281002fJKZAw','width','init','map','destroy','start','size','postRender'];_0xcf49=function(){return _0x4fcac1;};return _0xcf49();}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x12d569(0xde)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x1e2c49,_0x3edcaa,_0x3c916b,_0x4f8bc4){const _0x28a4b7={_0xa76f35:0xb6,_0x3b0cc9:0xdd},_0x2b6711=_0x12d569;super(_0x1e2c49,_0x3edcaa,_0x3c916b);if(!BaseLayer$1)return;this[_0x2b6711(0xb7)]=_0x1e2c49,this['scene']=_0x1e2c49['scene'],this[_0x2b6711(0x9b)]=_0x3edcaa,_0x3c916b=_0x3c916b||{},this[_0x2b6711(_0x28a4b7._0xa76f35)](_0x3c916b),this[_0x2b6711(_0x28a4b7._0x3b0cc9)](_0x3c916b),this['initDevicePixelRatio'](),this['canvasLayer']=_0x4f8bc4,this['stopAniamation']=!0x1,this['animation']=_0x3c916b['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x12d569(0xc3)](){}[_0x12d569(0x82)](){const _0x3aa7ec={_0x28091f:0x90,_0x1e1707:0xdb},_0x4ac3f7=_0x12d569,_0x56874f=this['options']['animation'];this[_0x4ac3f7(_0x3aa7ec._0x28091f)]()&&this['animator']&&(this[_0x4ac3f7(0xcc)][_0x4ac3f7(0xa5)]=_0x56874f[_0x4ac3f7(_0x3aa7ec._0x1e1707)][_0x4ac3f7(0xb9)]);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x50d57b={_0x82702f:0xac},_0x757a33=_0x12d569;return this['canvasLayer'][_0x757a33(_0x50d57b._0x82702f)]['getContext'](this[_0x757a33(0xc9)]);}['init'](_0x241225){const _0xc2be00={_0x250bce:0xc9,_0x56d5b8:0xd1,_0x597e4c:0xd8},_0x5a253c=_0x12d569;this['options']=_0x241225,this['initDataRange'](_0x241225),this[_0x5a253c(_0xc2be00._0x250bce)]=this['options']['context']||'2d',Cesium$1['defined'](this['options'][_0x5a253c(_0xc2be00._0x56d5b8)])&&this['canvasLayer']&&this['canvasLayer'][_0x5a253c(0x84)]&&this[_0x5a253c(_0xc2be00._0x597e4c)]['setZIndex'](this['options'][_0x5a253c(_0xc2be00._0x56d5b8)]),this['initAnimator']();}['_canvasUpdate'](_0x3fc11a){const _0x1aa7d1={_0x560dbf:0x97,_0xe04a45:0xd8,_0x3629e1:0xdf,_0x3fde62:0xc9,_0x21d1e3:0xb0,_0x498527:0xda,_0x1f2b78:0xab,_0x7da4f3:0xbc,_0x1a03c7:0xd2,_0x39143b:0x8c,_0x2fe418:0xc4},_0x1aa441={_0x500cc5:0xc5},_0x251b7d=_0x12d569,_0x135b38=this[_0x251b7d(_0x1aa7d1._0x560dbf)];if(this[_0x251b7d(_0x1aa7d1._0xe04a45)]&&!this[_0x251b7d(_0x1aa7d1._0x3629e1)]){const _0x5edab=this[_0x251b7d(0xab)]['animation'],_0x414d1b=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x3fc11a)return void this['clear'](_0x414d1b);this[_0x251b7d(_0x1aa7d1._0x3fde62)]==='2d'&&(_0x414d1b[_0x251b7d(0x9f)](),_0x414d1b[_0x251b7d(_0x1aa7d1._0x21d1e3)]='destination-out',_0x414d1b[_0x251b7d(0xbf)]='rgba(0,\x200,\x200,\x20.1)',_0x414d1b[_0x251b7d(_0x1aa7d1._0x498527)](0x0,0x0,_0x414d1b['canvas']['width'],_0x414d1b['canvas'][_0x251b7d(0x85)]),_0x414d1b['restore']());}else this['clear'](_0x414d1b);if(this['context']==='2d')for(const _0x57e68b in this['options']){_0x414d1b[_0x57e68b]=this[_0x251b7d(_0x1aa7d1._0x1f2b78)][_0x57e68b];}else _0x414d1b[_0x251b7d(0xa1)](_0x414d1b['COLOR_BUFFER_BIT']);const _0x3a52a5={'transferCoordinate':function(_0xc94664){const _0x42bf8b=_0x251b7d,_0x47a1f9=null;let _0x293088=_0x135b38['mapvFixedHeight'];_0x135b38['mapvAutoHeight']&&(_0x293088=_0x135b38['globe']['getHeight'](Cesium$1[_0x42bf8b(0x9e)]['fromDegrees'](_0xc94664[0x0],_0xc94664[0x1])));const _0x43f51d=Cesium$1['Cartesian3']['fromDegrees'](_0xc94664[0x0],_0xc94664[0x1],_0x293088);if(!_0x43f51d)return _0x47a1f9;const _0x1f14d0=_0x135b38['cartesianToCanvasCoordinates'](_0x43f51d);if(!_0x1f14d0)return _0x47a1f9;if(_0x135b38[_0x42bf8b(0xc8)]&&_0x135b38['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x2ab199=new Cesium$1['EllipsoidalOccluder'](_0x135b38['globe'][_0x42bf8b(0xdc)],_0x135b38[_0x42bf8b(_0x1aa441._0x500cc5)]['positionWC']),_0x4468f6=_0x2ab199['isPointVisible'](_0x43f51d);if(!_0x4468f6)return _0x47a1f9;}return[_0x1f14d0['x'],_0x1f14d0['y']];}};void 0x0!==_0x3fc11a&&(_0x3a52a5[_0x251b7d(0xa3)]=function(_0x1c4765){const _0x52bfe7=_0x5edab['trails']||0xa;return!!(_0x3fc11a&&_0x1c4765['time']>_0x3fc11a-_0x52bfe7&&_0x1c4765['time']<_0x3fc11a);});const _0x160dbf=this[_0x251b7d(0x9b)]['get'](_0x3a52a5);this['processData'](_0x160dbf),this['options'][_0x251b7d(_0x1aa7d1._0x7da4f3)]==='m'&&this['options']['size'],this[_0x251b7d(0xab)][_0x251b7d(_0x1aa7d1._0x1a03c7)]=this['options'][_0x251b7d(0xba)];const _0x580893=_0x135b38['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x580893)return;this[_0x251b7d(_0x1aa7d1._0x39143b)](_0x414d1b,new mapv__namespace['DataSet'](_0x160dbf),this['options'],_0x580893),this[_0x251b7d(0xab)]['updateCallback']&&this['options'][_0x251b7d(_0x1aa7d1._0x2fe418)](_0x3fc11a);}}['updateData'](_0x59e717,_0x223ef6){const _0x55b9bc={_0x2e673b:0xa7},_0x942126=_0x12d569;let _0x397723=_0x59e717;_0x397723&&_0x397723['get']&&(_0x397723=_0x397723['get']()),void 0x0!==_0x397723&&this['dataSet'][_0x942126(_0x55b9bc._0x2e673b)](_0x397723),super['update']({'options':_0x223ef6});}['addData'](_0x2bb2f5,_0x2b058b){const _0xfdee72={_0x118bb5:0x8b,_0x177a6a:0x9b},_0x4b1069=_0x12d569;let _0x1c99fc=_0x2bb2f5;_0x2bb2f5&&_0x2bb2f5[_0x4b1069(_0xfdee72._0x118bb5)]&&(_0x1c99fc=_0x2bb2f5['get']()),this[_0x4b1069(_0xfdee72._0x177a6a)]['add'](_0x1c99fc),this[_0x4b1069(0x9a)]({'options':_0x2b058b});}['getData'](){return this['dataSet'];}['removeData'](_0x2fefb7){const _0x3d1731=_0x12d569;if(this['dataSet']){const _0x16f69e=this['dataSet'][_0x3d1731(0x8b)]({'filter':function(_0x223a9a){return _0x2fefb7==null||typeof _0x2fefb7!=='function'||!_0x2fefb7(_0x223a9a);}});this[_0x3d1731(0x9b)]['set'](_0x16f69e),this['update']({'options':null});}}['clearData'](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){const _0x2c8836=_0x12d569;this[_0x2c8836(0xd8)][_0x2c8836(0xd0)]();}['clear'](_0x7ad3e9){const _0xc082b5={_0x1322ba:0xac},_0xb11299=_0x12d569;_0x7ad3e9&&_0x7ad3e9[_0xb11299(0x93)]&&_0x7ad3e9['clearRect'](0x0,0x0,_0x7ad3e9[_0xb11299(_0xc082b5._0x1322ba)]['width'],_0x7ad3e9['canvas']['height']);}['destroy'](){const _0x3b981c={_0x4fd5b2:0xa2,_0x16a051:0xd8},_0x1c4cd4=_0x12d569;this['clear'](this['getContext']()),this['clearData'](),this[_0x1c4cd4(0xb1)]&&this[_0x1c4cd4(0xb1)][_0x1c4cd4(_0x3b981c._0x4fd5b2)](),this[_0x1c4cd4(0xb1)]=null,this[_0x1c4cd4(_0x3b981c._0x16a051)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x107867,_0x26f67c,_0x2ef68d,_0x907815){const _0x3f10fa={_0x5dc7c3:0xc6},_0x36d9cd={_0x191222:0xad},_0x14dd7c=_0x12d569;_0x907815=_0x907815||'_coordinates',_0x2ef68d=_0x2ef68d||'coordinates';for(let _0x2052b9=0x0;_0x2052b9<_0x107867[_0x14dd7c(0xad)];_0x2052b9++){const _0x80d515=_0x107867[_0x2052b9]['geometry'],_0x17c4ad=_0x80d515[_0x2ef68d];switch(_0x80d515['type']){case'Point':{const _0x499a5e=_0x26f67c(_0x17c4ad);_0x499a5e?_0x80d515[_0x907815]=_0x499a5e:_0x80d515[_0x907815]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x419be4=[];for(let _0x97ab5c=0x0;_0x97ab5c<_0x17c4ad['length'];_0x97ab5c++){const _0x32295c=_0x26f67c(_0x17c4ad[_0x97ab5c]);_0x32295c&&_0x419be4['push'](_0x32295c);}_0x80d515[_0x907815]=_0x419be4;}break;case _0x14dd7c(_0x3f10fa._0x5dc7c3):case'Polygon':{const _0x310af6=_0x1aa99b(_0x17c4ad);_0x80d515[_0x907815]=_0x310af6;}break;case'MultiPolygon':{const _0x3ec448=[];for(let _0x5ebad6=0x0;_0x5ebad6<_0x17c4ad['length'];_0x5ebad6++){const _0x46ab35=_0x1aa99b(_0x17c4ad[_0x5ebad6]);_0x46ab35[_0x14dd7c(0xad)]>0x0&&_0x3ec448['push'](_0x46ab35);}_0x80d515[_0x907815]=_0x3ec448;}break;}}function _0x1aa99b(_0x572609){const _0x8025bf=_0x14dd7c,_0x1ed55e=[];for(let _0x577509=0x0;_0x577509<_0x572609['length'];_0x577509++){const _0x3e55db=_0x572609[_0x577509],_0x1a5baa=[];for(let _0x5d8e88=0x0;_0x5d8e88<_0x3e55db['length'];_0x5d8e88++){const _0x54c377=_0x26f67c(_0x3e55db[_0x5d8e88]);_0x54c377&&_0x1a5baa['push'](_0x54c377);}_0x1a5baa[_0x8025bf(_0x36d9cd._0x191222)]>0x0&&_0x1ed55e['push'](_0x1a5baa);}return _0x1ed55e;}return _0x107867;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x12d569(0x9c)],BaseLayer=mars3d__namespace['layer'][_0x12d569(0x92)];class MapVLayer extends BaseLayer{constructor(_0x883850,_0x4b7843){const _0x14f3ff=_0x12d569;super(_0x883850),this['_pointerEvents']=this[_0x14f3ff(0xab)]['pointerEvents'],this['dataSet']=_0x4b7843||new mapv__namespace[(_0x14f3ff(0xca))](_0x883850['data']),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x8f5313){const _0x41b7c8={_0x496e9e:0x99,_0x274271:0xac},_0x24745a=_0x12d569;this['_pointerEvents']=_0x8f5313,this['canvas']&&(_0x8f5313?this['canvas'][_0x24745a(_0x41b7c8._0x496e9e)]['pointerEvents']=_0x24745a(0x91):this[_0x24745a(_0x41b7c8._0x274271)]['style']['pointerEvents']='none');}['_showHook'](_0x5e1422){_0x5e1422?this['canvas']['style']['display']='block':this['canvas']['style']['display']='none';}['_mountedHook'](){const _0x25d0ca={_0x4d47e1:0x97},_0x40fd88=_0x12d569;this['_map']['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map'][_0x40fd88(_0x25d0ca._0x4d47e1)]['mapvAutoHeight']=this[_0x40fd88(0xab)]['clampToGround']??![],this['_map']['scene']['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x82bd0={_0xa28045:0xe1,_0x121a57:0x9d,_0x42df03:0xe4},_0x39e274=_0x12d569;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet'][_0x39e274(0xaa)]['length']===0x0)&&(this['dataSet']['_data']=[][_0x39e274(0xd3)](this[_0x39e274(0x9b)]['_dataCache'])),this[_0x39e274(0xc2)]=new MapVRenderer(this[_0x39e274(_0x82bd0._0xa28045)],this['dataSet'],this[_0x39e274(0xab)],this),this['initDevicePixelRatio'](),this['canvas']=this[_0x39e274(_0x82bd0._0x121a57)](),this['render']=this['render'][_0x39e274(_0x82bd0._0x42df03)](this),this['bindEvent'](),this[_0x39e274(0xc7)]();}['_removedHook'](){const _0x29eeb5={_0x4794f5:0xd4,_0x190e80:0x98},_0x50fb69=_0x12d569;this[_0x50fb69(_0x29eeb5._0x4794f5)](),this[_0x50fb69(0xc2)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x50fb69(_0x29eeb5._0x190e80)]['removeChild'](this[_0x50fb69(0xac)]);}['initDevicePixelRatio'](){const _0x4ae513={_0x20324a:0xd9},_0x51bc1f=_0x12d569;this['devicePixelRatio']=window[_0x51bc1f(_0x4ae513._0x20324a)]||0x1;}['bindEvent'](){const _0x261f6c={_0x3c43f8:0xe1,_0x12e647:0xae,_0x2611d5:0x88},_0x296dbc=_0x12d569;var _0x53975b,_0x264f23,_0x27108c,_0x4c3990;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x296dbc(0xd7)],this['_onMoveStartEvent'],this),this[_0x296dbc(_0x261f6c._0x3c43f8)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x53975b=this['options'])!==null&&_0x53975b!==void 0x0&&(_0x264f23=_0x53975b['methods'])!==null&&_0x264f23!==void 0x0&&_0x264f23['click']&&this[_0x296dbc(0xe1)]['on'](mars3d__namespace[_0x296dbc(_0x261f6c._0x12e647)]['click'],this['_onMapClick'],this),(_0x27108c=this['options'])!==null&&_0x27108c!==void 0x0&&(_0x4c3990=_0x27108c['methods'])!==null&&_0x4c3990!==void 0x0&&_0x4c3990['mousemove']&&this['_map']['on'](mars3d__namespace['EventType'][_0x296dbc(_0x261f6c._0x2611d5)],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x5ec209={_0x3cddea:0xe1,_0x38043b:0xae,_0x567f8e:0xcd,_0x5340a3:0xe1,_0x2ad1dc:0xae},_0x3b3ebf=_0x12d569;var _0x274529,_0x48303e,_0x25d7c6,_0x351500;this['_map'][_0x3b3ebf(0xcd)](mars3d__namespace[_0x3b3ebf(0xae)]['mouseDown'],this['_onMoveStartEvent'],this),this[_0x3b3ebf(_0x5ec209._0x3cddea)]['off'](mars3d__namespace[_0x3b3ebf(_0x5ec209._0x38043b)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x3b3ebf(0xe1)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this[_0x3b3ebf(0xe1)][_0x3b3ebf(_0x5ec209._0x567f8e)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x274529=this['options'])!==null&&_0x274529!==void 0x0&&(_0x48303e=_0x274529['methods'])!==null&&_0x48303e!==void 0x0&&_0x48303e['click']&&this[_0x3b3ebf(_0x5ec209._0x5340a3)]['off'](mars3d__namespace[_0x3b3ebf(_0x5ec209._0x2ad1dc)]['click'],this['_onMapClick'],this),(_0x25d7c6=this['options'])!==null&&_0x25d7c6!==void 0x0&&(_0x351500=_0x25d7c6['methods'])!==null&&_0x351500!==void 0x0&&_0x351500[_0x3b3ebf(0x8d)]&&this['_map'][_0x3b3ebf(0xcd)](mars3d__namespace['EventType']['mouseMove'],this[_0x3b3ebf(0xa4)],this);}['_onMoveStartEvent'](){const _0x57a64c={_0x50eadd:0xc2,_0x4da19a:0xe1,_0x3f6381:0xc7},_0x2cf6d3=_0x12d569;this['_mapVRenderer']&&(this[_0x2cf6d3(_0x57a64c._0x50eadd)]['animatorMovestartEvent'](),this[_0x2cf6d3(_0x57a64c._0x4da19a)]['off'](mars3d__namespace['EventType']['postRender'],this[_0x2cf6d3(_0x57a64c._0x3f6381)],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0xfc37a4={_0x583ac4:0xe1,_0x4413cc:0xbb,_0x29a3cc:0xc1},_0x256d1a=_0x12d569;this['_mapVRenderer']&&(this[_0x256d1a(_0xfc37a4._0x583ac4)]['off'](mars3d__namespace['EventType'][_0x256d1a(_0xfc37a4._0x4413cc)],this['_reset'],this),this['_mapVRenderer'][_0x256d1a(_0xfc37a4._0x29a3cc)](),this['_reset']());}['_setOptionsHook'](_0xd284a3,_0x8ece4b){this['_removedHook'](),this['_addedHook']();}['addData'](_0xa8782d){const _0x3fdbd4={_0x53003e:0xc2},_0x969570=_0x12d569;this['_mapVRenderer']&&this[_0x969570(_0x3fdbd4._0x53003e)][_0x969570(0x87)](_0xa8782d,this['options']);}['updateData'](_0x24704c){const _0x1d2f49={_0x518267:0xb3},_0x2bbf63=_0x12d569;this['_mapVRenderer']&&this['_mapVRenderer'][_0x2bbf63(_0x1d2f49._0x518267)](_0x24704c,this[_0x2bbf63(0xab)]);}[_0x12d569(0x94)](){const _0x55ecb8=_0x12d569;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer'][_0x55ecb8(0x94)]()),this['dataSet'];}['removeData'](_0xb64180){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0xb64180);}['removeAllData'](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x47b4c9={_0x2612a5:0xe1,_0x2a6800:0x99,_0x4e4a2d:0x85,_0x57a22b:0xb5,_0xb2276e:0xe1,_0x1414c5:0x99,_0x96d325:0x8e,_0x2c2057:0xd9},_0x3e6a43=_0x12d569,_0x5c7a7d=mars3d__namespace[_0x3e6a43(0x83)]['create'](_0x3e6a43(0xac),'mars3d-mapv',this[_0x3e6a43(_0x47b4c9._0x2612a5)][_0x3e6a43(0xaf)]);_0x5c7a7d['id']=this['id'],_0x5c7a7d[_0x3e6a43(0x99)]['position']='absolute',_0x5c7a7d['style']['top']='0px',_0x5c7a7d[_0x3e6a43(_0x47b4c9._0x2a6800)][_0x3e6a43(0xe2)]=_0x3e6a43(0xbe),_0x5c7a7d['width']=parseInt(this['_map']['canvas']['width']),_0x5c7a7d['height']=parseInt(this[_0x3e6a43(0xe1)]['canvas'][_0x3e6a43(_0x47b4c9._0x4e4a2d)]),_0x5c7a7d['style']['width']=this['_map']['canvas']['style'][_0x3e6a43(_0x47b4c9._0x57a22b)],_0x5c7a7d[_0x3e6a43(0x99)][_0x3e6a43(0x85)]=this[_0x3e6a43(_0x47b4c9._0xb2276e)][_0x3e6a43(0xac)][_0x3e6a43(_0x47b4c9._0x1414c5)][_0x3e6a43(0x85)],_0x5c7a7d['style'][_0x3e6a43(_0x47b4c9._0x96d325)]=this['_pointerEvents']?'auto':'none',_0x5c7a7d[_0x3e6a43(0x99)]['zIndex']=this['options']['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x5c99e7=this[_0x3e6a43(_0x47b4c9._0x2c2057)];_0x5c7a7d['getContext'](this[_0x3e6a43(0xab)]['context'])['scale'](_0x5c99e7,_0x5c99e7);}return _0x5c7a7d;}['_reset'](){this['resize'](),this['render']();}[_0x12d569(0xd0)](){const _0x559e7a=_0x12d569;this[_0x559e7a(0xc7)]();}['remove'](){const _0x4f1055={_0x4e5252:0xce},_0x486894=_0x12d569;this[_0x486894(0xc2)]&&(this['_mapVRenderer'][_0x486894(0xb8)](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x486894(_0x4f1055._0x4e5252)](this[_0x486894(0xac)]);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x390942={_0x4b3136:0x81,_0x585585:0xcf,_0x2e40a9:0x99,_0x5dd620:0xb5},_0x51b14b=_0x12d569;if(this['canvas']){const _0x19c8d1=this[_0x51b14b(0xac)];_0x19c8d1['style'][_0x51b14b(_0x390942._0x4b3136)]=_0x51b14b(_0x390942._0x585585),_0x19c8d1['style']['top']='0px',_0x19c8d1['style']['left']='0px',_0x19c8d1['width']=parseInt(this['_map']['canvas']['width']),_0x19c8d1['height']=parseInt(this['_map']['canvas']['height']),_0x19c8d1[_0x51b14b(_0x390942._0x2e40a9)][_0x51b14b(0xb5)]=this['_map']['canvas']['style'][_0x51b14b(_0x390942._0x5dd620)],_0x19c8d1['style']['height']=this[_0x51b14b(0xe1)]['canvas']['style']['height'];}}['getRectangle'](_0x50a920){const _0x260f80={_0x25fe78:0x9b,_0x17f534:0x8a},_0x67ac76=_0x12d569;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x2eaa2d=mars3d__namespace[_0x67ac76(0xcb)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0x67ac76(_0x260f80._0x25fe78)]['_data']});if(!_0x2eaa2d)return;return _0x50a920!==null&&_0x50a920!==void 0x0&&_0x50a920['isFormat']?_0x2eaa2d:Cesium['Rectangle']['fromDegrees'](_0x2eaa2d['xmin'],_0x2eaa2d['ymin'],_0x2eaa2d[_0x67ac76(_0x260f80._0x17f534)],_0x2eaa2d[_0x67ac76(0x86)]);}['_onMapClick'](_0x15b73f){const _0x238dd9={_0x381d64:0xc2,_0x269e45:0xb2},_0x110b26=_0x12d569;this[_0x110b26(0xd5)]=_0x15b73f,this[_0x110b26(_0x238dd9._0x381d64)]&&this[_0x110b26(0xc2)][_0x110b26(_0x238dd9._0x269e45)](_0x15b73f['windowPosition'],_0x15b73f);}[_0x12d569(0xa4)](_0x407ed2){const _0x49afea=_0x12d569;this[_0x49afea(0xd5)]=_0x407ed2,this['_mapVRenderer']&&this['_mapVRenderer']['mousemoveEvent'](_0x407ed2[_0x49afea(0xa9)],_0x407ed2);}['on'](_0x98bbe0,_0x243bcc,_0x5f1c9f){const _0x1c9dd8={_0x7343f6:0xd5},_0x5cd427=_0x12d569;this['options']['methods']=this['options']['methods']||{};if(_0x98bbe0===mars3d__namespace[_0x5cd427(0xae)]['click'])this['options']['methods']['click']=_0x555780=>{const _0x261327=_0x5cd427;_0x555780&&_0x243bcc['bind'](_0x5f1c9f)({...this[_0x261327(_0x1c9dd8._0x7343f6)],'layer':this,'data':_0x555780});},this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x98bbe0===mars3d__namespace[_0x5cd427(0xae)]['mouseMove']&&(this['options'][_0x5cd427(0xc0)]['mousemove']=_0x105afe=>{_0x105afe&&_0x243bcc['bind'](_0x5f1c9f)({...this['_cache_event'],'layer':this,'data':_0x105afe});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x31c03a,_0x59f406){const _0xb60631={_0x4bd27c:0xab,_0x36ba94:0x88,_0x2c8427:0xe1,_0x1f8d01:0xcd,_0x5cedd0:0xa4},_0x38f0f0=_0x12d569;if(_0x31c03a==='click'){var _0x3b99c2;this['_map'][_0x38f0f0(0xcd)](_0x31c03a,this['_onMapClick'],this),(_0x3b99c2=this['options']['methods'])!==null&&_0x3b99c2!==void 0x0&&_0x3b99c2['mousemove']&&delete this[_0x38f0f0(_0xb60631._0x4bd27c)]['methods']['click'];}else{if(_0x31c03a===_0x38f0f0(_0xb60631._0x36ba94)){var _0x17189c;this[_0x38f0f0(_0xb60631._0x2c8427)][_0x38f0f0(_0xb60631._0x1f8d01)](_0x31c03a,this[_0x38f0f0(_0xb60631._0x5cedd0)],this),(_0x17189c=this['options']['methods'])!==null&&_0x17189c!==void 0x0&&_0x17189c['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil'][_0x12d569(0xd6)]('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace[_0x12d569(0xe0)]=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x54134b){if(_0x54134b!=='default'&&!exports['hasOwnProperty'](_0x54134b))Object['defineProperty'](exports,_0x54134b,{'enumerable':!![],'get':function(){return mapv[_0x54134b];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
