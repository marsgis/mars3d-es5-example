/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.16
 * 编译日期：2023-12-10 22:08:48
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x415d20=_0x52f9;(function(_0x5d86e8,_0x2bae3f){const _0x5971ad={_0x586ca5:0x149,_0x5edbb1:0x11a},_0x153f55=_0x52f9,_0x46736f=_0x5d86e8();while(!![]){try{const _0x2ed13f=parseInt(_0x153f55(0x136))/0x1+parseInt(_0x153f55(_0x5971ad._0x586ca5))/0x2*(parseInt(_0x153f55(0x139))/0x3)+-parseInt(_0x153f55(0x16e))/0x4+parseInt(_0x153f55(0x13a))/0x5+-parseInt(_0x153f55(0x127))/0x6+parseInt(_0x153f55(_0x5971ad._0x5edbb1))/0x7*(parseInt(_0x153f55(0x128))/0x8)+-parseInt(_0x153f55(0x13e))/0x9;if(_0x2ed13f===_0x2bae3f)break;else _0x46736f['push'](_0x46736f['shift']());}catch(_0x1083ad){_0x46736f['push'](_0x46736f['shift']());}}}(_0x456a,0x5a018));function _interopNamespace(_0x3cc6ce){const _0x21b790=_0x52f9;if(_0x3cc6ce&&_0x3cc6ce['__esModule'])return _0x3cc6ce;var _0x30a7eb=Object[_0x21b790(0x137)](null);return _0x3cc6ce&&Object['keys'](_0x3cc6ce)['forEach'](function(_0x58bdba){const _0x3ed97b=_0x21b790;if(_0x58bdba!=='default'){var _0xe0ded1=Object[_0x3ed97b(0x138)](_0x3cc6ce,_0x58bdba);Object['defineProperty'](_0x30a7eb,_0x58bdba,_0xe0ded1[_0x3ed97b(0x14b)]?_0xe0ded1:{'enumerable':!![],'get':function(){return _0x3cc6ce[_0x58bdba];}});}}),_0x30a7eb['default']=_0x3cc6ce,_0x30a7eb;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x54c7ab,_0x5b1e72,_0x1c5195,_0x47ad07){const _0x29a839={_0x3bb86b:0x113},_0x3e2551=_0x52f9;super(_0x54c7ab,_0x5b1e72,_0x1c5195);if(!BaseLayer$1)return;this['map']=_0x54c7ab,this['scene']=_0x54c7ab['scene'],this['dataSet']=_0x5b1e72,_0x1c5195=_0x1c5195||{},this['init'](_0x1c5195),this['argCheck'](_0x1c5195),this['initDevicePixelRatio'](),this['canvasLayer']=_0x47ad07,this['stopAniamation']=!0x1,this['animation']=_0x1c5195[_0x3e2551(_0x29a839._0x3bb86b)];}[_0x415d20(0x11b)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x56eb16={_0xda421:0x162},_0x25f5d2=_0x415d20,_0x41439b=this['options']['animation'];this['isEnabledTime']()&&this[_0x25f5d2(_0x56eb16._0xda421)]&&(this['steps']['step']=_0x41439b['stepsRange']['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){return this['canvasLayer']['canvas']['getContext'](this['context']);}['init'](_0x413cec){const _0x109e8a={_0x50cbe9:0x131,_0x5e9fb3:0x119,_0xd660f0:0x167,_0xda0f06:0x163},_0x167459=_0x415d20;this[_0x167459(0x163)]=_0x413cec,this['initDataRange'](_0x413cec),this['context']=this['options'][_0x167459(_0x109e8a._0x50cbe9)]||'2d',Cesium$1['defined'](this[_0x167459(0x163)]['zIndex'])&&this[_0x167459(_0x109e8a._0x5e9fb3)]&&this['canvasLayer']['setZIndex']&&this['canvasLayer'][_0x167459(_0x109e8a._0xd660f0)](this[_0x167459(_0x109e8a._0xda0f06)]['zIndex']),this['initAnimator']();}[_0x415d20(0x10e)](_0x4ecc06){const _0x3eefde={_0x1efa9f:0x163,_0x4b1335:0x113,_0x48c1c0:0x168,_0xcfb283:0x156,_0x36b914:0x107,_0x456998:0x160,_0x3c08d3:0x168,_0x6ab546:0x163,_0x36a87e:0x13d,_0x417224:0x147,_0x54b555:0x11f,_0x332c9c:0x163},_0x2607a1={_0x32c584:0x12a},_0x36ebd4={_0x344f5e:0x13c,_0x30dd62:0x147},_0x3e190b=_0x415d20,_0x5dc11a=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x36effd=this[_0x3e190b(_0x3eefde._0x1efa9f)][_0x3e190b(_0x3eefde._0x4b1335)],_0x1c2a4c=this[_0x3e190b(0x146)]();if(this[_0x3e190b(0x157)]()){if(void 0x0===_0x4ecc06)return void this[_0x3e190b(_0x3eefde._0x48c1c0)](_0x1c2a4c);this['context']==='2d'&&(_0x1c2a4c[_0x3e190b(_0x3eefde._0xcfb283)](),_0x1c2a4c[_0x3e190b(_0x3eefde._0x36b914)]='destination-out',_0x1c2a4c['fillStyle']=_0x3e190b(0x10b),_0x1c2a4c['fillRect'](0x0,0x0,_0x1c2a4c['canvas']['width'],_0x1c2a4c[_0x3e190b(_0x3eefde._0x456998)]['height']),_0x1c2a4c['restore']());}else this[_0x3e190b(_0x3eefde._0x3c08d3)](_0x1c2a4c);if(this['context']==='2d')for(const _0x17c66b in this[_0x3e190b(0x163)]){_0x1c2a4c[_0x17c66b]=this[_0x3e190b(0x163)][_0x17c66b];}else _0x1c2a4c['clear'](_0x1c2a4c[_0x3e190b(0x150)]);const _0x4f20e6={'transferCoordinate':function(_0x273bc0){const _0x2b6fd1=_0x3e190b,_0x716b55=null;let _0x194ea7=_0x5dc11a[_0x2b6fd1(0x161)];_0x5dc11a['mapvAutoHeight']&&(_0x194ea7=_0x5dc11a['globe']['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x273bc0[0x0],_0x273bc0[0x1])));const _0x7806f=Cesium$1[_0x2b6fd1(_0x36ebd4._0x344f5e)]['fromDegrees'](_0x273bc0[0x0],_0x273bc0[0x1],_0x194ea7);if(!_0x7806f)return _0x716b55;const _0x42b6a1=_0x5dc11a[_0x2b6fd1(_0x36ebd4._0x30dd62)](_0x7806f);if(!_0x42b6a1)return _0x716b55;if(_0x5dc11a['mapvDepthTest']&&_0x5dc11a[_0x2b6fd1(0x124)]===Cesium$1[_0x2b6fd1(0x159)]['SCENE3D']){const _0x2cf17b=new Cesium$1['EllipsoidalOccluder'](_0x5dc11a['globe']['ellipsoid'],_0x5dc11a['camera']['positionWC']),_0x46af37=_0x2cf17b['isPointVisible'](_0x7806f);if(!_0x46af37)return _0x716b55;}return[_0x42b6a1['x'],_0x42b6a1['y']];}};void 0x0!==_0x4ecc06&&(_0x4f20e6['filter']=function(_0x20edf2){const _0x1c42e1=_0x3e190b,_0xbc5f95=_0x36effd[_0x1c42e1(0x152)]||0xa;return!!(_0x4ecc06&&_0x20edf2['time']>_0x4ecc06-_0xbc5f95&&_0x20edf2[_0x1c42e1(_0x2607a1._0x32c584)]<_0x4ecc06);});const _0x57d466=this['dataSet']['get'](_0x4f20e6);this[_0x3e190b(0x132)](_0x57d466),this[_0x3e190b(_0x3eefde._0x1efa9f)]['unit']==='m'&&this['options'][_0x3e190b(0x114)],this[_0x3e190b(_0x3eefde._0x6ab546)][_0x3e190b(_0x3eefde._0x36a87e)]=this['options'][_0x3e190b(0x114)];const _0x337168=_0x5dc11a[_0x3e190b(_0x3eefde._0x417224)](Cesium$1['Cartesian3'][_0x3e190b(_0x3eefde._0x54b555)](0x0,0x0));if(!_0x337168)return;this['drawContext'](_0x1c2a4c,new mapv__namespace['DataSet'](_0x57d466),this['options'],_0x337168),this[_0x3e190b(_0x3eefde._0x332c9c)]['updateCallback']&&this[_0x3e190b(0x163)]['updateCallback'](_0x4ecc06);}}['updateData'](_0x452ba2,_0xf2e7ba){const _0x73029e={_0x115303:0x14b},_0x39c400=_0x415d20;let _0x6b3b6e=_0x452ba2;_0x6b3b6e&&_0x6b3b6e[_0x39c400(_0x73029e._0x115303)]&&(_0x6b3b6e=_0x6b3b6e['get']()),void 0x0!==_0x6b3b6e&&this['dataSet']['set'](_0x6b3b6e),super['update']({'options':_0xf2e7ba});}['addData'](_0x11dac5,_0x34d921){const _0x3f3d62={_0x55b678:0x105},_0x24f0f2=_0x415d20;let _0x186978=_0x11dac5;_0x11dac5&&_0x11dac5['get']&&(_0x186978=_0x11dac5[_0x24f0f2(0x14b)]()),this['dataSet'][_0x24f0f2(_0x3f3d62._0x55b678)](_0x186978),this['update']({'options':_0x34d921});}['getData'](){return this['dataSet'];}[_0x415d20(0x148)](_0x2b3468){const _0x560421={_0x2ecb9b:0x123},_0x1304bc={_0x17d40f:0x10d},_0x17f994=_0x415d20;if(this[_0x17f994(_0x560421._0x2ecb9b)]){const _0x5f1ccd=this['dataSet']['get']({'filter':function(_0x5e642c){const _0x48b9b3=_0x17f994;return _0x2b3468==null||typeof _0x2b3468!==_0x48b9b3(_0x1304bc._0x17d40f)||!_0x2b3468(_0x5e642c);}});this['dataSet']['set'](_0x5f1ccd),this['update']({'options':null});}}['clearData'](){const _0x459a86={_0x2d5a3a:0x129},_0xc0f8c1=_0x415d20;this['dataSet']&&this['dataSet']['clear'](),this[_0xc0f8c1(_0x459a86._0x2d5a3a)]({'options':null});}[_0x415d20(0x14e)](){const _0x4ce267={_0x1ca7cf:0x119},_0xc6b78f=_0x415d20;this[_0xc6b78f(_0x4ce267._0x1ca7cf)]['draw']();}[_0x415d20(0x168)](_0x1bf9fa){const _0x2d7dc6={_0x115982:0x116},_0xdf7248=_0x415d20;_0x1bf9fa&&_0x1bf9fa[_0xdf7248(_0x2d7dc6._0x115982)]&&_0x1bf9fa['clearRect'](0x0,0x0,_0x1bf9fa['canvas']['width'],_0x1bf9fa['canvas']['height']);}[_0x415d20(0x13f)](){const _0x2f270f={_0x329da2:0x162},_0x211e84=_0x415d20;this['clear'](this['getContext']()),this['clearData'](),this['animator']&&this[_0x211e84(_0x2f270f._0x329da2)]['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x415d20(0x145)])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0xd7dd31,_0x3d8038,_0x282801,_0x5153cd){const _0xa331e7={_0x4e77d3:0x135},_0x5b502a=_0x415d20;_0x5153cd=_0x5153cd||'_coordinates',_0x282801=_0x282801||'coordinates';for(let _0x30afbb=0x0;_0x30afbb<_0xd7dd31['length'];_0x30afbb++){const _0x573ff1=_0xd7dd31[_0x30afbb]['geometry'],_0x44cc05=_0x573ff1[_0x282801];switch(_0x573ff1['type']){case'Point':{const _0x45179a=_0x3d8038(_0x44cc05);_0x45179a?_0x573ff1[_0x5153cd]=_0x45179a:_0x573ff1[_0x5153cd]=[-0x3e7,-0x3e7];}break;case _0x5b502a(_0xa331e7._0x4e77d3):{const _0x2ff445=[];for(let _0x56b7d7=0x0;_0x56b7d7<_0x44cc05['length'];_0x56b7d7++){const _0x2c2d0f=_0x3d8038(_0x44cc05[_0x56b7d7]);_0x2c2d0f&&_0x2ff445['push'](_0x2c2d0f);}_0x573ff1[_0x5153cd]=_0x2ff445;}break;case'MultiLineString':case _0x5b502a(0x15b):{const _0x58d2da=_0xdb7909(_0x44cc05);_0x573ff1[_0x5153cd]=_0x58d2da;}break;case'MultiPolygon':{const _0x24b783=[];for(let _0x50c647=0x0;_0x50c647<_0x44cc05['length'];_0x50c647++){const _0x4f4023=_0xdb7909(_0x44cc05[_0x50c647]);_0x4f4023[_0x5b502a(0x140)]>0x0&&_0x24b783[_0x5b502a(0x130)](_0x4f4023);}_0x573ff1[_0x5153cd]=_0x24b783;}break;}}function _0xdb7909(_0x62ff12){const _0x2e78e9=_0x5b502a,_0x55efd6=[];for(let _0x185e93=0x0;_0x185e93<_0x62ff12['length'];_0x185e93++){const _0x3ccda0=_0x62ff12[_0x185e93],_0x37d1b8=[];for(let _0x50ee46=0x0;_0x50ee46<_0x3ccda0['length'];_0x50ee46++){const _0x5d2a3c=_0x3d8038(_0x3ccda0[_0x50ee46]);_0x5d2a3c&&_0x37d1b8[_0x2e78e9(0x130)](_0x5d2a3c);}_0x37d1b8[_0x2e78e9(0x140)]>0x0&&_0x55efd6['push'](_0x37d1b8);}return _0x55efd6;}return _0xd7dd31;};else throw new Error('请引入\x20mapv\x20库\x20');function _0x456a(){const _0x480195=['2814jXTuGt','initDevicePixelRatio','render','__esModule','_map','fromDegrees','removeChild','_data','_removedHook','dataSet','mode','_addedHook','ymin','1583556CGXerJ','10888BcQIQE','update','time','_onMapMouseMove','_reset','none','isFormat','DomUtil','push','context','processData','Cesium','top','LineString','73899FnHOUN','create','getOwnPropertyDescriptor','147897VfeQFE','2663455tZCGtQ','_mapVRenderer','Cartesian3','_size','7821459NjuUHO','destroy','length','remove','default','pointerEvents','click','DataSet','getContext','cartesianToCanvasCoordinates','removeData','26eWrOfz','postRender','get','keys','auto','draw','animatorMoveendEvent','COLOR_BUFFER_BIT','width','trails','_onMoveEndEvent','depthTest','_dataCache','save','isEnabledTime','cameraMoveEnd','SceneMode','style','Polygon','fixedHeight','devicePixelRatio','_createCanvas','scene','canvas','mapvFixedHeight','animator','options','_onMapClick','position','mouseMove','setZIndex','clear','Rectangle','getRectangle','_cache_event','methods','EventType','1171832HWeJFB','left','Util','clearData','add','scale','globalCompositeOperation','height','mapv','mousemove','rgba(0,\x200,\x200,\x20.1)','hasOwnProperty','function','_canvasUpdate','mouseDown','_pointerEvents','all','_onMoveStartEvent','animation','size','zIndex','clearRect','bind','removeAllData','canvasLayer'];_0x456a=function(){return _0x480195;};return _0x456a();}const Cesium=mars3d__namespace[_0x415d20(0x133)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x33281a,_0x15dc2f){const _0x54fc05={_0xcfe049:0x110},_0xbbb7ad=_0x415d20;super(_0x33281a),this[_0xbbb7ad(_0x54fc05._0xcfe049)]=this[_0xbbb7ad(0x163)]['pointerEvents'],this['dataSet']=_0x15dc2f||new mapv__namespace['DataSet'](_0x33281a['data']),this['canvas']=null;}get[_0x415d20(0x143)](){const _0x13b60a={_0x37c3d0:0x110},_0x4908d4=_0x415d20;return this[_0x4908d4(_0x13b60a._0x37c3d0)];}set['pointerEvents'](_0x8ac5eb){const _0x211723={_0x438a00:0x110,_0x200e44:0x160,_0x36249e:0x143},_0x5c68dc=_0x415d20;this[_0x5c68dc(_0x211723._0x438a00)]=_0x8ac5eb,this['canvas']&&(_0x8ac5eb?this[_0x5c68dc(_0x211723._0x200e44)]['style']['pointerEvents']=_0x5c68dc(0x111):this['canvas']['style'][_0x5c68dc(_0x211723._0x36249e)]='none');}['_showHook'](_0x1f2fbd){const _0x3a67bf=_0x415d20;_0x1f2fbd?this[_0x3a67bf(0x160)]['style']['display']='block':this['canvas']['style']['display']='none';}['_mountedHook'](){const _0x2599b1={_0x45ef18:0x163,_0x564b08:0x15f},_0x2fdb79=_0x415d20;this[_0x2fdb79(0x11e)]['scene']['mapvDepthTest']=this[_0x2fdb79(_0x2599b1._0x45ef18)][_0x2fdb79(0x154)]??!![],this['_map'][_0x2fdb79(_0x2599b1._0x564b08)]['mapvAutoHeight']=this['options']['clampToGround']??![],this['_map']['scene']['mapvFixedHeight']=this['options'][_0x2fdb79(0x15c)]??0x0;}['_addedHook'](){const _0x3890e9={_0x4fb1dd:0x155,_0x4d2f7c:0x163,_0x337faf:0x160},_0x473950=_0x415d20;this[_0x473950(0x123)]&&(!this[_0x473950(0x123)][_0x473950(0x121)]||this['dataSet']['_data']['length']===0x0)&&(this['dataSet'][_0x473950(0x121)]=[]['concat'](this['dataSet'][_0x473950(_0x3890e9._0x4fb1dd)])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this[_0x473950(_0x3890e9._0x4d2f7c)],this),this['initDevicePixelRatio'](),this[_0x473950(_0x3890e9._0x337faf)]=this['_createCanvas'](),this['render']=this['render'][_0x473950(0x117)](this),this['bindEvent'](),this[_0x473950(0x12c)]();}['_removedHook'](){this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x35ef1f={_0x4116b1:0x11e,_0x48142a:0x163},_0x1c500f=_0x415d20;var _0x584e0a,_0x5b86a0;this['_map']['on'](mars3d__namespace[_0x1c500f(0x16d)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x584e0a=this['options'])!==null&&_0x584e0a!==void 0x0&&(_0x584e0a=_0x584e0a['methods'])!==null&&_0x584e0a!==void 0x0&&_0x584e0a[_0x1c500f(0x144)]&&this[_0x1c500f(_0x35ef1f._0x4116b1)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x5b86a0=this[_0x1c500f(_0x35ef1f._0x48142a)])!==null&&_0x5b86a0!==void 0x0&&(_0x5b86a0=_0x5b86a0['methods'])!==null&&_0x5b86a0!==void 0x0&&_0x5b86a0['mousemove']&&this['_map']['on'](mars3d__namespace[_0x1c500f(0x16d)]['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x1bc799={_0x38c100:0x16d,_0x2fb826:0x11e,_0x13be7e:0x158,_0x5f0061:0x16c,_0x51bac1:0x144,_0x5905c0:0x10a},_0x28d5fc=_0x415d20;var _0x3d8b13,_0x558c58;this['_map']['off'](mars3d__namespace[_0x28d5fc(_0x1bc799._0x38c100)][_0x28d5fc(0x10f)],this[_0x28d5fc(0x112)],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x28d5fc(_0x1bc799._0x2fb826)]['off'](mars3d__namespace[_0x28d5fc(0x16d)][_0x28d5fc(_0x1bc799._0x13be7e)],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x3d8b13=this['options'])!==null&&_0x3d8b13!==void 0x0&&(_0x3d8b13=_0x3d8b13[_0x28d5fc(_0x1bc799._0x5f0061)])!==null&&_0x3d8b13!==void 0x0&&_0x3d8b13[_0x28d5fc(_0x1bc799._0x51bac1)]&&this['_map']['off'](mars3d__namespace[_0x28d5fc(0x16d)]['click'],this['_onMapClick'],this),(_0x558c58=this['options'])!==null&&_0x558c58!==void 0x0&&(_0x558c58=_0x558c58[_0x28d5fc(0x16c)])!==null&&_0x558c58!==void 0x0&&_0x558c58[_0x28d5fc(_0x1bc799._0x5905c0)]&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x28d5fc(0x12b)],this);}['_onMoveStartEvent'](){const _0x204c59={_0x1b34f6:0x16d,_0x19bc5d:0x14a},_0x4a8c59=_0x415d20;this['_mapVRenderer']&&(this[_0x4a8c59(0x13b)]['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace[_0x4a8c59(_0x204c59._0x1b34f6)][_0x4a8c59(_0x204c59._0x19bc5d)],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}[_0x415d20(0x153)](){const _0x3d6f43={_0x43be0b:0x16d,_0x3cba43:0x13b,_0x3351a1:0x14f},_0x108faf=_0x415d20;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace[_0x108faf(_0x3d6f43._0x43be0b)]['postRender'],this['_reset'],this),this[_0x108faf(_0x3d6f43._0x3cba43)][_0x108faf(_0x3d6f43._0x3351a1)](),this['_reset']());}['_setOptionsHook'](_0x42d1cd,_0x47002f){const _0x33b14b={_0x3365de:0x125},_0x437b22=_0x415d20;this[_0x437b22(0x122)](),this[_0x437b22(_0x33b14b._0x3365de)]();}['addData'](_0x273c42){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x273c42,this['options']);}['updateData'](_0x59053b){const _0x3034e6={_0x247be3:0x13b},_0x2d9c21=_0x415d20;this['_mapVRenderer']&&this[_0x2d9c21(_0x3034e6._0x247be3)]['updateData'](_0x59053b,this['options']);}['getData'](){const _0x5abd9a={_0x30e5c7:0x123},_0x4aeecf=_0x415d20;return this[_0x4aeecf(0x13b)]&&(this[_0x4aeecf(_0x5abd9a._0x30e5c7)]=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x348f06){const _0x206923=_0x415d20;this['_mapVRenderer']&&this[_0x206923(0x13b)]['removeData'](_0x348f06);}[_0x415d20(0x118)](){const _0x11339f={_0x25b37e:0x13b,_0x1ad439:0x104},_0x4f32c4=_0x415d20;this[_0x4f32c4(0x13b)]&&this[_0x4f32c4(_0x11339f._0x25b37e)][_0x4f32c4(_0x11339f._0x1ad439)]();}[_0x415d20(0x15e)](){const _0x3787a3={_0x3bcb12:0x137,_0x5c13b4:0x15a,_0x21c513:0x15a,_0x1dbed9:0x151,_0x32a806:0x11e,_0x5a4a25:0x14d,_0x1ba3b2:0x131,_0x3c63da:0x146,_0x1a4770:0x163},_0x37c9fb=_0x415d20,_0x4de2cd=mars3d__namespace[_0x37c9fb(0x12f)][_0x37c9fb(_0x3787a3._0x3bcb12)](_0x37c9fb(0x160),'mars3d-mapv',this['_map']['container']);_0x4de2cd['id']=this['id'],_0x4de2cd[_0x37c9fb(_0x3787a3._0x5c13b4)][_0x37c9fb(0x165)]='absolute',_0x4de2cd[_0x37c9fb(0x15a)][_0x37c9fb(0x134)]='0px',_0x4de2cd[_0x37c9fb(_0x3787a3._0x21c513)]['left']='0px',_0x4de2cd['width']=parseInt(this['_map']['canvas'][_0x37c9fb(_0x3787a3._0x1dbed9)]),_0x4de2cd['height']=parseInt(this['_map']['canvas']['height']),_0x4de2cd['style']['width']=this[_0x37c9fb(_0x3787a3._0x32a806)]['canvas']['style']['width'],_0x4de2cd['style']['height']=this[_0x37c9fb(_0x3787a3._0x32a806)]['canvas'][_0x37c9fb(_0x3787a3._0x5c13b4)]['height'],_0x4de2cd['style']['pointerEvents']=this['_pointerEvents']?_0x37c9fb(_0x3787a3._0x5a4a25):_0x37c9fb(0x12d),_0x4de2cd['style'][_0x37c9fb(0x115)]=this['options']['zIndex']??0x9;if(this['options'][_0x37c9fb(_0x3787a3._0x1ba3b2)]==='2d'){const _0x296dbe=this[_0x37c9fb(0x15d)];_0x4de2cd[_0x37c9fb(_0x3787a3._0x3c63da)](this[_0x37c9fb(_0x3787a3._0x1a4770)]['context'])[_0x37c9fb(0x106)](_0x296dbe,_0x296dbe);}return _0x4de2cd;}[_0x415d20(0x12c)](){const _0x319f1f={_0x3bea03:0x11c},_0x5eb88e=_0x415d20;this['resize'](),this[_0x5eb88e(_0x319f1f._0x3bea03)]();}['draw'](){this['_reset']();}[_0x415d20(0x141)](){const _0x3db9a3={_0x260d05:0x13f},_0x4c428b=_0x415d20;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x4c428b(_0x3db9a3._0x260d05)](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x4c428b(0x120)](this['canvas']);}['render'](){const _0x52bb98={_0x4630a7:0x13b},_0x4312fc=_0x415d20;this[_0x4312fc(_0x52bb98._0x4630a7)]['_canvasUpdate']();}['resize'](){const _0x41e0c0={_0x706a4c:0x134,_0x221ded:0x15a,_0x196b31:0x16f,_0x3e01c1:0x151,_0x5a2985:0x108,_0x4300aa:0x160},_0xbd6b51=_0x415d20;if(this[_0xbd6b51(0x160)]){const _0x777cbc=this['canvas'];_0x777cbc['style'][_0xbd6b51(0x165)]='absolute',_0x777cbc['style'][_0xbd6b51(_0x41e0c0._0x706a4c)]='0px',_0x777cbc[_0xbd6b51(_0x41e0c0._0x221ded)][_0xbd6b51(_0x41e0c0._0x196b31)]='0px',_0x777cbc[_0xbd6b51(_0x41e0c0._0x3e01c1)]=parseInt(this['_map']['canvas']['width']),_0x777cbc[_0xbd6b51(_0x41e0c0._0x5a2985)]=parseInt(this['_map']['canvas']['height']),_0x777cbc[_0xbd6b51(0x15a)]['width']=this['_map']['canvas'][_0xbd6b51(0x15a)]['width'],_0x777cbc['style']['height']=this['_map'][_0xbd6b51(_0x41e0c0._0x4300aa)]['style']['height'];}}[_0x415d20(0x16a)](_0x122519){const _0x3803a3={_0x11f4b4:0x123,_0x265e0b:0x103,_0x42aa0f:0x12e,_0x54873f:0x169},_0x9c486b=_0x415d20;if(!this[_0x9c486b(0x123)]||!this[_0x9c486b(_0x3803a3._0x11f4b4)]['_data'])return;const _0x47db09=mars3d__namespace[_0x9c486b(_0x3803a3._0x265e0b)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this[_0x9c486b(0x123)]['_data']});if(!_0x47db09)return;return _0x122519!==null&&_0x122519!==void 0x0&&_0x122519[_0x9c486b(_0x3803a3._0x42aa0f)]?_0x47db09:Cesium[_0x9c486b(_0x3803a3._0x54873f)]['fromDegrees'](_0x47db09['xmin'],_0x47db09[_0x9c486b(0x126)],_0x47db09['xmax'],_0x47db09['ymax']);}[_0x415d20(0x164)](_0x423424){const _0x548111=_0x415d20;this[_0x548111(0x16b)]=_0x423424,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x423424['windowPosition'],_0x423424);}['_onMapMouseMove'](_0x37cad8){const _0x17cd80=_0x415d20;this['_cache_event']=_0x37cad8,this['_mapVRenderer']&&this[_0x17cd80(0x13b)]['mousemoveEvent'](_0x37cad8['windowPosition'],_0x37cad8);}['on'](_0x50ced4,_0x18d67f,_0x1de950){const _0x171a6d={_0x5c6330:0x163,_0x4abd08:0x144,_0x2b23db:0x16d,_0x5c31d5:0x16c},_0x55e12b={_0xaafc1b:0x117},_0x19e787=_0x415d20;this['options']['methods']=this['options']['methods']||{};if(_0x50ced4===mars3d__namespace['EventType']['click'])this[_0x19e787(_0x171a6d._0x5c6330)]['methods']['click']=_0xc6de03=>{_0xc6de03&&_0x18d67f['bind'](_0x1de950)({...this['_cache_event'],'layer':this,'data':_0xc6de03});},this['_map']['on'](mars3d__namespace[_0x19e787(0x16d)][_0x19e787(_0x171a6d._0x4abd08)],this[_0x19e787(0x164)],this);else _0x50ced4===mars3d__namespace[_0x19e787(_0x171a6d._0x2b23db)]['mouseMove']&&(this['options'][_0x19e787(_0x171a6d._0x5c31d5)]['mousemove']=_0x4b75c0=>{const _0x2e04b9=_0x19e787;_0x4b75c0&&_0x18d67f[_0x2e04b9(_0x55e12b._0xaafc1b)](_0x1de950)({...this['_cache_event'],'layer':this,'data':_0x4b75c0});},this['_map']['on'](mars3d__namespace[_0x19e787(_0x171a6d._0x2b23db)]['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x2363e4,_0x25d0de){const _0x26253c={_0x50a0e0:0x164,_0x27a407:0x10a,_0x1a99f9:0x163,_0x47d83c:0x16c},_0xacc457=_0x415d20;if(_0x2363e4==='click'){var _0x41a967;this['_map']['off'](_0x2363e4,this[_0xacc457(_0x26253c._0x50a0e0)],this),(_0x41a967=this[_0xacc457(0x163)]['methods'])!==null&&_0x41a967!==void 0x0&&_0x41a967[_0xacc457(_0x26253c._0x27a407)]&&delete this[_0xacc457(_0x26253c._0x1a99f9)]['methods']['click'];}else{if(_0x2363e4===_0xacc457(0x166)){var _0x2c92bb;this['_map']['off'](_0x2363e4,this['_onMapMouseMove'],this),(_0x2c92bb=this['options']['methods'])!==null&&_0x2c92bb!==void 0x0&&_0x2c92bb['mousemove']&&delete this['options'][_0xacc457(_0x26253c._0x47d83c)]['mousemove'];}}return this;}}function _0x52f9(_0x1e2816,_0x372ce){const _0x456ab1=_0x456a();return _0x52f9=function(_0x52f9b5,_0x121402){_0x52f9b5=_0x52f9b5-0x103;let _0x32bbf2=_0x456ab1[_0x52f9b5];return _0x32bbf2;},_0x52f9(_0x1e2816,_0x372ce);}mars3d__namespace['LayerUtil']['register'](_0x415d20(0x109),MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace[_0x415d20(0x109)]=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x415d20(0x14c)](mapv)['forEach'](function(_0x4f9d02){const _0x303ca9={_0x4eb613:0x142},_0x741339=_0x415d20;if(_0x4f9d02!==_0x741339(_0x303ca9._0x4eb613)&&!exports[_0x741339(0x10c)](_0x4f9d02))Object['defineProperty'](exports,_0x4f9d02,{'enumerable':!![],'get':function(){return mapv[_0x4f9d02];}});}),Object['defineProperty'](exports,_0x415d20(0x11d),{'value':!![]});
}));
