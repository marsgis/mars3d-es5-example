/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.7.4
 * 编译日期：2024-02-20 13:37:33
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-01-15
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';function _0x3972(_0x3d1d72,_0x1b3376){const _0x5799cb=_0x5799();return _0x3972=function(_0x3972e1,_0xe27f26){_0x3972e1=_0x3972e1-0xac;let _0x1cea55=_0x5799cb[_0x3972e1];return _0x1cea55;},_0x3972(_0x3d1d72,_0x1b3376);}const _0x3c00aa=_0x3972;(function(_0x547153,_0x1952a9){const _0x365cc0={_0x3c9f18:0x108,_0x41994b:0xbd,_0x4f23f6:0xc1,_0x584c7e:0xf6,_0x99dc8:0x103,_0xdf4e0c:0xd1,_0x3ebad0:0xe3},_0x55eec4=_0x3972,_0x438acd=_0x547153();while(!![]){try{const _0x1f6a20=-parseInt(_0x55eec4(_0x365cc0._0x3c9f18))/0x1+parseInt(_0x55eec4(_0x365cc0._0x41994b))/0x2+-parseInt(_0x55eec4(_0x365cc0._0x4f23f6))/0x3+parseInt(_0x55eec4(_0x365cc0._0x584c7e))/0x4+parseInt(_0x55eec4(0xb7))/0x5+parseInt(_0x55eec4(_0x365cc0._0x99dc8))/0x6*(parseInt(_0x55eec4(_0x365cc0._0xdf4e0c))/0x7)+-parseInt(_0x55eec4(_0x365cc0._0x3ebad0))/0x8;if(_0x1f6a20===_0x1952a9)break;else _0x438acd['push'](_0x438acd['shift']());}catch(_0x3af109){_0x438acd['push'](_0x438acd['shift']());}}}(_0x5799,0x97c35));function _interopNamespace(_0x350b8e){if(_0x350b8e&&_0x350b8e['__esModule'])return _0x350b8e;var _0x2dea0a=Object['create'](null);return _0x350b8e&&Object['keys'](_0x350b8e)['forEach'](function(_0x430d64){if(_0x430d64!=='default'){var _0x25f5ec=Object['getOwnPropertyDescriptor'](_0x350b8e,_0x430d64);Object['defineProperty'](_0x2dea0a,_0x430d64,_0x25f5ec['get']?_0x25f5ec:{'enumerable':!![],'get':function(){return _0x350b8e[_0x430d64];}});}}),_0x2dea0a['default']=_0x350b8e,_0x2dea0a;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x3c00aa(0x10c)],baiduMapLayer=mapv__namespace?mapv__namespace[_0x3c00aa(0x10b)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x3c00aa(0xeb)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x4d682b,_0x1fe0a4,_0x58b8d4,_0x2ff680){const _0x50dce6=_0x3c00aa;super(_0x4d682b,_0x1fe0a4,_0x58b8d4);if(!BaseLayer$1)return;this['map']=_0x4d682b,this['scene']=_0x4d682b['scene'],this['dataSet']=_0x1fe0a4,_0x58b8d4=_0x58b8d4||{},this[_0x50dce6(0xf2)](_0x58b8d4),this['argCheck'](_0x58b8d4),this['initDevicePixelRatio'](),this['canvasLayer']=_0x2ff680,this['stopAniamation']=!0x1,this['animation']=_0x58b8d4['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x24eca8={_0x47de97:0xac,_0x3eeeb8:0xfe},_0x306a5f=_0x3c00aa,_0x19b36e=this[_0x306a5f(_0x24eca8._0x47de97)]['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps']['step']=_0x19b36e['stepsRange'][_0x306a5f(_0x24eca8._0x3eeeb8)]);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0xe56deb=_0x3c00aa;return this['canvasLayer'][_0xe56deb(0xcd)]['getContext'](this[_0xe56deb(0xea)]);}['init'](_0xab56ae){const _0x4f8689=_0x3c00aa;this['options']=_0xab56ae,this['initDataRange'](_0xab56ae),this['context']=this['options'][_0x4f8689(0xea)]||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this['canvasLayer']&&this['canvasLayer'][_0x4f8689(0xb6)]&&this['canvasLayer']['setZIndex'](this['options'][_0x4f8689(0xba)]),this[_0x4f8689(0xf1)]();}['_canvasUpdate'](_0x3f4261){const _0x563322={_0x402d86:0x106,_0x507488:0xb4,_0x1b14a2:0xcd,_0x5e5b0d:0xac,_0x538691:0xc0,_0x229da6:0xb9},_0x3e0111=_0x3c00aa,_0x2f9553=this['scene'];if(this[_0x3e0111(0xe8)]&&!this['stopAniamation']){const _0x1feed6=this['options']['animation'],_0x2e9070=this['getContext']();if(this[_0x3e0111(0xdd)]()){if(void 0x0===_0x3f4261)return void this[_0x3e0111(_0x563322._0x402d86)](_0x2e9070);this['context']==='2d'&&(_0x2e9070['save'](),_0x2e9070['globalCompositeOperation']='destination-out',_0x2e9070[_0x3e0111(_0x563322._0x507488)]='rgba(0,\x200,\x200,\x20.1)',_0x2e9070['fillRect'](0x0,0x0,_0x2e9070[_0x3e0111(0xcd)][_0x3e0111(0xfa)],_0x2e9070[_0x3e0111(_0x563322._0x1b14a2)][_0x3e0111(0xe0)]),_0x2e9070[_0x3e0111(0xd4)]());}else this['clear'](_0x2e9070);if(this['context']==='2d')for(const _0x1ae566 in this['options']){_0x2e9070[_0x1ae566]=this[_0x3e0111(_0x563322._0x5e5b0d)][_0x1ae566];}else _0x2e9070['clear'](_0x2e9070['COLOR_BUFFER_BIT']);const _0x44e707={'transferCoordinate':function(_0x31228e){const _0x2a3c40=_0x3e0111,_0x3e1774=null;let _0x4891a6=_0x2f9553['mapvFixedHeight'];_0x2f9553['mapvAutoHeight']&&(_0x4891a6=_0x2f9553['getHeight'](Cesium$1['Cartographic']['fromDegrees'](_0x31228e[0x0],_0x31228e[0x1])));const _0x537720=Cesium$1['Cartesian3']['fromDegrees'](_0x31228e[0x0],_0x31228e[0x1],_0x4891a6);if(!_0x537720)return _0x3e1774;const _0x1e610d=_0x2f9553['cartesianToCanvasCoordinates'](_0x537720);if(!_0x1e610d)return _0x3e1774;if(_0x2f9553['mapvDepthTest']&&_0x2f9553['mode']===Cesium$1['SceneMode'][_0x2a3c40(0xdf)]){const _0x14bb17=new Cesium$1['EllipsoidalOccluder'](_0x2f9553['globe'][_0x2a3c40(0xe6)],_0x2f9553['camera']['positionWC']),_0x5d7059=_0x14bb17['isPointVisible'](_0x537720);if(!_0x5d7059)return _0x3e1774;}return[_0x1e610d['x'],_0x1e610d['y']];}};void 0x0!==_0x3f4261&&(_0x44e707['filter']=function(_0x191f7c){const _0x17312c=_0x1feed6['trails']||0xa;return!!(_0x3f4261&&_0x191f7c['time']>_0x3f4261-_0x17312c&&_0x191f7c['time']<_0x3f4261);});const _0x38aea1=this['dataSet']['get'](_0x44e707);this['processData'](_0x38aea1),this['options']['unit']==='m'&&this['options'][_0x3e0111(0xd7)],this['options']['_size']=this[_0x3e0111(_0x563322._0x5e5b0d)]['size'];const _0x159371=_0x2f9553[_0x3e0111(_0x563322._0x538691)](Cesium$1[_0x3e0111(_0x563322._0x229da6)]['fromDegrees'](0x0,0x0));if(!_0x159371)return;this[_0x3e0111(0xf3)](_0x2e9070,new mapv__namespace['DataSet'](_0x38aea1),this['options'],_0x159371),this['options']['updateCallback']&&this['options']['updateCallback'](_0x3f4261);}}[_0x3c00aa(0xb8)](_0x46d5cf,_0x24110f){const _0x4cca81=_0x3c00aa;let _0x307b5a=_0x46d5cf;_0x307b5a&&_0x307b5a[_0x4cca81(0xb0)]&&(_0x307b5a=_0x307b5a[_0x4cca81(0xb0)]()),void 0x0!==_0x307b5a&&this['dataSet']['set'](_0x307b5a),super['update']({'options':_0x24110f});}['addData'](_0x44a6b5,_0xdb40df){const _0xbbef2b={_0x91000f:0xb0},_0x34cc93=_0x3c00aa;let _0x1f48f1=_0x44a6b5;_0x44a6b5&&_0x44a6b5['get']&&(_0x1f48f1=_0x44a6b5[_0x34cc93(_0xbbef2b._0x91000f)]()),this['dataSet']['add'](_0x1f48f1),this['update']({'options':_0xdb40df});}['getData'](){return this['dataSet'];}[_0x3c00aa(0x105)](_0x2c4498){if(this['dataSet']){const _0x4a4643=this['dataSet']['get']({'filter':function(_0x2a5fc8){return _0x2c4498==null||typeof _0x2c4498!=='function'||!_0x2c4498(_0x2a5fc8);}});this['dataSet']['set'](_0x4a4643),this['update']({'options':null});}}[_0x3c00aa(0xce)](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}['draw'](){const _0x1f14ba=_0x3c00aa;this['canvasLayer'][_0x1f14ba(0xaf)]();}['clear'](_0x1a05c2){const _0x1f97ff={_0x461cfd:0xe0},_0x1a3908=_0x3c00aa;_0x1a05c2&&_0x1a05c2['clearRect']&&_0x1a05c2['clearRect'](0x0,0x0,_0x1a05c2['canvas']['width'],_0x1a05c2['canvas'][_0x1a3908(_0x1f97ff._0x461cfd)]);}[_0x3c00aa(0xb2)](){const _0x98df15={_0xb83f3d:0x101,_0x58840b:0xc3},_0x379ee2=_0x3c00aa;this['clear'](this[_0x379ee2(_0x98df15._0xb83f3d)]()),this['clearData'](),this[_0x379ee2(0x107)]&&this['animator'][_0x379ee2(_0x98df15._0x58840b)](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x3c00aa(0xbe)])mapv__namespace['DataSet']['prototype'][_0x3c00aa(0xcc)]=function(_0x3d1b87,_0x196533,_0x1b87c8,_0xa79848){const _0x2b0d66={_0x38fede:0x102,_0x101e9d:0xdb,_0x4dc691:0xd5,_0x5b7da5:0xf8},_0xdbc29d={_0x38ade9:0xdb,_0x258984:0xd5},_0x67b2ca=_0x3c00aa;_0xa79848=_0xa79848||'_coordinates',_0x1b87c8=_0x1b87c8||_0x67b2ca(_0x2b0d66._0x38fede);for(let _0x158fbb=0x0;_0x158fbb<_0x3d1b87[_0x67b2ca(_0x2b0d66._0x101e9d)];_0x158fbb++){const _0x24be0b=_0x3d1b87[_0x158fbb]['geometry'],_0x117601=_0x24be0b[_0x1b87c8];switch(_0x24be0b['type']){case'Point':{const _0x3636ed=_0x196533(_0x117601);_0x3636ed?_0x24be0b[_0xa79848]=_0x3636ed:_0x24be0b[_0xa79848]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x3ba2d6=[];for(let _0x410c85=0x0;_0x410c85<_0x117601['length'];_0x410c85++){const _0xd04516=_0x196533(_0x117601[_0x410c85]);_0xd04516&&_0x3ba2d6[_0x67b2ca(_0x2b0d66._0x4dc691)](_0xd04516);}_0x24be0b[_0xa79848]=_0x3ba2d6;}break;case _0x67b2ca(_0x2b0d66._0x5b7da5):case'Polygon':{const _0x55ec3c=_0x1381e7(_0x117601);_0x24be0b[_0xa79848]=_0x55ec3c;}break;case'MultiPolygon':{const _0xa9c738=[];for(let _0x51cf5b=0x0;_0x51cf5b<_0x117601['length'];_0x51cf5b++){const _0x18e71b=_0x1381e7(_0x117601[_0x51cf5b]);_0x18e71b[_0x67b2ca(0xdb)]>0x0&&_0xa9c738['push'](_0x18e71b);}_0x24be0b[_0xa79848]=_0xa9c738;}break;}}function _0x1381e7(_0x34e25a){const _0xca639d=_0x67b2ca,_0x7488b1=[];for(let _0x7e7b11=0x0;_0x7e7b11<_0x34e25a[_0xca639d(_0xdbc29d._0x38ade9)];_0x7e7b11++){const _0x30761a=_0x34e25a[_0x7e7b11],_0x584720=[];for(let _0x1bdc6b=0x0;_0x1bdc6b<_0x30761a[_0xca639d(0xdb)];_0x1bdc6b++){const _0x546923=_0x196533(_0x30761a[_0x1bdc6b]);_0x546923&&_0x584720[_0xca639d(_0xdbc29d._0x258984)](_0x546923);}_0x584720[_0xca639d(0xdb)]>0x0&&_0x7488b1[_0xca639d(0xd5)](_0x584720);}return _0x7488b1;}return _0x3d1b87;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x4df8e3,_0x52c743){const _0x1a02f8={_0x3bb78c:0xcd},_0x5a411f=_0x3c00aa;super(_0x4df8e3),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x52c743||new mapv__namespace['DataSet'](_0x4df8e3[_0x5a411f(0xd0)]),this[_0x5a411f(_0x1a02f8._0x3bb78c)]=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x116da9){const _0x2cbe93={_0x4df8d8:0xc7},_0x54bac9=_0x3c00aa;this['_pointerEvents']=_0x116da9,this['canvas']&&(_0x116da9?this['canvas'][_0x54bac9(0xf9)]['pointerEvents']='all':this['canvas']['style']['pointerEvents']=_0x54bac9(_0x2cbe93._0x4df8d8));}['_showHook'](_0x303ed1){const _0x5de269={_0xb4bd61:0xf9,_0x4a48dc:0xed,_0x1f0ed1:0xc7},_0x1829f8=_0x3c00aa;_0x303ed1?this['canvas'][_0x1829f8(_0x5de269._0xb4bd61)]['display']='block':this['canvas']['style'][_0x1829f8(_0x5de269._0x4a48dc)]=_0x1829f8(_0x5de269._0x1f0ed1);}['_mountedHook'](){const _0x443bbe={_0x475e0b:0xb1,_0x5e0d37:0xd2,_0x5bd730:0xc6,_0x4cf53f:0xff,_0x318a2e:0xad,_0x581d11:0xc8,_0x484967:0x10a},_0x178573=_0x3c00aa;this['_map']['scene']['mapvDepthTest']=this['options'][_0x178573(_0x443bbe._0x475e0b)]??!![],this['_map']['scene'][_0x178573(_0x443bbe._0x5e0d37)]=this[_0x178573(0xac)][_0x178573(_0x443bbe._0x5bd730)]??![],this[_0x178573(_0x443bbe._0x4cf53f)][_0x178573(_0x443bbe._0x318a2e)][_0x178573(_0x443bbe._0x581d11)]=this['options'][_0x178573(_0x443bbe._0x484967)]??0x0;}['_addedHook'](){const _0x36f478={_0x2e16ff:0xf4,_0x2c7a83:0xc2,_0x1994da:0xe9,_0x2e0c2a:0xae},_0x332b43=_0x3c00aa;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this[_0x332b43(_0x36f478._0x2e16ff)]['_data']=[][_0x332b43(_0x36f478._0x2c7a83)](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this[_0x332b43(_0x36f478._0x1994da)](),this['render']=this[_0x332b43(0xec)]['bind'](this),this[_0x332b43(_0x36f478._0x2e0c2a)](),this['_reset']();}['_removedHook'](){const _0x21f30f={_0x5e63aa:0xfc,_0x435a50:0x109,_0x40f3b9:0xcd},_0x12443b=_0x3c00aa;this[_0x12443b(_0x21f30f._0x5e63aa)](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this[_0x12443b(0xd8)]=null),this['canvas'][_0x12443b(_0x21f30f._0x435a50)]['removeChild'](this[_0x12443b(_0x21f30f._0x40f3b9)]);}['initDevicePixelRatio'](){const _0x1c5bbf={_0x422953:0xcb},_0xaf1f3b=_0x3c00aa;this[_0xaf1f3b(0xcb)]=window[_0xaf1f3b(_0x1c5bbf._0x422953)]||0x1;}['bindEvent'](){const _0x535c9e={_0x34eab4:0xf5,_0x4d2834:0xac,_0x22bd3f:0xc4},_0x3e441e=_0x3c00aa;var _0x3cef6f,_0x54c126;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x3e441e(0xda)],this),this['_map']['on'](mars3d__namespace[_0x3e441e(_0x535c9e._0x34eab4)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x3cef6f=this['options'])!==null&&_0x3cef6f!==void 0x0&&(_0x3cef6f=_0x3cef6f['methods'])!==null&&_0x3cef6f!==void 0x0&&_0x3cef6f['click']&&this['_map']['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x54c126=this[_0x3e441e(_0x535c9e._0x4d2834)])!==null&&_0x54c126!==void 0x0&&(_0x54c126=_0x54c126['methods'])!==null&&_0x54c126!==void 0x0&&_0x54c126['mousemove']&&this['_map']['on'](mars3d__namespace[_0x3e441e(_0x535c9e._0x34eab4)][_0x3e441e(_0x535c9e._0x22bd3f)],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x3af04c={_0x4e1bde:0xf5,_0x4d7000:0xff,_0x3d3024:0xe5,_0xf5ada:0xcf},_0x42c315=_0x3c00aa;var _0x4c58f9,_0xd0cc9d;this['_map'][_0x42c315(0xe5)](mars3d__namespace[_0x42c315(_0x3af04c._0x4e1bde)]['mouseDown'],this['_onMoveStartEvent'],this),this[_0x42c315(_0x3af04c._0x4d7000)]['off'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x42c315(0xda)],this),this[_0x42c315(0xff)]['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x42c315(0xbc)],this),this[_0x42c315(0xff)]['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x4c58f9=this['options'])!==null&&_0x4c58f9!==void 0x0&&(_0x4c58f9=_0x4c58f9['methods'])!==null&&_0x4c58f9!==void 0x0&&_0x4c58f9[_0x42c315(0xbb)]&&this['_map'][_0x42c315(_0x3af04c._0x3d3024)](mars3d__namespace['EventType'][_0x42c315(0xbb)],this['_onMapClick'],this),(_0xd0cc9d=this['options'])!==null&&_0xd0cc9d!==void 0x0&&(_0xd0cc9d=_0xd0cc9d['methods'])!==null&&_0xd0cc9d!==void 0x0&&_0xd0cc9d['mousemove']&&this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x42c315(_0x3af04c._0xf5ada)],this);}[_0x3c00aa(0xda)](){const _0x9a1626=_0x3c00aa;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this[_0x9a1626(0xff)]['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}[_0x3c00aa(0xbc)](){const _0x40c244={_0x242865:0xe5,_0x3bbab1:0xc5},_0x62e662=_0x3c00aa;this['_mapVRenderer']&&(this[_0x62e662(0xff)][_0x62e662(_0x40c244._0x242865)](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_mapVRenderer'][_0x62e662(_0x40c244._0x3bbab1)](),this[_0x62e662(0xd3)]());}['_setOptionsHook'](_0x4f546d,_0x226dd8){this['_removedHook'](),this['_addedHook']();}['addData'](_0x54a7cf){const _0x50a3c8={_0x4beeb8:0xd8,_0x14ebe6:0xbf,_0x458c0b:0xac},_0x16166b=_0x3c00aa;this[_0x16166b(_0x50a3c8._0x4beeb8)]&&this['_mapVRenderer'][_0x16166b(_0x50a3c8._0x14ebe6)](_0x54a7cf,this[_0x16166b(_0x50a3c8._0x458c0b)]);}['updateData'](_0x52e1fd){const _0x325f95=_0x3c00aa;this[_0x325f95(0xd8)]&&this[_0x325f95(0xd8)]['updateData'](_0x52e1fd,this['options']);}['getData'](){return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this['dataSet'];}[_0x3c00aa(0x105)](_0x1ed2b0){const _0x18759a=_0x3c00aa;this['_mapVRenderer']&&this['_mapVRenderer'][_0x18759a(0x105)](_0x1ed2b0);}[_0x3c00aa(0x104)](){const _0x4b52d6={_0x5e84d4:0xd8},_0xbaeb88=_0x3c00aa;this[_0xbaeb88(_0x4b52d6._0x5e84d4)]&&this['_mapVRenderer']['clearData']();}[_0x3c00aa(0xe9)](){const _0x2a2350={_0x55f285:0xde,_0x4ab04b:0xf9,_0x443094:0xfa,_0x283dcc:0xe0,_0xb47d74:0xfb,_0x1fcea2:0xea},_0x50cba4=_0x3c00aa,_0x4ea461=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map']['container']);_0x4ea461['id']=this['id'],_0x4ea461['style'][_0x50cba4(_0x2a2350._0x55f285)]=_0x50cba4(0xe2),_0x4ea461[_0x50cba4(_0x2a2350._0x4ab04b)]['top']=_0x50cba4(0x100),_0x4ea461['style']['left']='0px',_0x4ea461['width']=parseInt(this[_0x50cba4(0xff)]['canvas']['width']),_0x4ea461[_0x50cba4(0xe0)]=parseInt(this['_map']['canvas']['height']),_0x4ea461['style']['width']=this['_map']['canvas'][_0x50cba4(0xf9)][_0x50cba4(_0x2a2350._0x443094)],_0x4ea461['style']['height']=this['_map'][_0x50cba4(0xcd)]['style'][_0x50cba4(_0x2a2350._0x283dcc)],_0x4ea461[_0x50cba4(0xf9)]['pointerEvents']=this['_pointerEvents']?_0x50cba4(_0x2a2350._0xb47d74):'none',_0x4ea461['style'][_0x50cba4(0xba)]=this['options']['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x44f218=this['devicePixelRatio'];_0x4ea461['getContext'](this['options'][_0x50cba4(_0x2a2350._0x1fcea2)])['scale'](_0x44f218,_0x44f218);}return _0x4ea461;}[_0x3c00aa(0xd3)](){this['resize'](),this['render']();}['draw'](){this['_reset']();}[_0x3c00aa(0xc9)](){const _0x18f3df=_0x3c00aa;this[_0x18f3df(0xd8)]&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this[_0x18f3df(0xcd)][_0x18f3df(0x109)]['removeChild'](this[_0x18f3df(0xcd)]);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}['resize'](){const _0x365cbe={_0x49916a:0x100,_0x23eeec:0xcd,_0x495b2c:0xfa,_0x3d60d2:0xcd},_0x3d0513=_0x3c00aa;if(this[_0x3d0513(0xcd)]){const _0x56b8f9=this['canvas'];_0x56b8f9['style']['position']=_0x3d0513(0xe2),_0x56b8f9['style']['top']=_0x3d0513(_0x365cbe._0x49916a),_0x56b8f9['style']['left']='0px',_0x56b8f9['width']=parseInt(this['_map'][_0x3d0513(_0x365cbe._0x23eeec)]['width']),_0x56b8f9['height']=parseInt(this['_map']['canvas'][_0x3d0513(0xe0)]),_0x56b8f9[_0x3d0513(0xf9)][_0x3d0513(_0x365cbe._0x495b2c)]=this['_map']['canvas'][_0x3d0513(0xf9)]['width'],_0x56b8f9['style'][_0x3d0513(0xe0)]=this['_map'][_0x3d0513(_0x365cbe._0x3d60d2)]['style']['height'];}}['getRectangle'](_0x378b50){const _0xcb8b85={_0x2acbe7:0xef,_0x3ab202:0xee},_0x5724f5=_0x3c00aa;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x5f153c=mars3d__namespace[_0x5724f5(_0xcb8b85._0x2acbe7)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x5f153c)return;return _0x378b50!==null&&_0x378b50!==void 0x0&&_0x378b50['isFormat']?_0x5f153c:Cesium[_0x5724f5(_0xcb8b85._0x3ab202)][_0x5724f5(0xd6)](_0x5f153c['xmin'],_0x5f153c['ymin'],_0x5f153c['xmax'],_0x5f153c['ymax']);}[_0x3c00aa(0xd9)](_0x14bb70){const _0x293707=_0x3c00aa;this['_cache_event']=_0x14bb70,this[_0x293707(0xd8)]&&this['_mapVRenderer'][_0x293707(0xe7)](_0x14bb70[_0x293707(0xfd)],_0x14bb70);}['_onMapMouseMove'](_0x42428c){const _0x519993={_0x384679:0xd8},_0x2767d4=_0x3c00aa;this['_cache_event']=_0x42428c,this['_mapVRenderer']&&this[_0x2767d4(_0x519993._0x384679)]['mousemoveEvent'](_0x42428c['windowPosition'],_0x42428c);}['on'](_0x58c9e9,_0x829e4c,_0x41a151){const _0x4481de=_0x3c00aa;this['options']['methods']=this['options']['methods']||{};if(_0x58c9e9===mars3d__namespace['EventType']['click'])this['options'][_0x4481de(0xf7)]['click']=_0x3c935a=>{_0x3c935a&&_0x829e4c['bind'](_0x41a151)({...this['_cache_event'],'layer':this,'data':_0x3c935a});},this['_map']['on'](mars3d__namespace['EventType'][_0x4481de(0xbb)],this[_0x4481de(0xd9)],this);else _0x58c9e9===mars3d__namespace['EventType']['mouseMove']&&(this['options']['methods']['mousemove']=_0x3807b1=>{_0x3807b1&&_0x829e4c['bind'](_0x41a151)({...this['_cache_event'],'layer':this,'data':_0x3807b1});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x15e5f6,_0x4a461f){const _0x187035={_0x19160d:0xe5,_0x15f3c3:0xf7},_0x27ae8f=_0x3c00aa;if(_0x15e5f6==='click'){var _0x52eb92;this['_map'][_0x27ae8f(_0x187035._0x19160d)](_0x15e5f6,this['_onMapClick'],this),(_0x52eb92=this[_0x27ae8f(0xac)]['methods'])!==null&&_0x52eb92!==void 0x0&&_0x52eb92[_0x27ae8f(0xca)]&&delete this['options'][_0x27ae8f(_0x187035._0x15f3c3)][_0x27ae8f(0xbb)];}else{if(_0x15e5f6==='mouseMove'){var _0x426b0c;this['_map']['off'](_0x15e5f6,this['_onMapMouseMove'],this),(_0x426b0c=this[_0x27ae8f(0xac)]['methods'])!==null&&_0x426b0c!==void 0x0&&_0x426b0c[_0x27ae8f(0xca)]&&delete this['options']['methods']['mousemove'];}}return this;}}function _0x5799(){const _0x153422=['_map','0px','getContext','coordinates','447126URKYcb','removeAllData','removeData','clear','animator','768044qawmRr','parentElement','fixedHeight','baiduMapLayer','Cesium','options','scene','bindEvent','draw','get','depthTest','destroy','LayerUtil','fillStyle','defineProperty','setZIndex','4804195DAdDNp','updateData','Cartesian3','zIndex','click','_onMoveEndEvent','2450558rmbyBe','DataSet','addData','cartesianToCanvasCoordinates','3132771VgjURU','concat','stop','mouseMove','animatorMoveendEvent','clampToGround','none','mapvFixedHeight','remove','mousemove','devicePixelRatio','transferCoordinate','canvas','clearData','_onMapMouseMove','data','28FkHTAM','mapvAutoHeight','_reset','restore','push','fromDegrees','size','_mapVRenderer','_onMapClick','_onMoveStartEvent','length','MapVLayer','isEnabledTime','position','SCENE3D','height','mapv','absolute','5456472RDsjzP','hasOwnProperty','off','ellipsoid','clickEvent','canvasLayer','_createCanvas','context','__proto__','render','display','Rectangle','Util','register','initAnimator','init','drawContext','dataSet','EventType','2527116ANXpMS','methods','MultiLineString','style','width','auto','unbindEvent','windowPosition','start'];_0x5799=function(){return _0x153422;};return _0x5799();}mars3d__namespace[_0x3c00aa(0xb3)][_0x3c00aa(0xf0)]('mapv',MapVLayer),mars3d__namespace['layer'][_0x3c00aa(0xdc)]=MapVLayer,mars3d__namespace[_0x3c00aa(0xe1)]=mapv__namespace,exports[_0x3c00aa(0xdc)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x4886ba){const _0x4e9480={_0x3f17f5:0xe4},_0x482cdf=_0x3c00aa;if(_0x4886ba!=='default'&&!exports[_0x482cdf(_0x4e9480._0x3f17f5)](_0x4886ba))Object[_0x482cdf(0xb5)](exports,_0x4886ba,{'enumerable':!![],'get':function(){return mapv[_0x4886ba];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
