/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.8.3
 * 编译日期：2024-09-22 12:57:21
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-08-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';(function(_0x55ae55,_0x8fba18){function _0x86b7b6(_0xa41849,_0xa477bb){return _0x3f6e(_0xa41849-0x1dd,_0xa477bb);}function _0x1f03fe(_0x2fd506,_0x5e962b){return _0x3f6e(_0x5e962b- -0x257,_0x2fd506);}const _0x3a1bac=_0x55ae55();while(!![]){try{const _0x3b9434=-parseInt(_0x86b7b6(0x3dc,0x401))/0x1+parseInt(_0x1f03fe(-0x15c,-0xfd))/0x2*(parseInt(_0x1f03fe(-0x18e,-0x129))/0x3)+-parseInt(_0x86b7b6(0x3d4,0x363))/0x4*(-parseInt(_0x86b7b6(0x34a,0x3a9))/0x5)+-parseInt(_0x1f03fe(-0x104,-0xce))/0x6*(parseInt(_0x86b7b6(0x3ce,0x3e7))/0x7)+parseInt(_0x1f03fe(-0x105,-0xa5))/0x8+-parseInt(_0x86b7b6(0x3fd,0x3e6))/0x9*(-parseInt(_0x86b7b6(0x304,0x362))/0xa)+parseInt(_0x86b7b6(0x37e,0x356))/0xb*(parseInt(_0x1f03fe(-0x122,-0x144))/0xc);if(_0x3b9434===_0x8fba18)break;else _0x3a1bac['push'](_0x3a1bac['shift']());}catch(_0x347520){_0x3a1bac['push'](_0x3a1bac['shift']());}}}(_0x5b03,0x9b656));function _interopNamespace(_0x329101){if(_0x329101&&_0x329101[_0x51c6d4(0x316,0x2f6)])return _0x329101;var _0x4adbba=Object[_0x51c6d4(0x2a8,0x30b)](null);_0x329101&&Object['keys'](_0x329101)['forEach'](function(_0x427f9e){function _0x1d3069(_0x1177a5,_0x5cc5d5){return _0x5b8302(_0x1177a5-0x196,_0x5cc5d5);}if(_0x427f9e!=='default'){var _0x3883c1=Object[_0x1d3069(0x25e,0x1d9)](_0x329101,_0x427f9e);Object['defineProperty'](_0x4adbba,_0x427f9e,_0x3883c1['get']?_0x3883c1:{'enumerable':!![],'get':function(){return _0x329101[_0x427f9e];}});}});function _0x5b8302(_0x47268d,_0x109804){return _0x3f6e(_0x47268d- -0x14b,_0x109804);}function _0x51c6d4(_0x749739,_0x371ca3){return _0x3f6e(_0x749739-0x13c,_0x371ca3);}return _0x4adbba['default']=_0x329101,_0x4adbba;}function _0x5b03(){const _0x6d0bb1=['getColorTexture','getSpeed','destroyParticlesTextures','UNSIGNED_BYTE','dropRate','segmentsDepth','setOptions','frameRate','style','934769zwxCxu','getUVByXY','abs','colors','rawRenderState','ShaderSource','TWO_PI','_calcUV','toGridXY','ComponentDatatype','PixelFormat','canvasContext','clearCommand','VertexArray','defines','_pointerEvents','_createCanvas','3568664QECqkZ','init','mouseHidden','#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20colorTable;\x0auniform\x20bool\x20colour;\x0a\x0ain\x20float\x20heightNormalization;\x0ain\x20float\x20speedNormalization;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20const\x20float\x20zero\x20=\x200.0f;\x0a\x20\x20if(speedNormalization\x20>\x20zero)\x20{\x0a\x20\x20\x20\x20if(colour)\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(heightNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(speedNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(zero);\x0a\x20\x20}\x0a}\x0a','array','UNSIGNED_INT','attributeLocations','depthMask','cols','isDestroy','preExecute','createRenderingFramebuffers','uniformMap','resize','blending','createCommand','_onMapWhellEvent','__proto__','udata','mouseMove','update','isInExtent','age','speedScaleFactor','#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20lines\x20drawing\x0ain\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0auniform\x20vec2\x20hRange;\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0a\x0auniform\x20sampler2D\x20previousParticlesPosition;\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0astruct\x20adjacentPoints\x20{\x0a\x20\x20vec4\x20previous;\x0a\x20\x20vec4\x20current;\x0a\x20\x20vec4\x20next;\x0a};\x0a\x0aout\x20float\x20heightNormalization;\x0aout\x20float\x20speedNormalization;\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20read\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x0a\x20\x20float\x20a\x20=\x206378137.0f;\x20//\x20Semi-major\x20axis\x0a\x20\x20float\x20b\x20=\x206356752.3142f;\x20//\x20Semi-minor\x20axis\x0a\x20\x20float\x20e2\x20=\x206.69437999014e-3f;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0f\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20float\x20h\x20=\x20particleHeight\x20+\x20lonLatLev.z;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0f);\x0a\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calculateProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0f,\x20360.0f)\x20-\x20180.0f;\x0a\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0f);\x0a\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calculateOffsetOnNormalDirection(vec4\x20pointA,\x20vec4\x20pointB,\x20float\x20offsetSign)\x20{\x0a\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0f);\x0a\x20\x20vec2\x20pointA_XY\x20=\x20(pointA.xy\x20/\x20pointA.w)\x20*\x20aspectVec2;\x0a\x20\x20vec2\x20pointB_XY\x20=\x20(pointB.xy\x20/\x20pointB.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0f;\x0a\x20\x20vec2\x20direction\x20=\x20normalize(pointB_XY\x20-\x20pointA_XY);\x0a\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0f,\x200.0f);\x0a\x20\x20return\x20offset;\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(speed.z\x20-\x20wSpeedRange.x)\x20/\x20(wSpeedRange.y\x20-\x20wSpeedRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20vec3\x20previousPosition\x20=\x20texture(previousParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20currentPosition\x20=\x20texture(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20nextPosition\x20=\x20texture(postProcessingPosition,\x20particleIndex).rgb;\x0a\x0a\x20\x20float\x20isAnyRandomPointUsed\x20=\x20texture(postProcessingPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(currentParticlesPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(previousParticlesPosition,\x20particleIndex).a;\x0a\x0a\x20\x20adjacentPoints\x20projectedCoordinates;\x0a\x20\x20if(isAnyRandomPointUsed\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20projectedCoordinates.previous;\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20projectedCoordinates.previous;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20calculateProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20calculateProjectedCoordinate(nextPosition);\x0a\x20\x20}\x0a\x0a\x20\x20int\x20pointToUse\x20=\x20int(normal.x);\x0a\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x20\x20vec4\x20offset\x20=\x20vec4(0.0f);\x0a\x20\x20\x20\x20//\x20render\x20lines\x20with\x20triangles\x20and\x20miter\x20joint\x0a\x20\x20\x20\x20//\x20read\x20https://blog.scottlogic.com/2019/11/18/drawing-lines-with-webgl.html\x20for\x20detail\x0a\x20\x20if(pointToUse\x20==\x20-1)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.previous,\x20projectedCoordinates.current,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.previous\x20+\x20offset;\x0a\x20\x20}\x20else\x20if(pointToUse\x20==\x201)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.current,\x20projectedCoordinates.next,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.next\x20+\x20offset;\x0a\x20\x20}\x0a\x0a\x20\x20heightNormalization\x20=\x20(currentPosition.z\x20-\x20hRange.x)\x20/\x20(hRange.y\x20-\x20hRange.x);\x0a\x0a\x20\x20speedNormalization\x20=\x20texture(particlesSpeed,\x20particleIndex).a;\x0a}\x0a','toDegrees','windData','isDestroyed','#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0a\x0auniform\x20sampler2D\x20segmentsColorTexture;\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0a\x0auniform\x20sampler2D\x20currentTrailsColor;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0auniform\x20float\x20fadeOpacity;\x0a\x0aout\x20vec4\x20fragColor;\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20pointsColor\x20=\x20texture(segmentsColorTexture,\x20textureCoordinate);\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(currentTrailsColor,\x20textureCoordinate);\x0a\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0f\x20*\x20trailsColor)\x20/\x20255.0f;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0a\x0a\x20\x20float\x20pointsDepth\x20=\x20texture(segmentsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20if(pointsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20pointsColor;\x0a\x20\x20}\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20trailsColor;\x0a\x20\x20}\x0a\x20\x20gl_FragDepth\x20=\x20min(pointsDepth,\x20trailsDepth);\x0a}\x0a','getContext','TRIANGLES','OPAQUE','pixelFormat','now','LINEAR','nextTrails','push','particles','drawingBufferWidth','fadeOpacity','__esModule','_updateIng2','canvasResize','destroyObject','fromDegrees','stroke','reverseY','colorTable','canrefresh','particlesComputing','getValidRange','getExtent','random','fromCache','vdata','depthTexture','_addedHook','updateViewerParameters','dimensions','currentTrails','register','_drawLines','geometry','7XnWFeN','removeEventListener','createFramebuffer','lat','DISABLE_GL_POSITION_LOG_DEPTH','nextTrailsDepth','12UkbAZG','Math','viewport','fragmentShaderSource','Draw','trails','postProcessingPosition','particlesRendering','797520ikLcjM','Compute','uSpeedRange','mouse_down','grid','redraw','getOptions','Geometry','viewerParameters','particlesTextures','reverse','randomizeParticles','min','strokeStyle','visible','width','PixelDatatype','NEAREST','particleSystem','height','getOwnPropertyDescriptor','currentParticlesPosition','canvas','createComputingPrimitives','maxParticles','south','_speedRate','framebuffer','keys','Color','removeChild','postMessage','normal','117SimRWa','length','_setOptionsHook','floor','FLOAT','_showHook','visibility','SCENE3D','Pass','createTexture','camera','getFullscreenQuad','SceneMode','lonRange','mouseUp','initWorker','value','tlat','168piCYrH','data','xmax','dropRateBump','_maxAge','getColor','enabled','setGeometry','_updateIng','_data','#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20trailsColorTexture;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(trailsColorTexture,\x20textureCoordinate);\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20trailsColor;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','commandToExecute','_colorRamp','0px','framebuffers','layer','PrimitiveType','nextParticlesPosition','setData','commandType','193820zgxeBO','forEach','_animateFrame','Cesium','segmentsColor','mouse_move','lng','1310019HUYcrU','Framebuffer','textures','refreshTimer','vertexArray','particlesSpeed','clientWidth','_onMouseDownEvent','speedFactor','execute','destroy','sqrt','refreshParticles','mars3d-canvasWind','_removedHook','Cartesian2','previousParticlesPosition','add','worker','windTextures','STATIC_DRAW','getRandomLatLng','_onMouseMoveEvent','mouseDown','type','ymax','ALWAYS','west','PI_OVER_THREE','segments','outputTexture','#version\x20300\x20es\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec2\x20st;\x0a\x0aout\x20vec2\x20textureCoordinate;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20textureCoordinate\x20=\x20st;\x0a\x20\x20gl_Position\x20=\x20vec4(position,\x201.0f);\x0a}\x0a','interval','scene','_canrefresh','atan2','lineTo','speed','north','lev','ClearCommand','canvasHeight','speedRate','pointer-events','2qdOlCd','_calc_speedRate','addPrimitives','windField','show','GeometryAttribute','shaderProgram','fixedHeight','pow','off','rows','context','getParticles','particlesTextureSize','canvasWidth','createWindTextures','_tomap','lon','create','315335bSbDeU','#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x20Unit\x20converted\x20to\x20degrees\x20of\x20longitude\x20and\x20latitude\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20speed;\x0a\x20\x20if(length(speed.rgb)\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','sources','ShaderProgram','pixelSize','wheel','globe','_map','maxAge','globalCompositeOperation','applyViewerParameters','primitiveType','Cartesian3','_bilinearInterpolation','DEPTH_COMPONENT','xmin','randomBetween','clear','ymin','frameTime','latRange','bind','getUVByPoint','zIndex','primitives','lineWidth','toRadians','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','6477642ZDmKtR','getV','dynamic','EventType','defined','createRenderingPrimitives','persists','max','createRenderingTextures','unbindEvent','ellipsoid','depthTest','commandList','particlesNumber','options'];_0x5b03=function(){return _0x6d0bb1;};return _0x5b03();}var mars3d__namespace=_interopNamespace(mars3d);const Cesium$7=mars3d__namespace['Cesium'];function getU(_0x320652,_0x36c71b){const _0x2a18b1=_0x320652*Math['cos'](Cesium$7['Math'][_0x5d7a91(0x194,0x1e4)](_0x36c71b));function _0x5d7a91(_0x3ae773,_0x1fd252){return _0x3f6e(_0x3ae773-0xd,_0x1fd252);}return _0x2a18b1;}function getV(_0x497f08,_0x32f409){function _0x388808(_0x2ed9f4,_0x1ff243){return _0x3f6e(_0x2ed9f4-0x131,_0x1ff243);}const _0x48f192=_0x497f08*Math['sin'](Cesium$7[_0x30d0a2(0x1a1,0x210)][_0x30d0a2(0x130,0x163)](_0x32f409));function _0x30d0a2(_0x123f2b,_0x2e1064){return _0x3f6e(_0x123f2b- -0x57,_0x2e1064);}return _0x48f192;}function getSpeed(_0xbc6be1,_0x1e8271){function _0x2e734d(_0x592cc4,_0x7f8dd8){return _0x3f6e(_0x7f8dd8- -0x17d,_0x592cc4);}const _0x2cc50a=Math['sqrt'](Math[_0x2e734d(-0x5,-0x1b)](_0xbc6be1,0x2)+Math['pow'](_0x1e8271,0x2));return _0x2cc50a;}function getDirection(_0x496286,_0x544f10){let _0x2e3530=Cesium$7['Math']['toDegrees'](Math[_0x1edc7c(0x53b,0x501)](_0x544f10,_0x496286));function _0x1edc7c(_0x3d30ca,_0x32a28a){return _0x3f6e(_0x32a28a-0x3b0,_0x3d30ca);}return _0x2e3530+=_0x2e3530<0x0?0x168:0x0,_0x2e3530;}const _0x20723={};_0x20723[_0x2441a0(-0xda,-0xd6)]=null,_0x20723['getU']=getU,_0x20723[_0x2441a0(-0x113,-0x178)]=getV,_0x20723[_0x2441a0(-0x104,-0x184)]=getSpeed,_0x20723['getDirection']=getDirection;var WindUtil=_0x20723;const Cesium$6=mars3d__namespace[_0x23997e(-0x15c,-0x10f)];class CustomPrimitive{constructor(_0x39c9c8){this['commandType']=_0x39c9c8['commandType'],this[_0x2d92da(0x238,0x29c)]=_0x39c9c8[_0x373463(0x48c,0x406)],this['attributeLocations']=_0x39c9c8['attributeLocations'],this['primitiveType']=_0x39c9c8['primitiveType'],this[_0x373463(0x45a,0x48c)]=_0x39c9c8['uniformMap'],this['vertexShaderSource']=_0x39c9c8['vertexShaderSource'],this['fragmentShaderSource']=_0x39c9c8['fragmentShaderSource'],this['rawRenderState']=_0x39c9c8[_0x2d92da(0x274,0x251)],this['framebuffer']=_0x39c9c8['framebuffer'],this[_0x2d92da(0x1b7,0x1f8)]=_0x39c9c8['outputTexture'];function _0x2d92da(_0x43b5ae,_0x4e679b){return _0x2441a0(_0x4e679b-0x349,_0x43b5ae);}this['autoClear']=_0x39c9c8['autoClear']??![],this[_0x2d92da(0x268,0x268)]=_0x39c9c8[_0x373463(0x458,0x400)],this['show']=!![],this['commandToExecute']=undefined;function _0x373463(_0x1a3e2a,_0x218f84){return _0x2441a0(_0x1a3e2a-0x539,_0x218f84);}this['clearCommand']=undefined,this['autoClear']&&(this[_0x2d92da(0x20a,0x259)]=new Cesium$6[(_0x373463(0x3f2,0x3eb))]({'color':new Cesium$6[(_0x373463(0x4b8,0x526))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this['framebuffer'],'pass':Cesium$6[_0x2d92da(0x2d9,0x2d4)][_0x373463(0x46d,0x4cb)]}));}['createCommand'](_0x24de77){function _0x1b0e2d(_0x1135ab,_0x5daa86){return _0x23997e(_0x5daa86- -0x151,_0x1135ab);}function _0x29e75d(_0x5d4bb6,_0x1480ee){return _0x23997e(_0x1480ee-0x5a9,_0x5d4bb6);}switch(this[_0x29e75d(0x3fe,0x449)]){case'Draw':{const _0x2893df=Cesium$6['VertexArray']['fromGeometry']({'context':_0x24de77,'geometry':this['geometry'],'attributeLocations':this[_0x29e75d(0x518,0x4db)],'bufferUsage':Cesium$6['BufferUsage']['STATIC_DRAW']}),_0x35376d={};_0x35376d[_0x29e75d(0x468,0x488)]=_0x24de77,_0x35376d['attributeLocations']=this['attributeLocations'],_0x35376d['vertexShaderSource']=this['vertexShaderSource'],_0x35376d[_0x1b0e2d(-0x1e4,-0x1dd)]=this['fragmentShaderSource'];const _0x4c2da6=Cesium$6[_0x29e75d(0x4f8,0x493)][_0x29e75d(0x4f2,0x50a)](_0x35376d),_0x59133b=Cesium$6['RenderState'][_0x29e75d(0x498,0x50a)](this['rawRenderState']);return new Cesium$6['DrawCommand']({'owner':this,'vertexArray':_0x2893df,'primitiveType':this[_0x29e75d(0x44b,0x49b)],'uniformMap':this[_0x1b0e2d(-0x1d2,-0x219)],'modelMatrix':Cesium$6['Matrix4']['IDENTITY'],'shaderProgram':_0x4c2da6,'framebuffer':this['framebuffer'],'renderState':_0x59133b,'pass':Cesium$6['Pass'][_0x1b0e2d(-0x19d,-0x206)]});}case _0x29e75d(0x5a1,0x523):{const _0x3b0ed9={};return _0x3b0ed9['owner']=this,_0x3b0ed9[_0x1b0e2d(-0x1b4,-0x1dd)]=this[_0x29e75d(0x4a6,0x51d)],_0x3b0ed9['uniformMap']=this[_0x29e75d(0x504,0x4e1)],_0x3b0ed9['outputTexture']=this['outputTexture'],_0x3b0ed9[_0x29e75d(0x42a,0x4b2)]=!![],new Cesium$6['ComputeCommand'](_0x3b0ed9);}}}[_0x23997e(-0x16c,-0x19e)](_0x56e2d9,_0x549e24){this[_0x8eac6e(0x24c,0x1dc)]=_0x549e24;function _0x29441e(_0x3e3c1c,_0x2bfa9c){return _0x2441a0(_0x2bfa9c-0x48a,_0x3e3c1c);}const _0x8d67a7=Cesium$6['VertexArray']['fromGeometry']({'context':_0x56e2d9,'geometry':this['geometry'],'attributeLocations':this[_0x29441e(0x3c7,0x3a5)],'bufferUsage':Cesium$6['BufferUsage']['STATIC_DRAW']});function _0x8eac6e(_0x4c2d90,_0x2ea420){return _0x2441a0(_0x2ea420-0x289,_0x4c2d90);}this['commandToExecute']['vertexArray']=_0x8d67a7;}['update'](_0x2c6f5a){function _0x475e80(_0x208b6d,_0x159505){return _0x23997e(_0x208b6d-0x207,_0x159505);}if(!this[_0x475e80(0xdf,0x134)])return;if(_0x2c6f5a['mode']!==Cesium$6['SceneMode'][_0x6d9607(0x365,0x35d)])return;!Cesium$6['defined'](this[_0x6d9607(0x25c,0x205)])&&(this['commandToExecute']=this[_0x6d9607(0x2ff,0x2ed)](_0x2c6f5a['context']));Cesium$6[_0x6d9607(0x2cb,0x2c4)](this['preExecute'])&&this['preExecute']();Cesium$6['defined'](this['clearCommand'])&&_0x2c6f5a[_0x6d9607(0x2d3,0x2eb)][_0x475e80(0x157,0xd6)](this['clearCommand']);function _0x6d9607(_0xb5b4ca,_0x5290f2){return _0x2441a0(_0xb5b4ca-0x3db,_0x5290f2);}_0x2c6f5a[_0x6d9607(0x2d3,0x26b)][_0x6d9607(0x314,0x359)](this[_0x6d9607(0x25c,0x1e1)]);}[_0x2441a0(-0xd0,-0x9d)](){return![];}[_0x2441a0(-0x165,-0x17e)](){if(this[_0xcd40cf(0x394,0x3a3)]){var _0x5c9cc4,_0x534cb0;(_0x5c9cc4=this['clearCommand'])!==null&&_0x5c9cc4!==void 0x0&&_0x5c9cc4[_0xcd40cf(0x2f0,0x328)]&&this['clearCommand']['vertexArray']['destroy'](),(_0x534cb0=this['clearCommand'])!==null&&_0x534cb0!==void 0x0&&_0x534cb0[_0xcd40cf(0x311,0x356)]&&this['clearCommand'][_0xcd40cf(0x2ef,0x356)]['destroy'](),delete this[_0x1e01e8(0x34e,0x382)];}function _0xcd40cf(_0x35cd95,_0xe326a7){return _0x23997e(_0xe326a7-0x47c,_0x35cd95);}function _0x1e01e8(_0x500f39,_0x425c87){return _0x23997e(_0x500f39-0x427,_0x425c87);}return this['commandToExecute']&&(this[_0xcd40cf(0x386,0x314)]['vertexArray']&&this['commandToExecute'][_0x1e01e8(0x2d3,0x277)][_0x1e01e8(0x2d9,0x2ba)](),this['commandToExecute']['shaderProgram']&&this[_0x1e01e8(0x2bf,0x297)]['shaderProgram'][_0xcd40cf(0x37d,0x32e)](),delete this['commandToExecute']),Cesium$6[_0x1e01e8(0x37e,0x396)](this);}}const Cesium$5=mars3d__namespace[_0x2441a0(-0x173,-0x1ba)],Util=(function(){const _0x5b0727=function(){function _0x322eba(_0x35f7ee,_0x9ed272){return _0x3f6e(_0x35f7ee- -0x185,_0x9ed272);}const _0x51f587=new Cesium$5[(_0x3b2458(0x55f,0x5d4))]({'attributes':new Cesium$5['GeometryAttributes']({'position':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5[_0x3b2458(0x529,0x578)][_0x3b2458(0x5c1,0x5f2)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5[(_0x3b2458(0x4ca,0x52d))]({'componentDatatype':Cesium$5[_0x3b2458(0x597,0x578)]['FLOAT'],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});function _0x3b2458(_0x51992b,_0x3c48d4){return _0x3f6e(_0x3c48d4-0x3ce,_0x51992b);}return _0x51f587;},_0x597d95=function(_0x2f57f0,_0x43daad){if(Cesium$5['defined'](_0x43daad)){const _0x203944={};_0x203944['arrayBufferView']=_0x43daad,_0x2f57f0['source']=_0x203944;}const _0x168136=new Cesium$5['Texture'](_0x2f57f0);return _0x168136;},_0x4ce530=function(_0x46619a,_0x2c172e,_0x4f9286){const _0x6cb9e2={};_0x6cb9e2['context']=_0x46619a;function _0x497769(_0x52ae8d,_0x2cbe2d){return _0x3f6e(_0x52ae8d-0x3ce,_0x2cbe2d);}_0x6cb9e2['colorTextures']=[_0x2c172e],_0x6cb9e2[_0x497769(0x5b7,0x5d5)]=_0x4f9286;function _0x536577(_0x5377d3,_0x164cc0){return _0x3f6e(_0x5377d3- -0x294,_0x164cc0);}const _0x284efe=new Cesium$5[(_0x536577(-0x165,-0x162))](_0x6cb9e2);return _0x284efe;},_0x435657=function(_0x6dec5b){const _0x236c48=!![],_0x224741=![],_0x41f616={};_0x41f616['viewport']=_0x6dec5b[_0x57b5d4(-0xf8,-0xfc)],_0x41f616['depthTest']=_0x6dec5b['depthTest'],_0x41f616['depthMask']=_0x6dec5b['depthMask'];function _0x54fc1d(_0x200835,_0xc20d40){return _0x3f6e(_0x200835- -0x355,_0xc20d40);}function _0x57b5d4(_0x4c7f52,_0xdfbc7c){return _0x3f6e(_0xdfbc7c- -0x2f5,_0x4c7f52);}_0x41f616[_0x54fc1d(-0x195,-0x153)]=_0x6dec5b[_0x57b5d4(-0x161,-0x135)];const _0x1d60ce=_0x41f616,_0x5a0ff0=Cesium$5['Appearance']['getDefaultRenderState'](_0x236c48,_0x224741,_0x1d60ce);return _0x5a0ff0;},_0x4dff19=function(_0xd93556){function _0x401dd7(_0x35e285,_0x294f2d){return _0x3f6e(_0x294f2d-0x369,_0x35e285);}const _0x193a3d={},_0x424dd2=Cesium$5['Math']['mod'](_0xd93556[_0x27c84f(0x3ad,0x350)],Cesium$5['Math'][_0x27c84f(0x40b,0x449)]),_0x33d8a4=Cesium$5[_0x27c84f(0x45c,0x4bc)]['mod'](_0xd93556['east'],Cesium$5['Math']['TWO_PI']),_0x4110a0=_0xd93556['width'];let _0x9ff996,_0x5af019;_0x4110a0>Cesium$5['Math']['THREE_PI_OVER_TWO']?(_0x9ff996=0x0,_0x5af019=Cesium$5[_0x27c84f(0x45c,0x436)]['TWO_PI']):_0x33d8a4-_0x424dd2<_0x4110a0?(_0x9ff996=_0x424dd2,_0x5af019=_0x424dd2+_0x4110a0):(_0x9ff996=_0x424dd2,_0x5af019=_0x33d8a4);_0x193a3d[_0x401dd7(0x4ea,0x4d4)]={'min':Cesium$5[_0x401dd7(0x513,0x561)]['toDegrees'](_0x9ff996),'max':Cesium$5['Math']['toDegrees'](_0x5af019)};const _0xdaadd3=_0xd93556[_0x27c84f(0x47c,0x407)],_0x348e4d=_0xd93556[_0x401dd7(0x46a,0x4bd)],_0x55ea00=_0xd93556['height'];function _0x27c84f(_0x46867c,_0x4945bd){return _0x3f6e(_0x46867c-0x264,_0x4945bd);}const _0x37dbed=_0x55ea00>Cesium$5['Math']['PI']/0xc?_0x55ea00/0x2:0x0;let _0x3e7389=Cesium$5['Math']['clampToLatitudeRange'](_0xdaadd3-_0x37dbed),_0x42d0cf=Cesium$5['Math']['clampToLatitudeRange'](_0x348e4d+_0x37dbed);return _0x3e7389<-Cesium$5['Math'][_0x27c84f(0x3ae,0x321)]&&(_0x3e7389=-Cesium$5['Math']['PI_OVER_TWO']),_0x42d0cf>Cesium$5['Math']['PI_OVER_THREE']&&(_0x42d0cf=Cesium$5[_0x401dd7(0x5ad,0x561)]['PI_OVER_TWO']),_0x193a3d['lat']={'min':Cesium$5['Math'][_0x27c84f(0x42f,0x476)](_0x3e7389),'max':Cesium$5[_0x401dd7(0x5b6,0x561)][_0x27c84f(0x42f,0x3f4)](_0x42d0cf)},_0x193a3d;},_0x4eddba={};function _0x3fad8e(_0x35b9ce,_0x5a4ccb){return _0x23997e(_0x35b9ce-0xef,_0x5a4ccb);}return _0x4eddba[_0x3fad8e(-0x8b,-0xa5)]=_0x5b0727,_0x4eddba['createTexture']=_0x597d95,_0x4eddba['createFramebuffer']=_0x4ce530,_0x4eddba['createRawRenderState']=_0x435657,_0x4eddba['viewRectangleToLonLatRange']=_0x4dff19,_0x4eddba;}());var fullscreenVert=_0x2441a0(-0x150,-0x10a),screenDrawFrag=_0x23997e(-0x169,-0x11c),segmentDrawFrag=_0x2441a0(-0xe8,-0xf6),segmentDrawVert=_0x23997e(-0xbc,-0x64),trailDrawFrag=_0x2441a0(-0xcf,-0x124);const Cesium$4=mars3d__namespace['Cesium'];class ParticlesRendering{constructor(_0x393f0d,_0xda462f,_0x2f65b4,_0x180506,_0xf3874b){this['colour']=_0x2f65b4[_0x5e0717(-0x1b0,-0x1bd)]==='height';function _0x4cf858(_0x38c0a9,_0xc99361){return _0x23997e(_0xc99361-0x30,_0x38c0a9);}this[_0x4cf858(-0xc6,-0xc5)](_0x393f0d,_0xda462f,_0x2f65b4['colors']);function _0x5e0717(_0x4d9b11,_0xc12617){return _0x2441a0(_0xc12617- -0xc4,_0x4d9b11);}this[_0x4cf858(-0xcd,-0x99)](_0x393f0d),this[_0x5e0717(-0x159,-0x1d3)](_0x393f0d,_0xda462f,_0x2f65b4,_0x180506,_0xf3874b);}['createRenderingTextures'](_0x3612fd,_0x127fd4,_0x39503b){const _0x276dee={};_0x276dee[_0x32670d(-0x50,-0x48)]=_0x3612fd,_0x276dee['width']=_0x3612fd['drawingBufferWidth'],_0x276dee['height']=_0x3612fd['drawingBufferHeight'],_0x276dee[_0x689c57(0x44c,0x4a2)]=Cesium$4['PixelFormat']['RGBA'],_0x276dee['pixelDatatype']=Cesium$4[_0x32670d(0xe,0x62)][_0x689c57(0x44f,0x46b)];const _0x41eccc=_0x276dee,_0x76a4e9={};function _0x32670d(_0xc74f9e,_0x1df105){return _0x2441a0(_0x1df105-0xf0,_0xc74f9e);}function _0x689c57(_0x2b88cc,_0x23d54a){return _0x2441a0(_0x23d54a-0x56d,_0x2b88cc);}_0x76a4e9['context']=_0x3612fd,_0x76a4e9[_0x32670d(0xad,0x61)]=_0x3612fd[_0x32670d(-0xf,0x2b)],_0x76a4e9[_0x32670d(-0x11,0x65)]=_0x3612fd['drawingBufferHeight'],_0x76a4e9['pixelFormat']=Cesium$4['PixelFormat'][_0x689c57(0x44c,0x44b)],_0x76a4e9['pixelDatatype']=Cesium$4['PixelDatatype'][_0x689c57(0x454,0x487)];const _0x44dfeb=_0x76a4e9,_0x1e39ec=_0x39503b['length'],_0x36cde0=new Float32Array(_0x1e39ec*0x3);for(let _0x211186=0x0;_0x211186<_0x1e39ec;_0x211186++){const _0x2e60db=Cesium$4['Color']['fromCssColorString'](_0x39503b[_0x211186]);_0x36cde0[0x3*_0x211186]=_0x2e60db['red'],_0x36cde0[0x3*_0x211186+0x1]=_0x2e60db['green'],_0x36cde0[0x3*_0x211186+0x2]=_0x2e60db['blue'];}const _0x548265={'context':_0x3612fd,'width':_0x1e39ec,'height':0x1,'pixelFormat':Cesium$4['PixelFormat']['RGB'],'pixelDatatype':Cesium$4['PixelDatatype'][_0x689c57(0x4fe,0x4f4)],'sampler':new Cesium$4['Sampler']({'minificationFilter':Cesium$4['TextureMinificationFilter']['LINEAR'],'magnificationFilter':Cesium$4['TextureMagnificationFilter'][_0x32670d(-0x2a,0x27)]})};this[_0x689c57(0x3af,0x400)]={'segmentsColor':Util['createTexture'](_0x41eccc),'segmentsDepth':Util['createTexture'](_0x44dfeb),'currentTrailsColor':Util[_0x689c57(0x4ae,0x4f9)](_0x41eccc),'currentTrailsDepth':Util[_0x32670d(-0x10,0x7c)](_0x44dfeb),'nextTrailsColor':Util[_0x689c57(0x52c,0x4f9)](_0x41eccc),'nextTrailsDepth':Util['createTexture'](_0x44dfeb),'colorTable':Util[_0x32670d(0xf7,0x7c)](_0x548265,_0x36cde0)};}['createRenderingFramebuffers'](_0x677a70){function _0x4662b5(_0x4c901b,_0x23ee1a){return _0x2441a0(_0x4c901b-0x31,_0x23ee1a);}function _0x5e585e(_0x3d43f6,_0x17b0d7){return _0x2441a0(_0x17b0d7-0x5ee,_0x3d43f6);}this[_0x5e585e(0x495,0x472)]={'segments':Util[_0x4662b5(-0x79,-0x5a)](_0x677a70,this[_0x5e585e(0x445,0x481)][_0x5e585e(0x41b,0x47c)],this['textures'][_0x5e585e(0x4b4,0x4ee)]),'currentTrails':Util[_0x5e585e(0x4f9,0x544)](_0x677a70,this[_0x4662b5(-0x13c,-0x122)]['currentTrailsColor'],this['textures']['currentTrailsDepth']),'nextTrails':Util[_0x5e585e(0x524,0x544)](_0x677a70,this['textures']['nextTrailsColor'],this['textures'][_0x5e585e(0x56a,0x547)])};}['createSegmentsGeometry'](_0x123cef){const _0x5f2834=0x4;let _0x30ca57=[];for(let _0x5a71bf=0x0;_0x5a71bf<_0x123cef['particlesTextureSize'];_0x5a71bf++){for(let _0x1a3243=0x0;_0x1a3243<_0x123cef[_0x387455(0x48a,0x481)];_0x1a3243++){for(let _0x10fa50=0x0;_0x10fa50<_0x5f2834;_0x10fa50++){_0x30ca57[_0x387455(0x4f9,0x480)](_0x5a71bf/_0x123cef[_0x55208c(-0xfc,-0xf5)]),_0x30ca57[_0x55208c(-0x52,-0x86)](_0x1a3243/_0x123cef[_0x55208c(-0x11a,-0xf5)]);}}}_0x30ca57=new Float32Array(_0x30ca57);let _0x257d03=[];function _0x55208c(_0x3a5946,_0x624323){return _0x2441a0(_0x624323-0x41,_0x3a5946);}for(let _0x269383=0x0;_0x269383<_0x123cef['maxParticles'];_0x269383++){_0x257d03[_0x55208c(-0xa3,-0x86)](-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0);}_0x257d03=new Float32Array(_0x257d03);let _0x3d3db8=[];function _0x387455(_0x3cf9f2,_0x5415cb){return _0x23997e(_0x3cf9f2-0x5a9,_0x5415cb);}for(let _0x3f7ef0=0x0,_0x5e1fe4=0x0;_0x3f7ef0<_0x123cef[_0x387455(0x53a,0x585)];_0x3f7ef0++){_0x3d3db8['push'](_0x5e1fe4+0x0,_0x5e1fe4+0x1,_0x5e1fe4+0x2,_0x5e1fe4+0x2,_0x5e1fe4+0x1,_0x5e1fe4+0x3),_0x5e1fe4+=_0x5f2834;}_0x3d3db8=new Uint32Array(_0x3d3db8);const _0xa67020=new Cesium$4['Geometry']({'attributes':new Cesium$4['GeometryAttributes']({'st':new Cesium$4[(_0x387455(0x482,0x45d))]({'componentDatatype':Cesium$4[_0x55208c(-0x9a,-0xb2)]['FLOAT'],'componentsPerAttribute':0x2,'values':_0x30ca57}),'normal':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4['ComponentDatatype'][_0x55208c(-0x16,-0x38)],'componentsPerAttribute':0x3,'values':_0x257d03})}),'indices':_0x3d3db8});return _0xa67020;}[_0x23997e(-0xf8,-0x150)](_0x122745,_0x4c5fd7,_0x26dfd5,_0x13ac22,_0xe0fd62){const _0x1d0474=this,_0x21e111={};_0x21e111['st']=0x0,_0x21e111[_0x2b53b3(0x134,0x17a)]=0x1;const _0x43626e={};_0x43626e['sources']=[segmentDrawVert];const _0x2e4367={};_0x2e4367[_0x175d64(0x142,0x149)]=[segmentDrawFrag];function _0x175d64(_0x5c7901,_0x22aae9){return _0x2441a0(_0x22aae9-0x277,_0x5c7901);}const _0x3c7686={};_0x3c7686[_0x175d64(0x69,0xf3)]=!![];const _0xb535a9={};_0xb535a9[_0x175d64(0x187,0x1d3)]=undefined,_0xb535a9[_0x2b53b3(0x178,0xef)]=_0x3c7686,_0xb535a9[_0x2b53b3(0x116,0x114)]=!![];const _0x335212={};_0x335212['position']=0x0,_0x335212['st']=0x1;const _0xe62b47={};_0xe62b47[_0x2b53b3(0x10a,0x10a)]=[_0x175d64(0x257,0x1cf)];function _0x2b53b3(_0x58cf11,_0x564a85){return _0x2441a0(_0x564a85-0x1f8,_0x58cf11);}_0xe62b47[_0x2b53b3(0x14e,0xca)]=[fullscreenVert];const _0x52ccb9={};_0x52ccb9['defines']=[_0x2b53b3(0x113,0xe3)],_0x52ccb9['sources']=[trailDrawFrag];const _0x11d3d9={};_0x11d3d9['position']=0x0,_0x11d3d9['st']=0x1;const _0x3f2d34={};_0x3f2d34['defines']=['DISABLE_GL_POSITION_LOG_DEPTH'],_0x3f2d34[_0x175d64(0xec,0x149)]=[fullscreenVert];const _0x586cd4={};_0x586cd4['defines']=[_0x2b53b3(0xee,0xe3)],_0x586cd4[_0x175d64(0xc7,0x149)]=[screenDrawFrag];const _0x23fd45={};_0x23fd45['enabled']=![];const _0xa7ef8a={};_0xa7ef8a[_0x2b53b3(-0x19,0x74)]=!![],this[_0x175d64(0x1ad,0x15f)]={'segments':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x21e111,'geometry':this['createSegmentsGeometry'](_0x26dfd5),'primitiveType':Cesium$4[_0x175d64(0xf4,0xfd)]['TRIANGLES'],'uniformMap':{'previousParticlesPosition':function(){return _0xe0fd62['particlesTextures']['previousParticlesPosition'];},'currentParticlesPosition':function(){return _0xe0fd62['particlesTextures']['currentParticlesPosition'];},'postProcessingPosition':function(){return _0xe0fd62['particlesTextures']['postProcessingPosition'];},'particlesSpeed':function(){function _0x1d8550(_0x1d09ea,_0x2f542e){return _0x175d64(_0x2f542e,_0x1d09ea- -0x1d0);}return _0xe0fd62[_0x1d8550(0x12,-0x2d)]['particlesSpeed'];},'colorTable':function(){function _0x5f2d04(_0x2dda04,_0xbd0727){return _0x175d64(_0x2dda04,_0xbd0727- -0x39b);}return _0x1d0474['textures'][_0x5f2d04(-0x198,-0x1e0)];},'aspect':function(){return _0x122745['drawingBufferWidth']/_0x122745['drawingBufferHeight'];},'H':function(){return _0x4c5fd7['H']['array'];},'hRange':function(){function _0x1f057e(_0x564c7d,_0x4ab1f5){return _0x175d64(_0x564c7d,_0x4ab1f5-0xf9);}return new Cesium$4[(_0x1f057e(0x25b,0x210))](_0x4c5fd7['H']['min'],_0x4c5fd7['H']['max']);},'uSpeedRange':function(){function _0x5b482f(_0x579e98,_0x5107a4){return _0x175d64(_0x5107a4,_0x579e98-0x3fc);}return new Cesium$4[(_0x5b482f(0x513,0x4b0))](_0x4c5fd7['U']['min'],_0x4c5fd7['U']['max']);},'vSpeedRange':function(){function _0xd0f4e3(_0x412f10,_0x2b7097){return _0x2b53b3(_0x2b7097,_0x412f10-0x13f);}function _0x2c13e0(_0x23d2e8,_0x49a28f){return _0x2b53b3(_0x49a28f,_0x23d2e8- -0x290);}return new Cesium$4[(_0xd0f4e3(0x1d7,0x230))](_0x4c5fd7['V']['min'],_0x4c5fd7['V'][_0x2c13e0(-0x1a5,-0x1c7)]);},'wSpeedRange':function(){function _0x2d8780(_0x28097a,_0x37000e){return _0x2b53b3(_0x37000e,_0x28097a-0x36c);}function _0x5824f9(_0x20329b,_0x57fe08){return _0x2b53b3(_0x20329b,_0x57fe08-0x43a);}return new Cesium$4[(_0x5824f9(0x49c,0x4d2))](_0x4c5fd7['W']['min'],_0x4c5fd7['W'][_0x5824f9(0x4bb,0x525)]);},'pixelSize':function(){return _0x13ac22['pixelSize'];},'lineWidth':function(){function _0x5ee43d(_0xeb7e18,_0x262e9d){return _0x2b53b3(_0xeb7e18,_0x262e9d-0x42c);}return _0x26dfd5[_0x5ee43d(0x571,0x50d)];},'particleHeight':function(){return _0x26dfd5['particleHeight'];},'colour':function(){return _0x1d0474['colour'];}},'vertexShaderSource':new Cesium$4[(_0x175d64(0x182,0x180))](_0x43626e),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x2e4367),'rawRenderState':Util['createRawRenderState'](_0xb535a9),'framebuffer':this['framebuffers']['segments'],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x335212,'geometry':Util[_0x2b53b3(0x7e,0x67)](),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){function _0x3eacfe(_0x4d4cee,_0x51503e){return _0x175d64(_0x4d4cee,_0x51503e- -0x37e);}return _0x1d0474[_0x3eacfe(-0x2aa,-0x274)]['segmentsColor'];},'segmentsDepthTexture':function(){function _0x195563(_0xda2607,_0x599264){return _0x175d64(_0xda2607,_0x599264- -0x85);}function _0x80e1e(_0x2cad41,_0x3aa739){return _0x2b53b3(_0x2cad41,_0x3aa739- -0x16e);}return _0x1d0474[_0x80e1e(-0x124,-0xe3)][_0x80e1e(-0x61,-0x76)];},'currentTrailsColor':function(){return _0x1d0474['framebuffers']['currentTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){function _0x51e32a(_0x5e181a,_0x1fa625){return _0x2b53b3(_0x5e181a,_0x1fa625- -0x1d0);}function _0x54f9db(_0x12456d,_0x424d48){return _0x2b53b3(_0x12456d,_0x424d48- -0x14f);}return _0x1d0474[_0x54f9db(-0xad,-0xd3)][_0x54f9db(-0x8f,-0x7)]['depthTexture'];},'fadeOpacity':function(){function _0xdce18a(_0x64203c,_0x4c74ad){return _0x175d64(_0x4c74ad,_0x64203c-0x3ff);}return _0x26dfd5[_0xdce18a(0x5b2,0x63b)];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0xe62b47),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x52ccb9),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4['DepthFunction'][_0x175d64(0x163,0x122)]},'depthMask':!![]}),'framebuffer':this[_0x2b53b3(0xc1,0x7c)][_0x2b53b3(0x138,0x130)],'autoClear':!![],'preExecute':function(){if(_0x26dfd5['dynamic']){const _0x5b17ca=_0x1d0474[_0x1da469(0x17a,0x205)][_0x31672c(0x11c,0x14b)];_0x1d0474[_0x1da469(0x17a,0x1d9)]['currentTrails']=_0x1d0474['framebuffers'][_0x1da469(0x22e,0x23e)],_0x1d0474[_0x1da469(0x17a,0x13e)][_0x1da469(0x22e,0x22a)]=_0x5b17ca;}function _0x1da469(_0x2194b0,_0x1c9365){return _0x2b53b3(_0x1c9365,_0x2194b0-0xfe);}_0x1d0474['primitives'][_0x1da469(0x255,0x213)]['commandToExecute']['framebuffer']=_0x1d0474[_0x31672c(0x50,0x9b)]['nextTrails'];function _0x31672c(_0x1973c7,_0x165e9b){return _0x2b53b3(_0x165e9b,_0x1973c7- -0x2c);}_0x1d0474['primitives'][_0x1da469(0x255,0x2ad)]['clearCommand'][_0x1da469(0x273,0x2b1)]=_0x1d0474['framebuffers']['nextTrails'];}}),'screen':new CustomPrimitive({'commandType':_0x175d64(0x195,0x1d5),'attributeLocations':_0x11d3d9,'geometry':Util[_0x175d64(0x167,0xe6)](),'primitiveType':Cesium$4[_0x2b53b3(0x86,0x7e)][_0x175d64(0x21f,0x1aa)],'uniformMap':{'trailsColorTexture':function(){function _0x377f4b(_0x29ece7,_0x2a2fe9){return _0x2b53b3(_0x29ece7,_0x2a2fe9- -0x200);}function _0x509694(_0x512265,_0x382dfe){return _0x175d64(_0x512265,_0x382dfe-0x34a);}return _0x1d0474[_0x509694(0x3d9,0x445)]['nextTrails'][_0x377f4b(-0xd6,-0x10d)](0x0);},'trailsDepthTexture':function(){return _0x1d0474['framebuffers']['nextTrails']['depthTexture'];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x3f2d34),'fragmentShaderSource':new Cesium$4[(_0x2b53b3(0x115,0x101))](_0x586cd4),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':_0x23fd45,'depthMask':!![],'blending':_0xa7ef8a}),'framebuffer':undefined})};}}var CalculateSpeedShader='#version\x20300\x20es\x0a\x0a//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0auniform\x20sampler2D\x20W;\x20//\x20upward\x20wind\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0auniform\x20float\x20speedScaleFactor;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20//\x20map\x20the\x20z-axis\x20value\x20to\x20the\x20nearest\x20bit\x20plane\x20to\x20ensure\x20that\x20the\x20result\x20is\x20an\x20integer\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205,\x207,\x208,\x209],\x20width\x20=\x202,\x20height\x20=\x202,\x20level\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x206\x207\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x202\x203\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWindComponent(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20float\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D).r;\x0a\x20\x20return\x20result;\x0a}\x0a\x0afloat\x20interpolateTexture(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20float\x20lon0\x20=\x20floor(lon\x20/\x20interval.x)\x20*\x20interval.x;\x0a\x20\x20float\x20lon1\x20=\x20lon0\x20+\x201.0f\x20*\x20interval.x;\x0a\x20\x20float\x20lat0\x20=\x20floor(lat\x20/\x20interval.y)\x20*\x20interval.y;\x0a\x20\x20float\x20lat1\x20=\x20lat0\x20+\x201.0f\x20*\x20interval.y;\x0a\x0a\x20\x20float\x20lon0_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon1_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon0_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat1,\x20lev));\x0a\x20\x20float\x20lon1_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat1,\x20lev));\x0a\x0a\x20\x20float\x20lon_lat0\x20=\x20mix(lon0_lat0,\x20lon1_lat0,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat1\x20=\x20mix(lon0_lat1,\x20lon1_lat1,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat\x20=\x20mix(lon_lat0,\x20lon_lat1,\x20lat\x20-\x20lat0);\x0a\x20\x20return\x20lon_lat;\x0a}\x0a\x0avec3\x20linearInterpolation(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bilinear_interpolation\x0a\x20\x20float\x20u\x20=\x20interpolateTexture(U,\x20lonLatLev);\x0a\x20\x20float\x20v\x20=\x20interpolateTexture(V,\x20lonLatLev);\x0a\x20\x20float\x20w\x20=\x20interpolateTexture(W,\x20lonLatLev);\x0a\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20float\x20term1\x20=\x20111132.92f;\x0a\x20\x20float\x20term2\x20=\x20559.82f\x20*\x20cos(2.0f\x20*\x20latitude);\x0a\x20\x20float\x20term3\x20=\x201.175f\x20*\x20cos(4.0f\x20*\x20latitude);\x0a\x20\x20float\x20term4\x20=\x200.0023f\x20*\x20cos(6.0f\x20*\x20latitude);\x0a\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20float\x20term5\x20=\x20111412.84f\x20*\x20cos(latitude);\x0a\x20\x20float\x20term6\x20=\x2093.5f\x20*\x20cos(3.0f\x20*\x20latitude);\x0a\x20\x20float\x20term7\x20=\x200.118f\x20*\x20cos(5.0f\x20*\x20latitude);\x0a\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avec3\x20convertSpeedUnitToLonLat(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20float\x20w\x20=\x20speed.z;\x0a\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20return\x20windVectorInLonLatLev;\x0a}\x0a\x0avec3\x20calculateSpeedByRungeKutta2(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#Second-order_methods_with_two_stages\x20for\x20detail\x0a\x20\x20const\x20float\x20h\x20=\x200.5f;\x0a\x0a\x20\x20vec3\x20y_n\x20=\x20lonLatLev;\x0a\x20\x20vec3\x20f_n\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20midpoint\x20=\x20y_n\x20+\x200.5f\x20*\x20h\x20*\x20convertSpeedUnitToLonLat(y_n,\x20f_n)\x20*\x20speedScaleFactor;\x0a\x20\x20vec3\x20speed\x20=\x20h\x20*\x20linearInterpolation(midpoint)\x20*\x20speedScaleFactor;\x0a\x0a\x20\x20return\x20speed;\x0a}\x0a\x0avec2\x20getRange(vec2\x20range)\x20{\x0a\x20\x20float\x20x1\x20=\x200.0f\x20-\x20range.x;\x0a\x20\x20float\x20x2\x20=\x20range.y\x20-\x200.0f;\x0a\x20\x20if(x1\x20<\x200.0f\x20||\x20x2\x20<\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x20vec2(abs(x1),\x20abs(x2));\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20return\x20vec2(0.0f,\x20abs(max(x1,\x20x2)));\x0a\x20\x20}\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20vec2\x20uRange\x20=\x20getRange(uSpeedRange);\x0a\x20\x20vec2\x20vRange\x20=\x20getRange(vSpeedRange);\x0a\x20\x20vec2\x20wRange\x20=\x20getRange(wSpeedRange);\x0a\x20\x20if(length(speed.xyz)\x20==\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x200.0f;\x0a\x20\x20}\x0a\x0a\x20\x20percent.x\x20=\x20(abs(speed.x)\x20-\x20uRange.x)\x20/\x20(uRange.y\x20-\x20uRange.x);\x0a\x20\x20percent.y\x20=\x20(abs(speed.y)\x20-\x20vRange.x)\x20/\x20(vRange.y\x20-\x20vRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(abs(speed.z)\x20-\x20wRange.x)\x20/\x20(wRange.y\x20-\x20wRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speedOrigin\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20speed\x20=\x20calculateSpeedByRungeKutta2(lonLatLev);\x0a\x20\x20vec3\x20speedInLonLat\x20=\x20convertSpeedUnitToLonLat(lonLatLev,\x20speed);\x0a\x0a\x20\x20vec4\x20particleSpeed\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speed\x20/\x20speedScaleFactor));\x0a\x20\x20\x20\x20//\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20fragColor\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speedOrigin));\x0a}\x0a',PostProcessingPositionShader='#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x0a\x0auniform\x20sampler2D\x20H;\x20//\x20particles\x20height\x20textures\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0auniform\x20vec2\x20viewerLonRange;\x0auniform\x20vec2\x20viewerLatRange;\x0a\x0aconst\x20float\x20randomCoefficient\x20=\x200.1f;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0aconst\x20float\x20dropRate\x20=\x200.1f;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0aconst\x20float\x20dropRateBump\x20=\x200.1f;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0avec4\x20getTextureValue(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20vec4\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D);\x0a\x20\x20return\x20result;\x0a}\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898f,\x2078.233f,\x204375.85453f);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0f,\x201.0f);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0abool\x20particleNoSpeed(vec3\x20particle)\x20{\x0a\x20\x20vec4\x20speed\x20=\x20getTextureValue(particlesSpeed,\x20particle);\x0a\x20\x20return\x20speed.r\x20==\x200.0f\x20&&\x20speed.g\x20==\x200.0f;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0f);\x0a\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20float\x20height\x20=\x20getTextureValue(H,\x20vec3(randomLon,\x20randomLat,\x20lev)).r;\x0a\x0a\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20height);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20return\x20particle.y\x20<\x20viewerLatRange.x\x20||\x20particle.y\x20>\x20viewerLatRange.y\x20||\x20particle.x\x20<\x20viewerLonRange.x\x20||\x20particle.x\x20>\x20viewerLonRange.y;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20nextParticle\x20=\x20texture(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec4\x20nextSpeed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20float\x20speedNorm\x20=\x20nextSpeed.a;\x0a\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20speedNorm;\x0a\x0a\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20if(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(randomParticle,\x201.0f);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x0a}\x0a',UpdatePositionShader=_0x23997e(-0x118,-0xb7);const Cesium$3=mars3d__namespace['Cesium'];class ParticlesComputing{constructor(_0x4e6a58,_0x224e4f,_0x2b7e23,_0x202bb0){this[_0x4b86b6(0x1e9,0x184)]=_0x224e4f,this['createWindTextures'](_0x4e6a58,_0x224e4f);function _0x4b86b6(_0x5b0ae0,_0x3ab67f){return _0x23997e(_0x5b0ae0-0x35b,_0x3ab67f);}this['createParticlesTextures'](_0x4e6a58,_0x2b7e23,_0x202bb0),this['createComputingPrimitives'](_0x224e4f,_0x2b7e23,_0x202bb0);}[_0x23997e(-0x11d,-0x97)](_0x68d25e,_0x220fea){function _0x4197d0(_0x43e0db,_0x2ac3b3){return _0x2441a0(_0x43e0db-0x5f,_0x2ac3b3);}function _0xcb66da(_0x3db733,_0x4dcafd){return _0x2441a0(_0x4dcafd-0x1e6,_0x3db733);}var _0x1aa63b;const _0xdd7d4d={'context':_0x68d25e,'width':_0x220fea[_0xcb66da(0xaa,0x135)][_0xcb66da(0xfd,0xb4)],'height':_0x220fea['dimensions'][_0x4197d0(-0x4a,0x40)]*(_0x220fea['dimensions'][_0x4197d0(-0xe9,-0xc4)]||0x1),'pixelFormat':Cesium$3[_0xcb66da(0xda,0xf4)]['RED'],'pixelDatatype':Cesium$3[_0x4197d0(-0x2f,0x10)]['FLOAT'],'flipY':![],'sampler':new Cesium$3['Sampler']({'minificationFilter':Cesium$3['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium$3['TextureMagnificationFilter']['NEAREST']})};this[_0x4197d0(-0xfd,-0x92)]={'U':Util['createTexture'](_0xdd7d4d,_0x220fea['U'][_0x4197d0(-0x88,-0xc7)]),'V':Util[_0xcb66da(0x123,0x172)](_0xdd7d4d,_0x220fea['V']['array']),'W':Util[_0xcb66da(0x1b9,0x172)](_0xdd7d4d,((_0x1aa63b=_0x220fea['W'])===null||_0x1aa63b===void 0x0?void 0x0:_0x1aa63b[_0xcb66da(0xd0,0xff)])??_0x220fea['U'][_0xcb66da(0x10f,0xff)]),'H':Util[_0x4197d0(-0x15,0x5f)](_0xdd7d4d,_0x220fea['H'][_0xcb66da(0x135,0xff)])};}['createParticlesTextures'](_0x58cd17,_0x26071c,_0x5aaf30){function _0x209f1(_0x22200a,_0x59e2ac){return _0x23997e(_0x22200a-0x539,_0x59e2ac);}const _0x4f8044={'context':_0x58cd17,'width':_0x26071c[_0x209f1(0x41a,0x3e0)],'height':_0x26071c[_0x209f1(0x41a,0x3b5)],'pixelFormat':Cesium$3['PixelFormat']['RGBA'],'pixelDatatype':Cesium$3['PixelDatatype']['FLOAT'],'flipY':![],'sampler':new Cesium$3['Sampler']({'minificationFilter':Cesium$3['TextureMinificationFilter'][_0x209f1(0x4c3,0x475)],'magnificationFilter':Cesium$3['TextureMagnificationFilter']['NEAREST']})},_0x1f8797=this[_0x8ac903(0x119,0xeb)](_0x26071c['maxParticles'],_0x5aaf30),_0x54bc34=new Float32Array(0x4*_0x26071c[_0x209f1(0x4ca,0x48d)])['fill'](0x0);function _0x8ac903(_0x9edadf,_0x59a102){return _0x2441a0(_0x9edadf-0x1ac,_0x59a102);}this['particlesTextures']={'previousParticlesPosition':Util['createTexture'](_0x4f8044,_0x1f8797),'currentParticlesPosition':Util[_0x8ac903(0x138,0x1c3)](_0x4f8044,_0x1f8797),'nextParticlesPosition':Util['createTexture'](_0x4f8044,_0x1f8797),'postProcessingPosition':Util[_0x8ac903(0x138,0x17a)](_0x4f8044,_0x1f8797),'particlesSpeed':Util['createTexture'](_0x4f8044,_0x54bc34)};}['randomizeParticles'](_0x33f0de,_0x27b306){function _0x6c062d(_0x22a401,_0x2ad5c2){return _0x2441a0(_0x22a401-0x67f,_0x2ad5c2);}function _0x836ceb(_0x420d95,_0x7dc13c){return _0x2441a0(_0x7dc13c-0x384,_0x420d95);}const _0x19b38f=new Float32Array(0x4*_0x33f0de);for(let _0x550d2b=0x0;_0x550d2b<_0x33f0de;_0x550d2b++){_0x19b38f[0x4*_0x550d2b]=Cesium$3[_0x6c062d(0x5da,0x5e5)][_0x6c062d(0x55f,0x5af)](_0x27b306['lonRange']['x'],_0x27b306['lonRange']['y']),_0x19b38f[0x4*_0x550d2b+0x1]=Cesium$3['Math']['randomBetween'](_0x27b306['latRange']['x'],_0x27b306[_0x6c062d(0x563,0x515)]['y']),_0x19b38f[0x4*_0x550d2b+0x2]=Cesium$3['Math']['randomBetween'](this['data'][_0x6c062d(0x537,0x4bd)][_0x6c062d(0x5ed,0x5d7)],this['data']['lev']['max']),_0x19b38f[0x4*_0x550d2b+0x3]=0x0;}return _0x19b38f;}[_0x2441a0(-0xb9,-0xc5)](_0x2b83ac){const _0x3a72b5=[_0x2b83ac[_0x51ba81(-0x15f,-0x135)]['lon'],_0x2b83ac[_0x2913a9(0x4fd,0x58a)]['lat'],_0x2b83ac[_0x2913a9(0x54b,0x58a)]['lev']];function _0x51ba81(_0x5e5b54,_0x84e51d){return _0x2441a0(_0x84e51d- -0x84,_0x5e5b54);}const _0x2384e=[_0x2b83ac['lon'][_0x2913a9(0x56b,0x5a9)],_0x2b83ac[_0x2913a9(0x53d,0x592)][_0x2913a9(0x61a,0x5a9)],_0x2b83ac[_0x2913a9(0x4a7,0x4f3)]['min']],_0x179e44=[_0x2b83ac['lon'][_0x2913a9(0x563,0x52e)],_0x2b83ac['lat'][_0x2913a9(0x546,0x52e)],_0x2b83ac['lev']['max']],_0x594c79=[(_0x179e44[0x0]-_0x2384e[0x0])/(_0x3a72b5[0x0]-0x1),(_0x179e44[0x1]-_0x2384e[0x1])/(_0x3a72b5[0x1]-0x1),_0x3a72b5[0x2]>0x1?(_0x179e44[0x2]-_0x2384e[0x2])/(_0x3a72b5[0x2]-0x1):0x1],_0x5bcacc=Math['floor'](Math['random']()*_0x2b83ac['U'][_0x2913a9(0x4d9,0x554)]['length']),_0x5cf333=_0x5bcacc%(_0x3a72b5[0x0]*_0x3a72b5[0x1]),_0x5d656b=Math['floor'](_0x5cf333/_0x3a72b5[0x0]),_0x2e4c52=_0x5cf333%_0x3a72b5[0x0],_0x2a0882=Cesium$3['Math'][_0x51ba81(-0x144,-0x1a4)](_0x2384e[0x0]+_0x2e4c52*_0x594c79[0x0],_0x2384e[0x0]+(_0x2e4c52+0x1)*_0x594c79[0x0]);function _0x2913a9(_0x545dd2,_0x41e8d2){return _0x2441a0(_0x41e8d2-0x63b,_0x545dd2);}const _0x1fb548=Cesium$3[_0x51ba81(-0xae,-0x129)][_0x51ba81(-0x15d,-0x1a4)](_0x2384e[0x1]+(_0x5d656b-0x1)*_0x594c79[0x1],_0x2384e[0x1]+_0x5d656b*_0x594c79[0x1]),_0x4e32ba=_0x2b83ac['H']['array'][_0x5bcacc]||0x0;return[_0x2a0882,_0x1fb548,_0x4e32ba];}[_0x2441a0(-0x103,-0xa7)](){function _0xebb29f(_0x3345b3,_0x5ad8d1){return _0x2441a0(_0x3345b3- -0x124,_0x5ad8d1);}function _0x372805(_0x13f1c6,_0xdfba21){return _0x23997e(_0xdfba21-0x354,_0x13f1c6);}Object['keys'](this[_0xebb29f(-0x1b9,-0x1a0)])[_0x372805(0x1a7,0x1f6)](_0x52a022=>{function _0xb3a22d(_0xd2d307,_0x4e3b48){return _0xebb29f(_0xd2d307-0x681,_0x4e3b48);}this[_0xb3a22d(0x4c8,0x43a)][_0x52a022]['destroy']();});}[_0x23997e(-0x70,-0x38)](_0x5544a1,_0x8ed842,_0x39eee8){const _0x48aa20=new Cesium$3['Cartesian3'](_0x5544a1[_0x3fdd5e(0xcb,0x111)]['lon'],_0x5544a1['dimensions']['lat'],_0x5544a1['dimensions']['lev']),_0xe8e191=new Cesium$3['Cartesian3'](_0x5544a1['lon']['min'],_0x5544a1[_0x2e940d(0x3d3,0x3a2)]['min'],_0x5544a1[_0x2e940d(0x2a3,0x303)]['min']),_0x252482=new Cesium$3['Cartesian3'](_0x5544a1['lon']['max'],_0x5544a1['lat']['max'],_0x5544a1[_0x3fdd5e(0x34,0x5e)][_0x2e940d(0x359,0x33e)]),_0x1d50e3=new Cesium$3['Cartesian3']((_0x252482['x']-_0xe8e191['x'])/(_0x48aa20['x']-0x1),(_0x252482['y']-_0xe8e191['y'])/(_0x48aa20['y']-0x1),_0x48aa20['z']>0x1?(_0x252482['z']-_0xe8e191['z'])/(_0x48aa20['z']-0x1):0x1);function _0x2e940d(_0x2f6494,_0x45d95d){return _0x23997e(_0x45d95d-0x434,_0x2f6494);}const _0x2b00f0=new Cesium$3[(_0x2e940d(0x356,0x2eb))](_0x5544a1[_0x2e940d(0x336,0x319)][_0x3fdd5e(0xea,0x157)],_0x5544a1['lon']['max']),_0x444635=new Cesium$3[(_0x3fdd5e(0x1c,0x66))](_0x5544a1['lat'][_0x3fdd5e(0xea,0x122)],_0x5544a1['lat'][_0x2e940d(0x354,0x33e)]),_0x4df442=new Cesium$3[(_0x3fdd5e(0x1c,-0x2a))](_0x5544a1['U']['min'],_0x5544a1['U'][_0x3fdd5e(0x6f,0x64)]),_0x53dc8e=new Cesium$3['Cartesian2'](_0x5544a1['V'][_0x2e940d(0x38c,0x3b9)],_0x5544a1['V']['max']),_0x3c471a=new Cesium$3[(_0x3fdd5e(0x1c,0x70))](_0x5544a1['W']['min'],_0x5544a1['W'][_0x2e940d(0x2e0,0x33e)]),_0x2cb298=this,_0x27bfd2={};_0x27bfd2['U']=function(){function _0x276165(_0x3da979,_0x248ce1){return _0x3fdd5e(_0x248ce1- -0x1c9,_0x3da979);}return _0x2cb298[_0x276165(-0x230,-0x1a9)]['U'];},_0x27bfd2['V']=function(){return _0x2cb298['windTextures']['V'];};function _0x3fdd5e(_0x1b25c1,_0x38b50f){return _0x23997e(_0x1b25c1-0x165,_0x38b50f);}_0x27bfd2['W']=function(){return _0x2cb298['windTextures']['W'];},_0x27bfd2[_0x3fdd5e(0xf3,0xc1)]=function(){function _0x28055f(_0xcd9e0c,_0x552c91){return _0x2e940d(_0xcd9e0c,_0x552c91- -0x467);}function _0x255eae(_0x18fe77,_0x1cae6f){return _0x2e940d(_0x18fe77,_0x1cae6f- -0x27a);}return _0x2cb298[_0x28055f(-0x3d,-0xb1)][_0x28055f(-0x68,-0xa5)];},_0x27bfd2['dimension']=function(){return _0x48aa20;},_0x27bfd2['minimum']=function(){return _0xe8e191;},_0x27bfd2['maximum']=function(){return _0x252482;},_0x27bfd2[_0x3fdd5e(0x2d,0xae)]=function(){return _0x1d50e3;},_0x27bfd2[_0x3fdd5e(0xe0,0x15e)]=function(){return _0x4df442;},_0x27bfd2['vSpeedRange']=function(){return _0x53dc8e;},_0x27bfd2['wSpeedRange']=function(){return _0x3c471a;},_0x27bfd2[_0x3fdd5e(0xa8,0x74)]=function(){function _0x337c4a(_0x253232,_0x5a31b2){return _0x2e940d(_0x5a31b2,_0x253232-0x20f);}return _0x39eee8['pixelSize']*_0x8ed842[_0x337c4a(0x4f3,0x46e)];};const _0x22d0a1={};_0x22d0a1[_0x3fdd5e(0x4e,-0x34)]=[CalculateSpeedShader];const _0x4b9153={};_0x4b9153[_0x3fdd5e(0x4e,0x32)]=[UpdatePositionShader];const _0x2e5297={};_0x2e5297[_0x3fdd5e(0x4e,0xa1)]=[PostProcessingPositionShader],this['primitives']={'calculateSpeed':new CustomPrimitive({'commandType':'Compute','uniformMap':_0x27bfd2,'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x22d0a1),'outputTexture':this['particlesTextures'][_0x3fdd5e(0x12,-0x18)],'preExecute':function(){function _0x3563ca(_0x905618,_0x11b433){return _0x2e940d(_0x11b433,_0x905618- -0x4f7);}if(_0x8ed842!==undefined&&_0x8ed842[_0x1de0eb(0x374,0x335)]){const _0x602f52=_0x2cb298['particlesTextures'][_0x1de0eb(0x368,0x2e8)];_0x2cb298[_0x3563ca(-0x141,-0x156)][_0x3563ca(-0x20b,-0x19a)]=_0x2cb298[_0x3563ca(-0x141,-0xb7)][_0x3563ca(-0x135,-0x13b)],_0x2cb298[_0x1de0eb(0x407,0x3b2)]['currentParticlesPosition']=_0x2cb298['particlesTextures'][_0x1de0eb(0x412,0x3a7)],_0x2cb298[_0x1de0eb(0x3e3,0x3b2)]['postProcessingPosition']=_0x602f52;}function _0x1de0eb(_0x953f68,_0x1ee824){return _0x3fdd5e(_0x1ee824-0x2cb,_0x953f68);}_0x2cb298[_0x3563ca(-0x1c4,-0x18c)]['calculateSpeed']['commandToExecute']['outputTexture']=_0x2cb298['particlesTextures']['particlesSpeed'];}}),'updatePosition':new CustomPrimitive({'commandType':_0x3fdd5e(0xdf,0x16d),'uniformMap':{'currentParticlesPosition':function(){return _0x2cb298['particlesTextures']['currentParticlesPosition'];},'particlesSpeed':function(){function _0xe02670(_0xdb1ce4,_0x2ef778){return _0x2e940d(_0x2ef778,_0xdb1ce4-0xdd);}return _0x2cb298['particlesTextures'][_0xe02670(0x3be,0x401)];}},'fragmentShaderSource':new Cesium$3[(_0x3fdd5e(0x85,0x22))](_0x4b9153),'outputTexture':this[_0x3fdd5e(0xe7,0x150)][_0x3fdd5e(0x3,0x17)],'preExecute':function(){function _0x5e9c00(_0x3f660b,_0x2976c3){return _0x3fdd5e(_0x2976c3-0x4e7,_0x3f660b);}function _0x1cf574(_0x173de0,_0x3f68e7){return _0x2e940d(_0x3f68e7,_0x173de0- -0x8d);}_0x2cb298['primitives']['updatePosition'][_0x1cf574(0x23f,0x218)]['outputTexture']=_0x2cb298[_0x1cf574(0x329,0x3b4)]['nextParticlesPosition'];}}),'postProcessingPosition':new CustomPrimitive({'commandType':_0x2e940d(0x335,0x3ae),'uniformMap':{'nextParticlesPosition':function(){return _0x2cb298['particlesTextures']['nextParticlesPosition'];},'particlesSpeed':function(){return _0x2cb298['particlesTextures']['particlesSpeed'];},'viewerLonRange':function(){return _0x39eee8['lonRange'];},'viewerLatRange':function(){return _0x39eee8['latRange'];},'lonRange':function(){return _0x2b00f0;},'latRange':function(){return _0x444635;},'dimension':function(){return _0x48aa20;},'minimum':function(){return _0xe8e191;},'maximum':function(){return _0x252482;},'interval':function(){return _0x1d50e3;},'H':function(){return _0x2cb298['windTextures']['H'];},'randomCoefficient':function(){const _0x213a9=Math[_0x36c8b0(0xed,0x106)]();function _0x36c8b0(_0x5f1e86,_0x19c780){return _0x2e940d(_0x5f1e86,_0x19c780- -0x28e);}return _0x213a9;},'dropRate':function(){function _0x543f85(_0x5626fc,_0x172a06){return _0x2e940d(_0x172a06,_0x5626fc- -0x1e1);}return _0x8ed842[_0x543f85(0x169,0xe1)];},'dropRateBump':function(){return _0x8ed842['dropRateBump'];}},'fragmentShaderSource':new Cesium$3[(_0x2e940d(0x39d,0x354))](_0x2e5297),'outputTexture':this[_0x3fdd5e(0xe7,0x111)]['postProcessingPosition'],'preExecute':function(){function _0x3e79d9(_0xb0c9e5,_0x492297){return _0x3fdd5e(_0x492297-0x14e,_0xb0c9e5);}function _0x1ba241(_0x3a9b5e,_0x562efd){return _0x3fdd5e(_0x3a9b5e-0x3,_0x562efd);}_0x2cb298['primitives'][_0x1ba241(0xdf,0x58)]['commandToExecute']['outputTexture']=_0x2cb298['particlesTextures'][_0x3e79d9(0x21a,0x22a)];}})};}}const Cesium$2=mars3d__namespace['Cesium'];class ParticleSystem{constructor(_0x343cd9,_0x4ad7da,_0x22771a,_0xca914a){this['context']=_0x343cd9;function _0x394e15(_0x1cba6d,_0x201355){return _0x23997e(_0x1cba6d-0x2f0,_0x201355);}_0x4ad7da={..._0x4ad7da};_0x4ad7da[_0x394e15(0x22e,0x2b0)]&&_0x4ad7da[_0x5527ce(-0x17c,-0x19c)]&&(_0x4ad7da[_0x394e15(0x256,0x1cd)]={},_0x4ad7da['dimensions']['lon']=_0x4ad7da[_0x5527ce(-0x24c,-0x1ca)],_0x4ad7da['dimensions']['lat']=_0x4ad7da[_0x5527ce(-0x2af,-0x220)],_0x4ad7da[_0x394e15(0x256,0x1f2)]['lev']=_0x4ad7da[_0x394e15(0x1bf,0x1a5)]||0x1,_0x4ad7da['lon']={},_0x4ad7da[_0x394e15(0x1d5,0x231)]['min']=_0x4ad7da['xmin'],_0x4ad7da['lon'][_0x5527ce(-0x280,-0x1f4)]=_0x4ad7da['xmax'],_0x4ad7da[_0x394e15(0x25e,0x2b4)]={},_0x4ad7da['lat']['min']=_0x4ad7da['ymin'],_0x4ad7da[_0x5527ce(-0x1a9,-0x190)][_0x5527ce(-0x17a,-0x1f4)]=_0x4ad7da['ymax'],_0x4ad7da['lev']={},_0x4ad7da['lev']['min']=_0x4ad7da['levmin']??0x1,_0x4ad7da[_0x5527ce(-0x240,-0x22f)][_0x394e15(0x1fa,0x183)]=_0x4ad7da['levmax']??0x1,_0x4ad7da['U']={},_0x4ad7da['U'][_0x5527ce(-0x195,-0x1ce)]=new Float32Array(_0x4ad7da['udata']),_0x4ad7da['U'][_0x5527ce(-0x159,-0x179)]=_0x4ad7da['umin']??Math['min'](..._0x4ad7da[_0x394e15(0x22e,0x1fb)]),_0x4ad7da['U'][_0x5527ce(-0x20f,-0x1f4)]=_0x4ad7da['umax']??Math['max'](..._0x4ad7da['udata']),_0x4ad7da['V']={},_0x4ad7da['V'][_0x5527ce(-0x247,-0x1ce)]=new Float32Array(_0x4ad7da[_0x394e15(0x252,0x22f)]),_0x4ad7da['V'][_0x5527ce(-0x153,-0x179)]=_0x4ad7da['vmin']??Math['min'](..._0x4ad7da[_0x5527ce(-0x197,-0x19c)]),_0x4ad7da['V']['max']=_0x4ad7da['vmax']??Math[_0x394e15(0x1fa,0x17d)](..._0x4ad7da[_0x394e15(0x252,0x1cb)]));function _0x5527ce(_0x51a4f1,_0x428c86){return _0x23997e(_0x428c86- -0xfe,_0x51a4f1);}!_0x4ad7da['W']&&(_0x4ad7da['W']={'array':new Float32Array(_0x4ad7da['U']['array'][_0x5527ce(-0x16b,-0x163)]),'min':0x0,'max':0x0});if(!_0x4ad7da['H']){var _0x49ea5c;_0x4ad7da['H']={'array':new Float32Array(_0x4ad7da['U']['array'][_0x5527ce(-0x12f,-0x163)]),'min':0x0,'max':0x0};if((_0x49ea5c=_0x4ad7da['lev'])!==null&&_0x49ea5c!==void 0x0&&_0x49ea5c[_0x394e15(0x220,0x1ff)]){const {lon:_0x35211f,lat:_0x16dda6,lev:_0x25f93a}=_0x4ad7da[_0x394e15(0x256,0x24b)];for(let _0x3ca69d=0x0;_0x3ca69d<_0x25f93a;_0x3ca69d++){for(let _0x3babbc=0x0;_0x3babbc<_0x16dda6;_0x3babbc++){for(let _0x3cac46=0x0;_0x3cac46<_0x35211f;_0x3cac46++){const _0x5ef167=_0x3ca69d*(_0x35211f*_0x16dda6)+_0x3babbc*_0x35211f+_0x3cac46;_0x4ad7da['H']['array'][_0x5ef167]=_0x4ad7da['lev']['array'][_0x3ca69d];}}}_0x4ad7da['H']['min']=Math['min'](..._0x4ad7da[_0x394e15(0x1bf,0x235)]['array']),_0x4ad7da['H'][_0x394e15(0x1fa,0x17a)]=Math[_0x5527ce(-0x1c0,-0x1f4)](..._0x4ad7da[_0x394e15(0x1bf,0x214)][_0x394e15(0x220,0x25d)]);}}this['data']=_0x4ad7da,this[_0x394e15(0x201,0x1ab)]=_0x22771a,this['viewerParameters']=_0xca914a,this['particlesComputing']=new ParticlesComputing(this[_0x5527ce(-0x206,-0x21f)],this['data'],this[_0x5527ce(-0x1a8,-0x1ed)],this[_0x5527ce(-0x16f,-0x17d)]),this[_0x5527ce(-0x1c1,-0x186)]=new ParticlesRendering(this['context'],this['data'],this['options'],this[_0x394e15(0x271,0x273)],this['particlesComputing']);}[_0x23997e(-0xaa,-0x129)](_0xe2b78){this['particlesComputing']['destroyParticlesTextures'](),Object['keys'](this[_0xd3b014(0x558,0x550)][_0xd3b014(0x4b6,0x52d)])['forEach'](_0x12d6c8=>{function _0x59b9cb(_0x25f487,_0x8e5739){return _0xd3b014(_0x8e5739- -0xa6,_0x25f487);}this['particlesComputing'][_0x59b9cb(0x39a,0x410)][_0x12d6c8]['destroy']();}),this['particlesRendering']['textures']['colorTable']['destroy']();function _0xce6ba4(_0x4e06b2,_0x3b0c4a){return _0x23997e(_0x4e06b2- -0xf,_0x3b0c4a);}Object[_0xce6ba4(-0x7a,-0xcd)](this[_0xd3b014(0x573,0x57c)]['framebuffers'])[_0xce6ba4(-0x16d,-0x1c1)](_0x304549=>{function _0xdf8203(_0x482302,_0x6b6c88){return _0xd3b014(_0x482302- -0x21c,_0x6b6c88);}function _0x56d756(_0x20f4e5,_0x49a42a){return _0xd3b014(_0x49a42a- -0x618,_0x20f4e5);}this[_0xdf8203(0x357,0x345)][_0xdf8203(0x27a,0x239)][_0x304549][_0xdf8203(0x291,0x2df)]();}),this['context']=_0xe2b78;function _0xd3b014(_0x4d306f,_0x252b0e){return _0x23997e(_0x4d306f-0x5fb,_0x252b0e);}this[_0xd3b014(0x558,0x592)]=new ParticlesComputing(this[_0xce6ba4(-0x130,-0x141)],this[_0xd3b014(0x489,0x4eb)],this[_0xd3b014(0x50c,0x491)],this[_0xce6ba4(-0x8e,-0x72)]),this['particlesRendering']=new ParticlesRendering(this['context'],this['data'],this['options'],this['viewerParameters'],this['particlesComputing']);}['clearFramebuffers'](){function _0x5cb57a(_0x2c34e9,_0x4d5a66){return _0x23997e(_0x4d5a66-0x5c4,_0x2c34e9);}const _0x12df20=new Cesium$2[(_0x4d4df6(-0x5a,-0x6c))]({'color':new Cesium$2['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2['Pass'][_0x5cb57a(0x4b7,0x50f)]});function _0x4d4df6(_0x5a8497,_0x2d0817){return _0x23997e(_0x2d0817-0xc4,_0x5a8497);}Object['keys'](this[_0x4d4df6(0x98,0x3c)][_0x5cb57a(0x43a,0x45f)])['forEach'](_0x3e3e84=>{function _0x4317ec(_0xb3d093,_0x96451d){return _0x4d4df6(_0xb3d093,_0x96451d-0x1f);}function _0x40edcf(_0x5a8b68,_0x241da5){return _0x5cb57a(_0x241da5,_0x5a8b68- -0x5fd);}_0x12df20[_0x40edcf(-0xa5,-0x33)]=this['particlesRendering'][_0x40edcf(-0x19e,-0x127)][_0x3e3e84],_0x12df20[_0x4317ec(-0xce,-0x6c)](this[_0x4317ec(-0x96,-0x3e)]);});}['refreshParticles'](_0x81472d,_0x3a5776=!![]){function _0x248cb1(_0x5d7ecc,_0x2e94bc){return _0x2441a0(_0x5d7ecc-0x511,_0x2e94bc);}_0x3a5776&&(this['clearFramebuffers'](),this['particlesComputing']['destroyParticlesTextures'](),this['particlesComputing']['createParticlesTextures'](this['context'],this['options'],this[_0xa05b2c(0x50a,0x543)]));function _0xa05b2c(_0x28ddda,_0x3a1e97){return _0x2441a0(_0x3a1e97-0x5d9,_0x28ddda);}if(_0x81472d){var _0x4a5825;const _0x509672=this[_0x248cb1(0x472,0x4ed)]['createSegmentsGeometry'](this['options']);this[_0xa05b2c(0x4f8,0x53a)]['primitives'][_0xa05b2c(0x4d7,0x487)][_0xa05b2c(0x49e,0x52c)]=_0x509672;const _0x21786f=Cesium$2[_0xa05b2c(0x545,0x4ea)]['fromGeometry']({'context':this[_0xa05b2c(0x529,0x4a1)],'geometry':_0x509672,'attributeLocations':this['particlesRendering']['primitives']['segments']['attributeLocations'],'bufferUsage':Cesium$2['BufferUsage'][_0xa05b2c(0x4bd,0x47e)]});(_0x4a5825=this[_0xa05b2c(0x4e0,0x53a)][_0xa05b2c(0x546,0x4c1)])!==null&&_0x4a5825!==void 0x0&&(_0x4a5825=_0x4a5825['segments'])!==null&&_0x4a5825!==void 0x0&&_0x4a5825['commandToExecute']&&(this['particlesRendering'][_0xa05b2c(0x4d8,0x4c1)][_0x248cb1(0x3bf,0x420)][_0x248cb1(0x392,0x3af)][_0x248cb1(0x3a6,0x42e)]=_0x21786f);}}['setOptions'](_0xb8bc17){let _0x3d80d9=![];function _0x586c95(_0x36bc29,_0x508012){return _0x2441a0(_0x36bc29-0x259,_0x508012);}function _0x2a53ec(_0x4d54bb,_0x429757){return _0x2441a0(_0x429757-0x5d6,_0x4d54bb);}this[_0x586c95(0x153,0x100)][_0x2a53ec(0x4c2,0x550)]!==_0xb8bc17[_0x2a53ec(0x5aa,0x550)]&&(_0x3d80d9=!![]),Object[_0x586c95(0x1d7,0x216)](_0xb8bc17)['forEach'](_0x437fef=>{this['options'][_0x437fef]=_0xb8bc17[_0x437fef];}),this[_0x2a53ec(0x4a9,0x473)](_0x3d80d9,_0xb8bc17['dynamic']);}[_0x23997e(-0x10f,-0xc7)](_0x3dd401){Object['keys'](_0x3dd401)['forEach'](_0x57c174=>{this['viewerParameters'][_0x57c174]=_0x3dd401[_0x57c174];}),this[_0x275a4(0x3ac,0x346)](![]);function _0x47a859(_0x2a6a92,_0xd93d1a){return _0x2441a0(_0x2a6a92-0x4b9,_0xd93d1a);}function _0x275a4(_0x22158b,_0x3d6eac){return _0x23997e(_0x22158b-0x4f8,_0x3d6eac);}!this[_0x275a4(0x409,0x3bb)]['dynamic']&&(this['options']['dynamic']=!![],this['setOptions'](this[_0x275a4(0x409,0x3d8)]),setTimeout(()=>{this['options']['dynamic']=![],this['setOptions'](this['options']);},0x1f4));}['destroy'](){function _0x507253(_0x29d9dc,_0x556e91){return _0x2441a0(_0x556e91-0x2ee,_0x29d9dc);}function _0x5d1520(_0x840c26,_0x44d553){return _0x2441a0(_0x44d553- -0x67,_0x840c26);}clearTimeout(this[_0x5d1520(-0x14d,-0x122)]),this[_0x507253(0x20a,0x234)]['destroyParticlesTextures'](),Object['keys'](this['particlesComputing'][_0x507253(0x201,0x192)])['forEach'](_0x5be601=>{this['particlesComputing']['windTextures'][_0x5be601]['destroy']();}),this[_0x507253(0x2bc,0x24f)][_0x5d1520(-0x175,-0x1d4)][_0x507253(0x2be,0x232)][_0x5d1520(-0x1c2,-0x1cc)](),Object[_0x507253(0x2c9,0x26c)](this[_0x507253(0x1f7,0x24f)]['framebuffers'])[_0x507253(0x147,0x179)](_0xfec26a=>{function _0x33b467(_0x57885b,_0x10a659){return _0x5d1520(_0x10a659,_0x57885b-0x306);}function _0x4fb9cf(_0x37040c,_0x78a5c5){return _0x5d1520(_0x37040c,_0x78a5c5-0x5d4);}this['particlesRendering'][_0x33b467(0x123,0xff)][_0xfec26a][_0x4fb9cf(0x491,0x408)]();});for(const _0x237fc6 in this){delete this[_0x237fc6];}}}function _0x3f6e(_0x1d0f30,_0x478ab1){const _0x5b0391=_0x5b03();return _0x3f6e=function(_0x3f6e4d,_0x17186b){_0x3f6e4d=_0x3f6e4d-0x10b;let _0x5f0af7=_0x5b0391[_0x3f6e4d];return _0x5f0af7;},_0x3f6e(_0x1d0f30,_0x478ab1);}const Cesium$1=mars3d__namespace[_0x23997e(-0x15c,-0x11e)],BaseLayer$1=mars3d__namespace['layer']['BaseLayer'],_0x511bb9={};_0x511bb9[_0x2441a0(-0x107,-0xd4)]=0x1000,_0x511bb9['fixedHeight']=0x0,_0x511bb9['fadeOpacity']=0.996,_0x511bb9[_0x23997e(-0xea,-0x79)]=0.003,_0x511bb9['dropRateBump']=0.01;function _0x2441a0(_0x29b725,_0x242a54){return _0x3f6e(_0x29b725- -0x29d,_0x242a54);}_0x511bb9[_0x23997e(-0x150,-0x1de)]=0.5,_0x511bb9['lineWidth']=0x2,_0x511bb9['colors']=['rgb(206,255,255)'],_0x511bb9[_0x23997e(-0xfb,-0x183)]=!![];const DEF_OPTIONS=_0x511bb9;class WindLayer extends BaseLayer$1{constructor(_0x1235da={}){function _0x3b9d07(_0x590ea5,_0x1c7eba){return _0x23997e(_0x590ea5-0x282,_0x1c7eba);}_0x1235da={...DEF_OPTIONS,..._0x1235da},super(_0x1235da),this[_0x3b9d07(0x21e,0x2aa)](_0x1235da);}get[_0x23997e(-0x164,-0x18d)](){return this['primitives'];}get['data'](){return this['_data'];}set['data'](_0x18b10f){this['setData'](_0x18b10f);}get['colors'](){function _0x52aff7(_0x4e57d8,_0x2320e5){return _0x2441a0(_0x4e57d8-0x226,_0x2320e5);}return this[_0x52aff7(0x120,0x1af)]['colors'];}set['colors'](_0x5022b0){function _0x1446bd(_0xab87cf,_0x247d82){return _0x2441a0(_0x247d82-0x2a5,_0xab87cf);}this['options']['colors']=_0x5022b0;if(this['particleSystem']){const _0x4a8e19={};_0x4a8e19['colors']=_0x5022b0,this['particleSystem'][_0x107343(0x478,0x491)](_0x4a8e19);}function _0x107343(_0x350e9e,_0x5b127e){return _0x2441a0(_0x5b127e-0x590,_0x350e9e);}this[_0x107343(0x44c,0x4b2)]();}['_mountedHook'](){}['_addedHook'](){this[_0x4791de(-0x198,-0x1d5)]=this['_map']['scene'];function _0x4791de(_0x1bef0a,_0x3a02bf){return _0x23997e(_0x1bef0a- -0x61,_0x3a02bf);}this['camera']=this['_map']['camera'],this[_0x4791de(-0x162,-0x111)]=new Cesium$1['PrimitiveCollection'](),this['_map']['scene']['primitives']['add'](this[_0x4791de(-0x162,-0xee)]);function _0x57cc5e(_0xb508be,_0x2fcae5){return _0x23997e(_0xb508be-0x157,_0x2fcae5);}this['viewerParameters']={'lonRange':new Cesium$1['Cartesian2'](),'latRange':new Cesium$1['Cartesian2'](),'pixelSize':0x0,'lonDisplayRange':new Cesium$1['Cartesian2'](),'latDisplayRange':new Cesium$1['Cartesian2']()},this['globeBoundingSphere']=new Cesium$1['BoundingSphere'](Cesium$1[_0x57cc5e(0x4a,0x3e)]['ZERO'],0.99*0x615299),this[_0x57cc5e(0xbc,0xf9)](),window['addEventListener']('resize',this['resize']['bind'](this),![]),this['mouse_down']=![],this['mouse_move']=![],this['_map']['on'](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x57cc5e(0x16,-0x3f)],this[_0x57cc5e(0x6,-0x2d)],this),this['_map']['on'](mars3d__namespace[_0x4791de(-0x15b,-0x127)]['mouseUp'],this['_onMouseUpEvent'],this),this['_map']['on'](mars3d__namespace[_0x57cc5e(0x5d,0x47)]['mouseMove'],this['_onMouseMoveEvent'],this),this['_data']&&this['setData'](this[_0x4791de(-0x1cb,-0x201)]);}['_removedHook'](){function _0x8f9ff2(_0x104bd2,_0xba6aa5){return _0x23997e(_0x104bd2-0x498,_0xba6aa5);}window[_0x4b40a7(0x2f1,0x336)]('resize',this['resize']),this['_map']['off'](mars3d__namespace[_0x4b40a7(0x28b,0x23d)]['preRender'],this['_onMap_preRenderEvent'],this),this[_0x8f9ff2(0x386,0x330)]['off'](mars3d__namespace[_0x4b40a7(0x28b,0x24b)]['wheel'],this[_0x4b40a7(0x2c1,0x30c)],this),this['_map'][_0x8f9ff2(0x375,0x36a)](mars3d__namespace['EventType'][_0x4b40a7(0x244,0x2a9)],this['_onMouseDownEvent'],this),this['_map'][_0x4b40a7(0x262,0x223)](mars3d__namespace[_0x4b40a7(0x28b,0x2d1)][_0x8f9ff2(0x321,0x329)],this['_onMouseUpEvent'],this);function _0x4b40a7(_0x3be639,_0x408c75){return _0x2441a0(_0x3be639-0x39c,_0x408c75);}this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x4b40a7(0x243,0x262)],this),this[_0x4b40a7(0x284,0x2d6)]['removeAll'](),this['_map']['scene']['primitives']['remove'](this[_0x4b40a7(0x284,0x288)]);}['resize'](){if(!this['show']||!this['particleSystem'])return;this['primitives']['show']=![],this['primitives']['removeAll'](),this['_map']['once'](mars3d__namespace['EventType']['preRender'],this['_onMap_preRenderEvent'],this);}['_onMap_preRenderEvent'](_0x491459){function _0x21ddfe(_0x4f4c84,_0x399056){return _0x23997e(_0x399056-0x347,_0x4f4c84);}this['particleSystem'][_0x4ac8e2(0x514,0x535)](this[_0x21ddfe(0x197,0x210)][_0x4ac8e2(0x531,0x4be)]);function _0x4ac8e2(_0x2e7d47,_0x1310c8){return _0x2441a0(_0x1310c8-0x5f6,_0x2e7d47);}this['addPrimitives'](),this[_0x4ac8e2(0x551,0x4de)]['show']=!![];}[_0x2441a0(-0xdb,-0x101)](_0x14bfbc){function _0x4d5e55(_0x24c864,_0x2d67ed){return _0x2441a0(_0x2d67ed-0x2d3,_0x24c864);}clearTimeout(this['refreshTimer']);if(!this[_0x4d5e55(0x1f3,0x194)]||!this[_0x38bbed(-0xf7,-0x121)])return;function _0x38bbed(_0x54851b,_0x5b07f7){return _0x2441a0(_0x5b07f7- -0x95,_0x54851b);}this['primitives'][_0x4d5e55(0x13c,0x194)]=![],this[_0x38bbed(-0x27f,-0x201)]=setTimeout(()=>{if(!this['show'])return;this['redraw']();},0xc8);}['_onMouseDownEvent'](_0x4c997f){this['mouse_down']=!![];}['_onMouseMoveEvent'](_0x1cf028){function _0xc602ca(_0x2f1d8d,_0xca040e){return _0x2441a0(_0xca040e-0x114,_0x2f1d8d);}if(!this['show']||!this['particleSystem'])return;function _0x1bfab2(_0x3d3cd3,_0x35f29b){return _0x2441a0(_0x3d3cd3-0x45c,_0x35f29b);}this['mouse_down']&&(this[_0x1bfab2(0x344,0x392)][_0x1bfab2(0x31d,0x37d)]=![],this['mouse_move']=!![]);}['_onMouseUpEvent'](_0x1e243d){if(!this['show']||!this['particleSystem'])return;function _0x5bc4f7(_0x5ade80,_0x4c6b8c){return _0x2441a0(_0x5ade80-0xd3,_0x4c6b8c);}this['mouse_down']&&this[_0x4d6f2c(0x30c,0x2e3)]&&this[_0x5bc4f7(0x3a,0x53)]();function _0x4d6f2c(_0xe58c4d,_0x5032f6){return _0x2441a0(_0x5032f6-0x454,_0xe58c4d);}this['primitives']['show']=!![],this[_0x5bc4f7(0x38,0x60)]=![],this[_0x4d6f2c(0x32f,0x2e3)]=![];}[_0x23997e(-0x82,-0x8b)](){if(!this[_0xc2ffc7(0x495,0x51d)]||!this['show'])return;function _0x327117(_0x4eef8e,_0x542937){return _0x2441a0(_0x542937- -0x2d,_0x4eef8e);}this[_0x327117(-0x15d,-0xdf)]();function _0xc2ffc7(_0x1a294e,_0x1373f8){return _0x23997e(_0x1a294e-0x5a7,_0x1373f8);}this['particleSystem'][_0x327117(-0x112,-0x153)](this['viewerParameters']),this[_0x327117(-0x178,-0x145)]['show']=!![];}[_0x23997e(-0x161,-0x138)](_0x2ed331){this['_data']=_0x2ed331;function _0x32ae61(_0x4617bb,_0x2b2d92){return _0x23997e(_0x4617bb- -0x3d,_0x2b2d92);}this['particleSystem']&&this['particleSystem'][_0x32ae61(-0x18b,-0x1c5)]();function _0x3b0c70(_0x5eec4e,_0x2000c2){return _0x2441a0(_0x5eec4e-0x2f7,_0x2000c2);}this['particleSystem']=new ParticleSystem(this[_0x3b0c70(0x1a9,0x223)]['context'],_0x2ed331,this[_0x3b0c70(0x25f,0x1d0)](),this['viewerParameters']),this[_0x3b0c70(0x1b6,0x1d8)]();}['_setOptionsHook'](_0x135a68,_0x152d2f){if(_0x135a68)for(const _0x2d1b0a in _0x135a68){this[_0x2d1b0a]=_0x135a68[_0x2d1b0a];}function _0x5c9d4d(_0x1c6d15,_0x18a4c0){return _0x2441a0(_0x1c6d15-0x1a8,_0x18a4c0);}this['particleSystem']&&this[_0x5c9d4d(0x11c,0x166)]['setOptions'](this['getOptions']());}['getOptions'](){const _0x31ccdd=Math['ceil'](Math['sqrt'](this[_0x47e8b3(0x253,0x22c)]));this['particlesNumber']=_0x31ccdd*_0x31ccdd;function _0x3f0c02(_0x513d03,_0x378f3a){return _0x2441a0(_0x513d03-0x411,_0x378f3a);}const _0x511be2={};_0x511be2[_0x3f0c02(0x2db,0x35d)]=_0x31ccdd,_0x511be2[_0x3f0c02(0x38b,0x315)]=this['particlesNumber'],_0x511be2[_0x3f0c02(0x318,0x301)]=this[_0x3f0c02(0x318,0x3a7)];function _0x47e8b3(_0x2bb86f,_0x256c8f){return _0x23997e(_0x256c8f-0x31c,_0x2bb86f);}return _0x511be2['particleHeight']=this['fixedHeight'],_0x511be2[_0x3f0c02(0x34d,0x2cc)]=this[_0x47e8b3(0x20e,0x26f)],_0x511be2['dropRate']=this[_0x47e8b3(0x2a2,0x232)],_0x511be2[_0x47e8b3(0x201,0x1ac)]=this['dropRateBump'],_0x511be2['speedFactor']=this[_0x3f0c02(0x2aa,0x2ae)],_0x511be2['lineWidth']=this[_0x47e8b3(0x19f,0x21c)],_0x511be2['dynamic']=this['dynamic'],_0x511be2;}['addPrimitives'](){this[_0x2de188(0x139,0xc2)]['add'](this[_0x49f7d3(-0x92,-0x120)]['particlesComputing'][_0x49f7d3(-0x11e,-0x178)]['calculateSpeed']),this['primitives']['add'](this['particleSystem'][_0x49f7d3(-0xc0,-0xd5)][_0x49f7d3(-0x11e,-0x15b)]['updatePosition']);function _0x49f7d3(_0x48f634,_0x3b55d4){return _0x23997e(_0x48f634- -0x1d,_0x3b55d4);}this['primitives']['add'](this['particleSystem'][_0x49f7d3(-0xc0,-0x80)][_0x2de188(0x139,0x129)][_0x2de188(0x1b1,0x141)]),this['primitives'][_0x2de188(0xf3,0x105)](this['particleSystem'][_0x2de188(0x1b2,0x1f2)][_0x2de188(0x139,0x14f)]['segments']),this[_0x2de188(0x139,0x146)][_0x49f7d3(-0x164,-0x112)](this['particleSystem'][_0x49f7d3(-0xa5,-0xcd)]['primitives'][_0x49f7d3(-0xa7,-0x36)]);function _0x2de188(_0x4e15a5,_0x1fc754){return _0x23997e(_0x4e15a5-0x23a,_0x1fc754);}this[_0x49f7d3(-0x11e,-0x14a)]['add'](this['particleSystem']['particlesRendering']['primitives']['screen']);}[_0x2441a0(-0xb2,-0x43)](){function _0x3629db(_0x46a935,_0x4c1574){return _0x23997e(_0x4c1574-0xf4,_0x46a935);}let _0x4d8b93=this['camera']['computeViewRectangle'](this['scene'][_0x3629db(-0xa4,-0x1f)][_0x1c9fa9(0x26,-0x1)]);function _0x1c9fa9(_0x170596,_0x523e75){return _0x2441a0(_0x170596-0x130,_0x523e75);}if(!_0x4d8b93){const _0x2c60e7=this[_0x3629db(0x69,-0x1e)][_0x1c9fa9(0x78,0x0)]();_0x4d8b93=Cesium$1['Rectangle'][_0x1c9fa9(0x71,0xf1)](_0x2c60e7['xmin'],_0x2c60e7['ymin'],_0x2c60e7[_0x3629db(-0x58,-0x7d)],_0x2c60e7['ymax']);}const _0x3c4961=Util['viewRectangleToLonLatRange'](_0x4d8b93);this['_data']?(this[_0x3629db(0x59,0x75)][_0x3629db(-0x61,-0x84)]['x']=Math['max'](_0x3c4961[_0x3629db(-0x1e,-0x27)][_0x3629db(0x35,0x79)],this['_data']['xmin']),this[_0x3629db(0x1d,0x75)]['lonRange']['y']=Math[_0x1c9fa9(0x9e,0xe1)](_0x3c4961['lon'][_0x3629db(-0x55,-0x2)],this['_data'][_0x1c9fa9(-0x58,-0xa9)]),this[_0x3629db(0x4d,0x75)]['latRange']['x']=Math['max'](_0x3c4961['lat'][_0x1c9fa9(0x9e,0x11f)],this['_data'][_0x1c9fa9(0x12,-0x74)]),this['viewerParameters']['latRange']['y']=Math[_0x3629db(0xf1,0x79)](_0x3c4961['lat'][_0x3629db(0x7c,-0x2)],this['_data'][_0x1c9fa9(-0x26,-0x8)])):(this[_0x3629db(0x6f,0x75)][_0x1c9fa9(-0x5f,-0xa6)]['x']=_0x3c4961['lon']['min'],this['viewerParameters']['lonRange']['y']=_0x3c4961['lon'][_0x3629db(-0x75,-0x2)],this['viewerParameters'][_0x3629db(0x13,-0x11)]['x']=_0x3c4961['lat']['min'],this['viewerParameters'][_0x1c9fa9(0x14,0x14)]['y']=_0x3c4961['lat'][_0x3629db(-0x54,-0x2)]);const _0x337d06=this[_0x1c9fa9(-0x62,0x12)]['getPixelSize'](this['globeBoundingSphere'],this['scene']['drawingBufferWidth'],this['scene']['drawingBufferHeight']);_0x337d06>0x0&&(this['viewerParameters'][_0x1c9fa9(0x4,0x7a)]=_0x337d06);}}mars3d__namespace['LayerUtil']['register']('wind',WindLayer),mars3d__namespace[_0x23997e(-0x164,-0x1f2)]['WindLayer']=WindLayer;class CanvasParticle{constructor(){this[_0x5ee933(0x23d,0x228)]=null,this['lat']=null;function _0x5cd143(_0x58c0a5,_0x584b72){return _0x23997e(_0x584b72-0x95,_0x58c0a5);}this['tlng']=null,this['tlat']=null;function _0x5ee933(_0x7acce,_0xc2f389){return _0x23997e(_0x7acce-0x396,_0xc2f389);}this[_0x5ee933(0x2d8,0x35b)]=null,this[_0x5cd143(-0x85,-0x9e)]=null;}[_0x2441a0(-0x165,-0xe9)](){for(const _0x27d7df in this){delete this[_0x27d7df];}}}class CanvasWindField{constructor(_0x2d99f9){this['setOptions'](_0x2d99f9);}get['speedRate'](){function _0x2654bf(_0x234d77,_0xafc5a5){return _0x2441a0(_0x234d77-0x33c,_0xafc5a5);}return this[_0x2654bf(0x2b8,0x2bb)];}set['speedRate'](_0x37e359){function _0x9937b5(_0x1a649f,_0x1f879e){return _0x23997e(_0x1f879e-0x40,_0x1a649f);}this['_speedRate']=(0x64-(_0x37e359>0x63?0x63:_0x37e359))*0x64;function _0xe321f7(_0x1916f6,_0x4c2e11){return _0x23997e(_0x1916f6-0xc7,_0x4c2e11);}this[_0x9937b5(-0xc5,-0xeb)]=[(this['xmax']-this['xmin'])/this[_0xe321f7(0x5a,0x33)],(this['ymax']-this['ymin'])/this['_speedRate']];}get['maxAge'](){function _0x2a0903(_0x3f7be0,_0x2715cd){return _0x23997e(_0x3f7be0-0x34e,_0x2715cd);}return this[_0x2a0903(0x1df,0x22a)];}set[_0x2441a0(-0x128,-0x1ad)](_0x5eadd4){function _0x3b4578(_0x2da25c,_0x18a10a){return _0x23997e(_0x18a10a-0x52d,_0x2da25c);}this[_0x3b4578(0x3e3,0x3be)]=_0x5eadd4;}['setOptions'](_0x567dda){function _0x567753(_0x1eb76d,_0x15fae7){return _0x23997e(_0x15fae7-0x47e,_0x1eb76d);}this['options']=_0x567dda;function _0x1c87a7(_0x3ec558,_0x413819){return _0x2441a0(_0x413819- -0xbe,_0x3ec558);}this[_0x1c87a7(-0x18b,-0x1e6)]=_0x567dda['maxAge']||0x78,this[_0x567753(0x2dc,0x350)]=_0x567dda['speedRate']||0x32,this[_0x567753(0x45e,0x3cf)]=[];const _0x11f183=_0x567dda['particlesNumber']||0x1000;for(let _0x4130e6=0x0;_0x4130e6<_0x11f183;_0x4130e6++){const _0x5e7aa7=this['_randomParticle'](new CanvasParticle());this[_0x567753(0x42c,0x3cf)][_0x1c87a7(-0x189,-0x185)](_0x5e7aa7);}}['setDate'](_0x514f03){this['rows']=_0x514f03[_0x1e888e(0x4de,0x4c6)],this['cols']=_0x514f03['cols'],this['xmin']=_0x514f03[_0x258a00(0x3d5,0x3ed)],this[_0x1e888e(0x48f,0x42e)]=_0x514f03['xmax'],this['ymin']=_0x514f03['ymin'],this['ymax']=_0x514f03[_0x258a00(0x393,0x3b8)],this['grid']=[];const _0x212149=_0x514f03['udata'];function _0x1e888e(_0x1a9200,_0x1c0ecc){return _0x2441a0(_0x1a9200-0x617,_0x1c0ecc);}const _0x482e77=_0x514f03['vdata'];let _0x5b5210=![];_0x212149['length']===this[_0x1e888e(0x4de,0x549)]&&_0x212149[0x0][_0x1e888e(0x59b,0x515)]===this['cols']&&(_0x5b5210=!![]);let _0x2b574a=0x0,_0x2c4f6c=null;function _0x258a00(_0x2ee5d5,_0x1a0337){return _0x23997e(_0x1a0337-0x4f7,_0x2ee5d5);}let _0x5f1cdd=null;for(let _0x46e16f=0x0;_0x46e16f<this[_0x1e888e(0x4de,0x530)];_0x46e16f++){_0x2c4f6c=[];for(let _0x403ca2=0x0;_0x403ca2<this[_0x1e888e(0x534,0x4c9)];_0x403ca2++,_0x2b574a++){_0x5b5210?_0x5f1cdd=this['_calcUV'](_0x212149[_0x46e16f][_0x403ca2],_0x482e77[_0x46e16f][_0x403ca2]):_0x5f1cdd=this['_calcUV'](_0x212149[_0x2b574a],_0x482e77[_0x2b574a]),_0x2c4f6c['push'](_0x5f1cdd);}this['grid'][_0x1e888e(0x550,0x55a)](_0x2c4f6c);}this['options']['reverseY']&&this[_0x258a00(0x4d6,0x474)][_0x258a00(0x3f9,0x47a)]();}['clear'](){delete this['rows'],delete this['cols'],delete this['xmin'],delete this['xmax'];function _0x235c15(_0x376382,_0x3e7422){return _0x23997e(_0x3e7422-0x463,_0x376382);}delete this['ymin'],delete this[_0x235c15(0x2c4,0x324)];function _0x31eadb(_0x571341,_0x59c3a6){return _0x2441a0(_0x59c3a6-0x249,_0x571341);}delete this['grid'],delete this[_0x31eadb(0x1c9,0x183)];}[_0x2441a0(-0xf4,-0x16d)](_0xca7ebb,_0x418e25){const _0x42974e=(_0xca7ebb-this['xmin'])/(this[_0x28268e(-0x27a,-0x2e1)]-this[_0x28268e(-0x213,-0x184)])*(this[_0x28268e(-0x1d5,-0x146)]-0x1);function _0x28268e(_0x3cbfdf,_0x1565ee){return _0x2441a0(_0x3cbfdf- -0xf2,_0x1565ee);}const _0x22c80b=(this['ymax']-_0x418e25)/(this[_0x28268e(-0x248,-0x1c5)]-this[_0x2370b2(-0xc1,-0xb8)])*(this[_0x2370b2(-0xb1,-0xd3)]-0x1);function _0x2370b2(_0xb18d34,_0x15d93a){return _0x23997e(_0x15d93a-0x4f,_0xb18d34);}return[_0x42974e,_0x22c80b];}[_0x2441a0(-0xfb,-0x86)](_0x260a4f,_0x40c88d){if(_0x260a4f<0x0||_0x260a4f>=this['cols']||_0x40c88d>=this['rows'])return[0x0,0x0,0x0];const _0x14626b=Math['floor'](_0x260a4f),_0x43140a=Math[_0x54ea3a(0x121,0x199)](_0x40c88d);if(_0x14626b===_0x260a4f&&_0x43140a===_0x40c88d)return this['grid'][_0x40c88d][_0x260a4f];function _0x54ea3a(_0x3d60c1,_0x77bb95){return _0x23997e(_0x3d60c1-0x184,_0x77bb95);}const _0x2023d5=_0x14626b+0x1,_0x2b95ea=_0x43140a+0x1;function _0x6e65e0(_0x49e3f4,_0x41491a){return _0x23997e(_0x49e3f4-0x3bc,_0x41491a);}const _0x3e7efc=this[_0x6e65e0(0x2d8,0x276)](_0x14626b,_0x43140a),_0x3e62af=this['getUVByXY'](_0x2023d5,_0x43140a),_0x3bfdb0=this[_0x54ea3a(0xa0,0xf2)](_0x14626b,_0x2b95ea),_0x17bd3f=this[_0x6e65e0(0x2d8,0x24a)](_0x2023d5,_0x2b95ea);let _0x397fe1=null;try{_0x397fe1=this['_bilinearInterpolation'](_0x260a4f-_0x14626b,_0x40c88d-_0x43140a,_0x3e7efc,_0x3e62af,_0x3bfdb0,_0x17bd3f);}catch(_0x25b7ed){console['log'](_0x260a4f,_0x40c88d);}return _0x397fe1;}[_0x23997e(-0x10c,-0x13b)](_0x3ffa67,_0x4799ef,_0x2d8767,_0x259666,_0x4b2200,_0x4f80e0){const _0x243174=0x1-_0x3ffa67,_0x1a1170=0x1-_0x4799ef,_0x351b4d=_0x243174*_0x1a1170,_0x4bcbdb=_0x3ffa67*_0x1a1170;function _0xb72e5c(_0x222942,_0x3fc753){return _0x2441a0(_0x222942-0x3b7,_0x3fc753);}const _0x5eba50=_0x243174*_0x4799ef,_0x3f0502=_0x3ffa67*_0x4799ef,_0x49a18a=_0x2d8767[0x0]*_0x351b4d+_0x259666[0x0]*_0x4bcbdb+_0x4b2200[0x0]*_0x5eba50+_0x4f80e0[0x0]*_0x3f0502,_0x462ba5=_0x2d8767[0x1]*_0x351b4d+_0x259666[0x1]*_0x4bcbdb+_0x4b2200[0x1]*_0x5eba50+_0x4f80e0[0x1]*_0x3f0502;return this[_0xb72e5c(0x2c2,0x293)](_0x49a18a,_0x462ba5);}[_0x23997e(-0xde,-0x135)](_0x53fdf5,_0x459a26){function _0x5be782(_0x54d911,_0x3309b0){return _0x2441a0(_0x54d911-0x28a,_0x3309b0);}return[+_0x53fdf5,+_0x459a26,Math[_0x5be782(0x126,0xe1)](_0x53fdf5*_0x53fdf5+_0x459a26*_0x459a26)];}['getUVByPoint'](_0x319918,_0x428f78){if(!this[_0x4e3f2c(0x5a0,0x5e0)](_0x319918,_0x428f78))return null;const _0x2d09ea=this['toGridXY'](_0x319918,_0x428f78);function _0x4e3f2c(_0x2d4822,_0x2e35b9){return _0x23997e(_0x2d4822-0x65f,_0x2e35b9);}const _0x57ef38=this['getUVByXY'](_0x2d09ea[0x0],_0x2d09ea[0x1]);return _0x57ef38;}[_0x2441a0(-0xd6,-0x98)](_0x49ed32,_0x416c6a){function _0x59f3ae(_0xf8c97b,_0x3d9724){return _0x23997e(_0xf8c97b- -0xd2,_0x3d9724);}function _0x90d68c(_0x1373d5,_0x14efa4){return _0x2441a0(_0x1373d5-0x1c3,_0x14efa4);}return _0x49ed32>=this['xmin']&&_0x49ed32<=this['xmax']&&_0x416c6a>=this[_0x59f3ae(-0x1d9,-0x184)]&&_0x416c6a<=this[_0x90d68c(0x6d,0xf4)]?!![]:![];}[_0x23997e(-0x143,-0x167)](){const _0x46f771=fRandomByfloat(this['xmin'],this[_0x1542c6(-0x1e,-0x6)]),_0x20d261=fRandomByfloat(this['ymin'],this['ymax']);function _0x1542c6(_0x468801,_0x1fb854){return _0x23997e(_0x468801-0x153,_0x1fb854);}const _0x4c858d={};return _0x4c858d['lat']=_0x20d261,_0x4c858d['lng']=_0x46f771,_0x4c858d;}[_0x23997e(-0x120,-0x118)](){function _0x2453e7(_0xf05ad8,_0x24ad68){return _0x2441a0(_0xf05ad8-0x3e3,_0x24ad68);}let _0x474a71,_0x2e49ea,_0x2d475b;function _0x2f8001(_0x447439,_0xabe361){return _0x23997e(_0x447439-0x13d,_0xabe361);}for(let _0x5026ac=0x0,_0x3fc719=this['particles'][_0x2f8001(0xd8,0x4f)];_0x5026ac<_0x3fc719;_0x5026ac++){let _0x39cf60=this[_0x2453e7(0x31d,0x293)][_0x5026ac];_0x39cf60['age']<=0x0&&(_0x39cf60=this['_randomParticle'](_0x39cf60));if(_0x39cf60[_0x2453e7(0x30e,0x388)]>0x0){const _0x528463=_0x39cf60['tlng'],_0x2ac936=_0x39cf60['tlat'];_0x2d475b=this['getUVByPoint'](_0x528463,_0x2ac936),_0x2d475b?(_0x474a71=_0x528463+this['_calc_speedRate'][0x0]*_0x2d475b[0x0],_0x2e49ea=_0x2ac936+this[_0x2f8001(0x12,0x8d)][0x1]*_0x2d475b[0x1],_0x39cf60[_0x2453e7(0x273,0x2c1)]=_0x528463,_0x39cf60['lat']=_0x2ac936,_0x39cf60['tlng']=_0x474a71,_0x39cf60[_0x2453e7(0x258,0x280)]=_0x2e49ea,_0x39cf60['speed']=_0x2d475b[0x2],_0x39cf60['age']--):_0x39cf60['age']=0x0;}}return this['particles'];}['_randomParticle'](_0x5cf065){let _0x149b92,_0x25b46d;for(let _0x4b8d84=0x0;_0x4b8d84<0x1e;_0x4b8d84++){_0x149b92=this['getRandomLatLng'](),_0x25b46d=this[_0x35a0e4(-0x240,-0x205)](_0x149b92['lng'],_0x149b92['lat']);if(_0x25b46d&&_0x25b46d[0x2]>0x0)break;}if(!_0x25b46d)return _0x5cf065;function _0x35a0e4(_0x34c2c4,_0x10ad96){return _0x23997e(_0x10ad96- -0x102,_0x34c2c4);}const _0x4cfc3c=_0x149b92['lng']+this[_0x35a0e4(-0x22e,-0x22d)][0x0]*_0x25b46d[0x0],_0xaa62a6=_0x149b92[_0x35a0e4(-0x156,-0x194)]+this['_calc_speedRate'][0x1]*_0x25b46d[0x1];_0x5cf065[_0x35a0e4(-0x295,-0x25b)]=_0x149b92['lng'],_0x5cf065['lat']=_0x149b92['lat'],_0x5cf065['tlng']=_0x4cfc3c;function _0x57dcc9(_0x46ca4f,_0x1dc2f7){return _0x23997e(_0x46ca4f-0x1d0,_0x1dc2f7);}return _0x5cf065['tlat']=_0xaa62a6,_0x5cf065['age']=Math['round'](Math[_0x57dcc9(0x130,0x1bc)]()*this[_0x35a0e4(-0x25d,-0x213)]),_0x5cf065[_0x57dcc9(0x9d,0x60)]=_0x25b46d[0x2],_0x5cf065;}[_0x2441a0(-0x165,-0x1c5)](){for(const _0x31f976 in this){delete this[_0x31f976];}}}function fRandomByfloat(_0x895a82,_0x143ce3){return _0x895a82+Math['random']()*(_0x143ce3-_0x895a82);}const Cesium=mars3d__namespace[_0x23997e(-0x15c,-0x13b)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class CanvasWindLayer extends BaseLayer{constructor(_0x213079={}){super(_0x213079),this[_0x3f92cb(0x39c,0x32c)](_0x213079),this[_0xe8facd(0x267,0x2da)]=null;function _0x3f92cb(_0x57e4d9,_0x3bec7){return _0x23997e(_0x57e4d9-0x400,_0x3bec7);}function _0xe8facd(_0x3a5ca6,_0x5a5e37){return _0x23997e(_0x5a5e37-0x34b,_0x3a5ca6);}_0x213079[_0x3f92cb(0x31e,0x2ad)]&&_0x213079['steps']&&(this['_colorRamp']=new mars3d__namespace['ColorRamp'](_0x213079));}[_0x23997e(-0x64,-0xb0)](_0x299ae6,_0x2bd941){this[_0x31e982(0x48b,0x51a)]=0x3e8/(_0x299ae6[_0x11bc13(0x2b5,0x328)]||0xa),this['_pointerEvents']=this[_0x11bc13(0x396,0x320)]['pointerEvents']??![],this['color']=_0x299ae6['color']||'#ffffff',this['lineWidth']=_0x299ae6[_0x31e982(0x531,0x520)]||0x1;function _0x11bc13(_0x14fccb,_0x1198ac){return _0x23997e(_0x1198ac-0x40f,_0x14fccb);}function _0x31e982(_0x29b6c7,_0x383a6e){return _0x2441a0(_0x383a6e-0x637,_0x29b6c7);}this[_0x11bc13(0x2e0,0x2ea)]=_0x299ae6['fixedHeight']??0x0,this[_0x11bc13(0x2dc,0x369)]=_0x299ae6['reverseY']??![],this['windField']&&this['windField']['setOptions'](_0x299ae6);}get[_0x23997e(-0x164,-0x156)](){return this['canvas'];}get['canvasWidth'](){function _0x3cd3a9(_0x4090ed,_0xda57c){return _0x2441a0(_0x4090ed-0x8e,_0xda57c);}return this['_map'][_0x3cd3a9(-0xc0,-0xa3)]['canvas']['clientWidth'];}get[_0x2441a0(-0x146,-0x139)](){function _0xa297fa(_0x22825c,_0xd15448){return _0x23997e(_0xd15448-0xf5,_0x22825c);}function _0x6d2833(_0x1a8ff5,_0x498f27){return _0x2441a0(_0x1a8ff5- -0x80,_0x498f27);}return this[_0x6d2833(-0x1a9,-0x13e)]['scene'][_0xa297fa(0xdb,0x84)]['clientHeight'];}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x599719){this[_0x9338cb(0x25f,0x2d6)]=_0x599719;if(!this['canvas'])return;function _0x9338cb(_0x354f43,_0x7f3b1c){return _0x2441a0(_0x7f3b1c-0x3c3,_0x354f43);}function _0xfb3180(_0x25383f,_0x40c12b){return _0x23997e(_0x40c12b-0x4c0,_0x25383f);}_0x599719?this['canvas']['style'][_0x9338cb(0x2a2,0x27f)]='all':this['canvas']['style']['pointer-events']='none';}get['particlesNumber'](){function _0x54402e(_0x882669,_0x534be8){return _0x23997e(_0x534be8-0x2f7,_0x882669);}function _0x44988b(_0x339c00,_0x293c77){return _0x23997e(_0x293c77- -0x144,_0x339c00);}return this[_0x44988b(-0x1ab,-0x233)][_0x54402e(0x17d,0x207)];}set[_0x2441a0(-0x107,-0xc0)](_0x2bf48f){this['options']['particlesNumber']=_0x2bf48f,clearTimeout(this['_canrefresh']);function _0x5d2d8c(_0x24b06d,_0x46d60b){return _0x23997e(_0x24b06d-0x146,_0x46d60b);}this[_0x5d2d8c(0x10,-0x12)]=setTimeout(()=>{function _0x48b567(_0x40b006,_0x106507){return _0x5d2d8c(_0x40b006-0x1c,_0x106507);}this[_0x48b567(0xe0,0x63)]();},0x1f4);}get[_0x2441a0(-0x145,-0x108)](){function _0x5ddd89(_0x2d9f62,_0x280980){return _0x2441a0(_0x280980- -0x18,_0x2d9f62);}return this['options'][_0x5ddd89(-0x1d0,-0x15d)];}set['speedRate'](_0x546013){function _0x518ba7(_0x518c30,_0x54b3aa){return _0x23997e(_0x54b3aa-0x1ba,_0x518c30);}function _0x4a70fe(_0x449a64,_0x42fae4){return _0x23997e(_0x42fae4-0x3ef,_0x449a64);}this['options'][_0x4a70fe(0x27f,0x2c1)]=_0x546013,this[_0x518ba7(0x89,0x91)]&&(this['windField'][_0x4a70fe(0x315,0x2c1)]=_0x546013);}get['maxAge'](){function _0xf918a8(_0x19c91b,_0x26778b){return _0x23997e(_0x26778b-0x21e,_0x19c91b);}function _0x56e7c9(_0x5e89c0,_0x402959){return _0x2441a0(_0x402959- -0x9a,_0x5e89c0);}return this[_0x56e7c9(-0x125,-0x1a0)][_0x56e7c9(-0x1f1,-0x1c2)];}set[_0x2441a0(-0x128,-0xfd)](_0x5b85e0){function _0x524a0d(_0x3029f4,_0x291b3c){return _0x2441a0(_0x3029f4-0x2f7,_0x291b3c);}function _0x2dfe0b(_0xf743c1,_0x40e21a){return _0x2441a0(_0xf743c1-0xe5,_0x40e21a);}this['options'][_0x2dfe0b(-0x43,0x2e)]=_0x5b85e0,this['windField']&&(this['windField'][_0x2dfe0b(-0x43,-0x61)]=_0x5b85e0);}get['data'](){function _0x541148(_0x1b0d11,_0x428e0){return _0x2441a0(_0x1b0d11-0x49f,_0x428e0);}return this[_0x541148(0x3ce,0x434)];}set[_0x23997e(-0x172,-0x1ca)](_0x4b042e){this['setData'](_0x4b042e);}[_0x23997e(-0x61,-0x45)](_0xdd6e64){function _0x1d1a00(_0x4dc514,_0x2530e9){return _0x2441a0(_0x4dc514-0x61c,_0x2530e9);}_0xdd6e64?this['_addedHook']():(this['windData']&&(this[_0x1d1a00(0x516,0x486)]['data']=this['windData']),this['_removedHook']());}['_mountedHook'](){function _0x82309c(_0x5890a1,_0x46fbce){return _0x2441a0(_0x5890a1-0x357,_0x46fbce);}function _0xcac53b(_0x58d425,_0x386df7){return _0x2441a0(_0x58d425-0x1fd,_0x386df7);}this[_0x82309c(0x251,0x20d)]['worker']?this[_0xcac53b(0x70,0xd1)]():this['windField']=new CanvasWindField(this[_0xcac53b(0xf7,0x116)]);}[_0x2441a0(-0xb3,-0x36)](){this[_0x338791(0x12,0x64)]=this['_createCanvas']();const _0x2d4706={};function _0x338791(_0x911ad0,_0x384886){return _0x23997e(_0x911ad0-0x83,_0x384886);}_0x2d4706['willReadFrequently']=!![],this['canvasContext']=this['canvas'][_0x338791(-0x34,-0x6d)]('2d',_0x2d4706),this['bindEvent']();function _0x86217e(_0x1362b6,_0x50534a){return _0x2441a0(_0x1362b6-0x439,_0x50534a);}this[_0x86217e(0x333,0x38b)][_0x86217e(0x2b0,0x32d)]&&this[_0x338791(-0xde,-0x9c)](this[_0x338791(-0x6c,-0x4c)]['data']);}[_0x23997e(-0x14a,-0xc5)](){this[_0x38304b(0x1ec,0x166)](),this[_0x1f43fa(-0x21,-0x5f)]();function _0x1f43fa(_0x582bd0,_0x17945a){return _0x23997e(_0x17945a-0x95,_0x582bd0);}function _0x38304b(_0x2937c1,_0x45945c){return _0x23997e(_0x45945c-0x26e,_0x2937c1);}this[_0x1f43fa(0x6d,0x24)]&&(this['_map']['container'][_0x1f43fa(0x34,0x2c)](this['canvas']),delete this[_0x38304b(0x1ad,0x1fd)]);}[_0x2441a0(-0xec,-0x168)](){const _0x594b97=mars3d__namespace['DomUtil'][_0xfe4f5b(0x3f1,0x3c0)]('canvas',_0xfe4f5b(0x3c0,0x3fe),this['_map']['container']);_0x594b97['style']['position']='absolute';function _0xfe4f5b(_0x404aad,_0x1a827f){return _0x2441a0(_0x404aad-0x522,_0x1a827f);}_0x594b97['style']['top']=_0xfe4f5b(0x3a5,0x37f),_0x594b97['style']['left']='0px',_0x594b97[_0x157cd9(-0xac,-0x124)]['width']=this['_map'][_0xfe4f5b(0x3d4,0x445)]['canvas'][_0x157cd9(-0x103,-0x190)]+'px';function _0x157cd9(_0x359e0c,_0x25b8bb){return _0x2441a0(_0x25b8bb- -0x27,_0x359e0c);}return _0x594b97[_0x157cd9(-0x117,-0x124)]['height']=this[_0xfe4f5b(0x3f9,0x38d)]['scene']['canvas']['clientHeight']+'px',_0x594b97[_0x157cd9(-0x168,-0x124)]['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x594b97[_0x157cd9(-0x188,-0x124)][_0x157cd9(-0x119,-0x140)]=this[_0x157cd9(-0xad,-0x12d)]['zIndex']??0x9,_0x594b97[_0x157cd9(-0xe6,-0xb6)]=this['_map'][_0x157cd9(-0x19f,-0x175)]['canvas']['clientWidth'],_0x594b97[_0xfe4f5b(0x497,0x418)]=this[_0x157cd9(-0x19f,-0x150)]['scene'][_0x157cd9(-0x39,-0xaf)]['clientHeight'],_0x594b97;}['resize'](){function _0x2177aa(_0x4770b1,_0x270b4a){return _0x23997e(_0x4770b1- -0x112,_0x270b4a);}function _0x4b336a(_0x78a2bc,_0x2e0bed){return _0x2441a0(_0x2e0bed- -0x121,_0x78a2bc);}this['canvas']&&(this['canvas']['style']['width']=this['_map']['scene']['canvas'][_0x4b336a(-0x206,-0x28a)]+'px',this['canvas']['style'][_0x4b336a(-0x188,-0x1ac)]=this['_map'][_0x2177aa(-0x249,-0x22f)][_0x2177aa(-0x183,-0x156)]['clientHeight']+'px',this['canvas'][_0x2177aa(-0x18a,-0x1dd)]=this['_map'][_0x4b336a(-0x2af,-0x26f)][_0x4b336a(-0x12c,-0x1a9)]['clientWidth'],this[_0x2177aa(-0x183,-0x1a5)]['height']=this['_map'][_0x4b336a(-0x23a,-0x26f)]['canvas']['clientHeight']);}['bindEvent'](){function _0xc646c3(_0x197914,_0x318897){return _0x2441a0(_0x318897- -0x1b,_0x197914);}const _0x2dd7e4=this;function _0x2384cc(_0x230495,_0x6b160a){return _0x23997e(_0x6b160a-0x2c0,_0x230495);}let _0x69cf0f=Date[_0x2384cc(0x1f2,0x20d)]();(function _0x14241d(){function _0x5308e2(_0x544b07,_0x73aa15){return _0x2384cc(_0x73aa15,_0x544b07- -0xe8);}function _0xd81b4b(_0x129c7a,_0x4254be){return _0x2384cc(_0x129c7a,_0x4254be-0x2da);}if(_0x2dd7e4[_0x5308e2(0x10d,0x19c)])return;_0x2dd7e4[_0xd81b4b(0x49b,0x43d)]=window['requestAnimationFrame'](_0x14241d);if(_0x2dd7e4[_0xd81b4b(0x4e8,0x472)]&&_0x2dd7e4['windField']){const _0x570153=Date[_0x5308e2(0x125,0x9e)](),_0x3ba2f2=_0x570153-_0x69cf0f;_0x3ba2f2>_0x2dd7e4['frameTime']&&(_0x69cf0f=_0x570153-_0x3ba2f2%_0x2dd7e4['frameTime'],_0x2dd7e4['update']());}}(),window['addEventListener'](_0xc646c3(-0x119,-0xf9),this[_0xc646c3(-0x15d,-0xf9)][_0x2384cc(0x178,0x1bc)](this),![]),this['mouse_down']=![],this[_0x2384cc(0x192,0x166)]=![],this['options']['mouseHidden']&&(this['_map']['on'](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this[_0x2384cc(0x234,0x1ae)]['on'](mars3d__namespace[_0xc646c3(-0x114,-0x12c)][_0xc646c3(-0x1ea,-0x1a9)],this['_onMouseUpEvent'],this)));}['unbindEvent'](){function _0x4ad775(_0x49758a,_0x1da3b0){return _0x2441a0(_0x49758a-0x259,_0x1da3b0);}window['cancelAnimationFrame'](this[_0x4ad775(0xe5,0x5d)]),delete this[_0x4ad775(0xe5,0xba)],window['removeEventListener']('resize',this['resize']);function _0x4db9d9(_0x34a379,_0x26d706){return _0x23997e(_0x34a379-0x60c,_0x26d706);}this['options'][_0x4db9d9(0x53a,0x51a)]&&(this[_0x4ad775(0x130,0xed)][_0x4db9d9(0x4e9,0x465)](mars3d__namespace[_0x4db9d9(0x512,0x547)][_0x4db9d9(0x4f8,0x514)],this[_0x4db9d9(0x548,0x522)],this),this['_map']['off'](mars3d__namespace[_0x4ad775(0x148,0xce)][_0x4ad775(0x101,0xb3)],this[_0x4db9d9(0x4bb,0x45d)],this),this['_map']['off'](mars3d__namespace[_0x4db9d9(0x512,0x49f)][_0x4db9d9(0x495,0x51f)],this['_onMouseUpEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMouseMoveEvent'],this));}['_onMapWhellEvent'](_0x4422b3){clearTimeout(this['refreshTimer']);if(!this[_0x591579(-0x1f9,-0x261)]||!this[_0x3bea34(0x2dc,0x317)])return;function _0x591579(_0xc9890c,_0x44bd4f){return _0x2441a0(_0xc9890c- -0xba,_0x44bd4f);}function _0x3bea34(_0x311fd5,_0x28155){return _0x2441a0(_0x311fd5-0x364,_0x28155);}this[_0x591579(-0x142,-0x18f)]['style']['visibility']='hidden',this[_0x591579(-0x226,-0x268)]=setTimeout(()=>{if(!this[_0x5c2793(0x76,0xe7)])return;this['redraw']();function _0x5c2793(_0x41716d,_0x509ef6){return _0x3bea34(_0x509ef6- -0x13e,_0x41716d);}function _0x2f35b2(_0x3f6062,_0x3f50db){return _0x3bea34(_0x3f6062- -0x3a5,_0x3f50db);}this['canvas'][_0x5c2793(0x199,0x129)]['visibility']=_0x5c2793(0x1b3,0x196);},0xc8);}[_0x2441a0(-0x168,-0x184)](_0x4469f3){function _0x4b31b9(_0x40c657,_0x45827b){return _0x2441a0(_0x40c657-0x30d,_0x45827b);}this['mouse_down']=!![],this['_map'][_0x4b31b9(0x1d3,0x198)](mars3d__namespace['EventType'][_0x422df7(0x488,0x417)],this['_onMouseMoveEvent'],this);function _0x422df7(_0x32154d,_0x17a1fe){return _0x23997e(_0x32154d-0x549,_0x17a1fe);}this[_0x422df7(0x437,0x42c)]['on'](mars3d__namespace[_0x422df7(0x44f,0x480)]['mouseMove'],this[_0x422df7(0x407,0x480)],this);}['_onMouseMoveEvent'](_0x32f1c0){if(!this['show']||!this[_0x29e9d8(0x3ba,0x3d6)])return;function _0x546c19(_0x1db01d,_0x4c9ee1){return _0x2441a0(_0x1db01d-0x410,_0x4c9ee1);}function _0x29e9d8(_0x59fc07,_0x51cb66){return _0x23997e(_0x59fc07-0x42b,_0x51cb66);}this[_0x546c19(0x375,0x2e9)]&&(this[_0x546c19(0x388,0x3f9)]['style'][_0x546c19(0x399,0x3c3)]='hidden',this['mouse_move']=!![]);}['_onMouseUpEvent'](_0x5906db){function _0x342c7c(_0x4ed9f2,_0x19f7bd){return _0x2441a0(_0x19f7bd-0x349,_0x4ed9f2);}function _0x4af4d0(_0x3b7653,_0x57ef86){return _0x23997e(_0x57ef86-0x4d3,_0x3b7653);}if(!this[_0x342c7c(0x21f,0x20a)]||!this['canvas'])return;this[_0x4af4d0(0x334,0x3c1)][_0x4af4d0(0x38d,0x3b0)](mars3d__namespace['EventType'][_0x4af4d0(0x494,0x412)],this['_onMouseMoveEvent'],this),this[_0x342c7c(0x2aa,0x2ae)]&&this['mouse_move']&&this[_0x342c7c(0x227,0x2b0)](),this[_0x4af4d0(0x3e4,0x462)]['style'][_0x4af4d0(0x3fe,0x473)]=_0x4af4d0(0x3f7,0x45a),this[_0x4af4d0(0x414,0x44f)]=![],this['mouse_move']=![];}[_0x2441a0(-0x178,-0x19d)](_0x31edc3){this[_0x234839(0x58,0x79)]();function _0x234839(_0x365a2b,_0x3a4d61){return _0x23997e(_0x365a2b-0x160,_0x3a4d61);}function _0x24af29(_0x363f8b,_0x306ec7){return _0x23997e(_0x306ec7-0x51,_0x363f8b);}this['windData']=_0x31edc3,this[_0x234839(0x37,-0x4a)]['setDate'](_0x31edc3),this['redraw']();}['redraw'](){if(!this['show'])return;function _0x172f29(_0x1ee8a2,_0x270d6c){return _0x2441a0(_0x270d6c-0x107,_0x1ee8a2);}function _0x21561f(_0x12cd8d,_0x591878){return _0x23997e(_0x591878-0x4e3,_0x12cd8d);}this['windField']['setOptions'](this[_0x172f29(-0x4d,0x1)]),this[_0x21561f(0x3ab,0x423)]();}['update'](){if(this[_0x490ede(0x4d9,0x4a8)])return;this[_0x47f01d(0x329,0x325)]=!![];if(this['worker'])this['windField'][_0x47f01d(0x3d4,0x455)]();else{const _0x1e12bd=this['windField']['getParticles']();this[_0x490ede(0x5ad,0x5db)](_0x1e12bd);}function _0x490ede(_0x163389,_0x4500f4){return _0x2441a0(_0x163389-0x65b,_0x4500f4);}function _0x47f01d(_0x30b2ca,_0x43e4c3){return _0x23997e(_0x30b2ca-0x494,_0x43e4c3);}this['_updateIng']=![];}[_0x23997e(-0x97,-0xb5)](_0x10b5a8){this[_0x5b8383(-0x48,-0x75)][_0x5b8383(-0x48,-0xab)]='destination-in',this['canvasContext']['fillRect'](0x0,0x0,this['canvasWidth'],this[_0x41734c(0x3e0,0x446)]),this['canvasContext']['globalCompositeOperation']='lighter';function _0x5b8383(_0x26e473,_0x368f64){return _0x2441a0(_0x368f64-0x7c,_0x26e473);}this['canvasContext']['globalAlpha']=0.9;function _0x41734c(_0x36b47a,_0x1a8aee){return _0x2441a0(_0x1a8aee-0x58c,_0x36b47a);}const _0x455098=this['_map']['scene']['mode']!==Cesium['SceneMode']['SCENE3D'],_0x199d27=this[_0x41734c(0x3d6,0x457)]*0.25;if(this[_0x41734c(0x454,0x40e)])for(let _0x280da7=0x0,_0x242b11=_0x10b5a8[_0x41734c(0x502,0x510)];_0x280da7<_0x242b11;_0x280da7++){const _0x30b7a2=_0x10b5a8[_0x280da7],_0x43f7fd=this['_tomap'](_0x30b7a2[_0x41734c(0x483,0x41c)],_0x30b7a2['lat'],_0x30b7a2),_0xb7aa7e=this['_tomap'](_0x30b7a2['tlng'],_0x30b7a2['tlat'],_0x30b7a2);if(!_0x43f7fd||!_0xb7aa7e)continue;if(_0x455098&&Math['abs'](_0x43f7fd[0x0]-_0xb7aa7e[0x0])>=_0x199d27)continue;this[_0x5b8383(-0xe2,-0x75)]['beginPath'](),this[_0x5b8383(-0xf1,-0x75)][_0x5b8383(-0xa2,-0x9b)]=this['lineWidth'],this['canvasContext']['strokeStyle']=this['_colorRamp'][_0x5b8383(-0xb5,-0x109)](_0x30b7a2['speed']),this['canvasContext']['moveTo'](_0x43f7fd[0x0],_0x43f7fd[0x1]),this[_0x41734c(0x4b9,0x49b)][_0x5b8383(-0x12e,-0xcf)](_0xb7aa7e[0x0],_0xb7aa7e[0x1]),this['canvasContext']['stroke']();}else{this[_0x5b8383(-0x57,-0x75)]['beginPath'](),this[_0x41734c(0x49e,0x49b)]['lineWidth']=this['lineWidth'],this[_0x41734c(0x4ae,0x49b)][_0x5b8383(0x5,-0x15)]=this['color'];for(let _0x142326=0x0,_0x2934cc=_0x10b5a8['length'];_0x142326<_0x2934cc;_0x142326++){const _0x410eb9=_0x10b5a8[_0x142326],_0x45ac8e=this[_0x5b8383(-0x11b,-0xb7)](_0x410eb9['lng'],_0x410eb9[_0x41734c(0x4fd,0x4e3)],_0x410eb9),_0x31ee4c=this['_tomap'](_0x410eb9['tlng'],_0x410eb9[_0x5b8383(-0x152,-0x10f)],_0x410eb9);if(!_0x45ac8e||!_0x31ee4c)continue;if(_0x455098&&Math[_0x5b8383(-0x108,-0x7e)](_0x45ac8e[0x0]-_0x31ee4c[0x0])>=_0x199d27)continue;this['canvasContext']['moveTo'](_0x45ac8e[0x0],_0x45ac8e[0x1]),this['canvasContext']['lineTo'](_0x31ee4c[0x0],_0x31ee4c[0x1]);}this[_0x5b8383(-0x102,-0x75)][_0x41734c(0x45e,0x4ce)]();}}['_tomap'](_0x309a72,_0x5ee269,_0x49a90){const _0x48f300=Cesium[_0x571623(-0xf2,-0xfe)]['fromDegrees'](_0x309a72,_0x5ee269,this['fixedHeight']),_0x52c892=this[_0x571623(-0xf7,-0x78)]['scene'];if(_0x52c892['mode']===Cesium[_0x571623(-0x15e,-0x18d)]['SCENE3D']){const _0xb119bd=new Cesium['EllipsoidalOccluder'](_0x52c892['globe'][_0x2ac88b(-0x22c,-0x1e6)],_0x52c892['camera']['positionWC']),_0x486262=_0xb119bd['isPointVisible'](_0x48f300);if(!_0x486262)return _0x49a90['age']=0x0,null;}function _0x571623(_0x1f1ec4,_0x4cafb5){return _0x23997e(_0x1f1ec4-0x1b,_0x4cafb5);}const _0x5cdc31=mars3d__namespace['PointTrans']['toWindowCoordinates'](this['_map'][_0x2ac88b(-0x270,-0x22a)],_0x48f300);function _0x2ac88b(_0x44770c,_0xf434d){return _0x2441a0(_0x44770c- -0x122,_0xf434d);}return _0x5cdc31?[_0x5cdc31['x'],_0x5cdc31['y']]:null;}['clear'](){function _0x4d9562(_0x255c41,_0x406118){return _0x23997e(_0x255c41-0x39c,_0x406118);}this[_0x4d9562(0x273,0x2c8)]['clear'](),delete this['windData'];}[_0x23997e(-0x176,-0x1cb)](){function _0x59bb28(_0x491608,_0x2dbbed){return _0x23997e(_0x491608-0x5a2,_0x2dbbed);}this[_0x59bb28(0x45c,0x44e)]=new Worker(this[_0x2c82ef(0x4fc,0x4a7)]['worker']),this[_0x59bb28(0x45c,0x40e)]['onmessage']=_0x1ce082=>{function _0x346dd5(_0x983563,_0x277198){return _0x2c82ef(_0x983563,_0x277198- -0x67f);}function _0x2c9e49(_0x53e2c7,_0x572130){return _0x59bb28(_0x53e2c7- -0x2e3,_0x572130);}this['_drawLines'](_0x1ce082[_0x346dd5(-0x2d8,-0x25b)][_0x346dd5(-0x1ef,-0x198)]),this[_0x2c9e49(0x214,0x23a)]=![];};function _0x2c82ef(_0x2b5ade,_0x1e9ab5){return _0x23997e(_0x1e9ab5-0x596,_0x2b5ade);}this['windField']={'init':_0x2f9d40=>{function _0x2e442a(_0x3d2150,_0x2477a5){return _0x59bb28(_0x3d2150- -0x5af,_0x2477a5);}function _0x35877c(_0x58fbb2,_0x56b457){return _0x2c82ef(_0x58fbb2,_0x56b457- -0x6eb);}const _0x3c2a12={};_0x3c2a12[_0x2e442a(-0x14d,-0x10c)]='init',_0x3c2a12['options']=_0x2f9d40,this['worker'][_0x2e442a(-0x75,-0xbc)](_0x3c2a12);},'setOptions':_0x419d5b=>{const _0x155c0d={};_0x155c0d[_0x228bf2(0x190,0x12d)]=_0x228bf2(0x1e8,0x21d);function _0x228bf2(_0x2cad52,_0xc8b815){return _0x2c82ef(_0xc8b815,_0x2cad52- -0x2c6);}_0x155c0d['options']=_0x419d5b;function _0x5021ae(_0x4c9096,_0x163c95){return _0x59bb28(_0x163c95- -0x1e6,_0x4c9096);}this['worker']['postMessage'](_0x155c0d);},'setDate':_0x500f4e=>{const _0x461d39={};function _0x4214e4(_0x1270ba,_0x4d8c85){return _0x2c82ef(_0x4d8c85,_0x1270ba- -0x2d8);}_0x461d39[_0x4724bb(-0x226,-0x28c)]='setDate',_0x461d39[_0x4724bb(-0x312,-0x2be)]=_0x500f4e;function _0x4724bb(_0xe71e54,_0x50d572){return _0x59bb28(_0x50d572- -0x6ee,_0xe71e54);}this['worker']['postMessage'](_0x461d39);},'update':()=>{if(this['_updateIng2'])return;function _0x3b49af(_0x53b78d,_0x28167e){return _0x2c82ef(_0x53b78d,_0x28167e- -0x3f4);}this['_updateIng2']=!![];const _0x1053cc={};_0x1053cc[_0x50b969(0x380,0x313)]=_0x50b969(0x3ff,0x393);function _0x50b969(_0x40752d,_0x439222){return _0x59bb28(_0x439222- -0x14f,_0x40752d);}this[_0x50b969(0x34d,0x30d)]['postMessage'](_0x1053cc);},'clear':()=>{function _0x537d97(_0x47945e,_0x16eaf0){return _0x2c82ef(_0x47945e,_0x16eaf0- -0x388);}const _0x373180={};_0x373180[_0x537d97(0x63,0xce)]='clear',this['worker']['postMessage'](_0x373180);}},this['windField'][_0x2c82ef(0x473,0x4c3)](this['options']);}}mars3d__namespace['LayerUtil'][_0x2441a0(-0xaf,-0xc3)]('canvasWind',CanvasWindLayer),mars3d__namespace['layer']['CanvasWindLayer']=CanvasWindLayer;function _0x23997e(_0x33dd1b,_0x5db803){return _0x3f6e(_0x33dd1b- -0x286,_0x5db803);}mars3d__namespace['CanvasWindField']=CanvasWindField,mars3d__namespace['WindUtil']=WindUtil,exports['CanvasWindField']=CanvasWindField,exports['CanvasWindLayer']=CanvasWindLayer,exports['WindLayer']=WindLayer,exports['WindUtil']=WindUtil;const _0x45f1ed={};_0x45f1ed[_0x23997e(-0x175,-0x150)]=!![],Object['defineProperty'](exports,'__esModule',_0x45f1ed);
}));
