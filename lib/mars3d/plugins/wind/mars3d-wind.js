/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.8.3
 * 编译日期：2024-09-12 11:41:11
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-08-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';(function(_0x19e836,_0x5b3114){function _0x1131de(_0x4e2af2,_0x54e71d){return _0x468a(_0x4e2af2-0x1e1,_0x54e71d);}function _0x54aa9c(_0x6619e2,_0x42e54e){return _0x468a(_0x42e54e-0x2b5,_0x6619e2);}const _0x425e37=_0x19e836();while(!![]){try{const _0x4cba87=-parseInt(_0x1131de(0x2d2,0x245))/0x1*(parseInt(_0x54aa9c(0x400,0x40f))/0x2)+-parseInt(_0x54aa9c(0x4e0,0x494))/0x3+parseInt(_0x1131de(0x3a7,0x401))/0x4+-parseInt(_0x54aa9c(0x473,0x3ea))/0x5*(parseInt(_0x1131de(0x2bc,0x2da))/0x6)+-parseInt(_0x1131de(0x358,0x357))/0x7*(-parseInt(_0x1131de(0x2f6,0x33c))/0x8)+-parseInt(_0x1131de(0x36c,0x35d))/0x9*(-parseInt(_0x1131de(0x318,0x37e))/0xa)+-parseInt(_0x1131de(0x393,0x3cd))/0xb;if(_0x4cba87===_0x5b3114)break;else _0x425e37['push'](_0x425e37['shift']());}catch(_0x375655){_0x425e37['push'](_0x425e37['shift']());}}}(_0x4118,0x28553));function _interopNamespace(_0x232756){function _0xd31dc1(_0x40824c,_0x2f4fef){return _0x468a(_0x2f4fef- -0x197,_0x40824c);}if(_0x232756&&_0x232756[_0xd31dc1(-0xbe,-0x65)])return _0x232756;var _0x4aeb76=Object[_0xd31dc1(-0x38,-0x51)](null);function _0x2e04a0(_0x1e52f8,_0x1b5739){return _0x468a(_0x1b5739-0xb3,_0x1e52f8);}return _0x232756&&Object['keys'](_0x232756)[_0x2e04a0(0x217,0x1ce)](function(_0x55e033){function _0x155740(_0x115c96,_0x15d7cd){return _0xd31dc1(_0x115c96,_0x15d7cd-0x3ca);}function _0xba172d(_0x190f0c,_0x95a026){return _0x2e04a0(_0x190f0c,_0x95a026-0x31c);}if(_0x55e033!==_0x155740(0x314,0x395)){var _0x5956f2=Object[_0x155740(0x3e5,0x38c)](_0x232756,_0x55e033);Object[_0xba172d(0x5c9,0x54c)](_0x4aeb76,_0x55e033,_0x5956f2['get']?_0x5956f2:{'enumerable':!![],'get':function(){return _0x232756[_0x55e033];}});}}),_0x4aeb76['default']=_0x232756,_0x4aeb76;}var mars3d__namespace=_interopNamespace(mars3d);const Cesium$7=mars3d__namespace['Cesium'];function getU(_0x560437,_0x8c068f){const _0x4be4aa=_0x560437*Math['cos'](Cesium$7[_0x48ee42(0x4a5,0x4a5)][_0x1d3838(0x5a,0x9a)](_0x8c068f));function _0x1d3838(_0x2dc314,_0x5862a8){return _0x468a(_0x5862a8- -0x4f,_0x2dc314);}function _0x48ee42(_0x35bb03,_0xbc234c){return _0x468a(_0xbc234c-0x2fb,_0x35bb03);}return _0x4be4aa;}function getV(_0x197c9f,_0xe35d45){const _0x27dfad=_0x197c9f*Math['sin'](Cesium$7['Math'][_0x3fc5c1(-0x1d4,-0x25c)](_0xe35d45));function _0x3fc5c1(_0x289b93,_0x3fd7e6){return _0x468a(_0x3fd7e6- -0x345,_0x289b93);}return _0x27dfad;}function getSpeed(_0x1ddf79,_0x5c6125){const _0x1f8fe2=Math[_0x2fedfb(0x20c,0x1a9)](Math['pow'](_0x1ddf79,0x2)+Math['pow'](_0x5c6125,0x2));function _0x2fedfb(_0x2b9cfe,_0x5e2cea){return _0x468a(_0x2b9cfe-0x114,_0x5e2cea);}return _0x1f8fe2;}function getDirection(_0x55beeb,_0x396ba0){let _0x2c25f6=Cesium$7[_0x15b3ba(0x210,0x17c)]['toDegrees'](Math[_0x15b3ba(0xf7,0xb9)](_0x396ba0,_0x55beeb));function _0x15b3ba(_0x4803e7,_0x4a76dd){return _0x468a(_0x4a76dd- -0x2e,_0x4803e7);}_0x2c25f6+=_0x2c25f6<0x0?0x168:0x0;function _0x3f3d56(_0x4fe781,_0x431b87){return _0x468a(_0x4fe781- -0xce,_0x431b87);}return _0x2c25f6;}const _0x1cd992={};_0x1cd992[_0x19ef9b(-0x2de,-0x26c)]=null,_0x1cd992['getU']=getU,_0x1cd992['getV']=getV,_0x1cd992[_0x19ef9b(-0x2dc,-0x25c)]=getSpeed,_0x1cd992['getDirection']=getDirection;var WindUtil=_0x1cd992;const Cesium$6=mars3d__namespace[_0x19ef9b(-0x2a3,-0x216)];class CustomPrimitive{constructor(_0x30f305){this['commandType']=_0x30f305['commandType'],this['geometry']=_0x30f305['geometry'],this['attributeLocations']=_0x30f305['attributeLocations'];function _0x26b4ec(_0x477743,_0x3f3cd5){return _0x200676(_0x477743- -0x22f,_0x3f3cd5);}this[_0x130cde(-0x8b,-0xc5)]=_0x30f305[_0x130cde(-0x8b,-0x2f)],this['uniformMap']=_0x30f305['uniformMap'],this['vertexShaderSource']=_0x30f305['vertexShaderSource'],this['fragmentShaderSource']=_0x30f305['fragmentShaderSource'],this[_0x26b4ec(0x33f,0x37b)]=_0x30f305['rawRenderState'],this[_0x130cde(-0xa5,-0x127)]=_0x30f305[_0x130cde(-0xa5,-0x7c)],this['outputTexture']=_0x30f305[_0x130cde(0x9,-0x45)],this['autoClear']=_0x30f305[_0x130cde(0x79,0xa0)]??![],this['preExecute']=_0x30f305['preExecute'],this['show']=!![],this['commandToExecute']=undefined,this['clearCommand']=undefined;function _0x130cde(_0x10ac5b,_0x73510){return _0x19ef9b(_0x73510,_0x10ac5b-0x220);}this['autoClear']&&(this['clearCommand']=new Cesium$6['ClearCommand']({'color':new Cesium$6['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this['framebuffer'],'pass':Cesium$6[_0x26b4ec(0x2f2,0x2f7)]['OPAQUE']}));}[_0x200676(0x4c3,0x455)](_0xf601fd){function _0x482501(_0x3a95c8,_0x7cc3ab){return _0x19ef9b(_0x3a95c8,_0x7cc3ab-0x2cb);}function _0x47b347(_0xd720f,_0x42c4b7){return _0x200676(_0x42c4b7- -0x5a8,_0xd720f);}switch(this['commandType']){case'Draw':{const _0x406545=Cesium$6[_0x47b347(-0x9f,-0x6b)][_0x482501(0x29,0x76)]({'context':_0xf601fd,'geometry':this['geometry'],'attributeLocations':this[_0x482501(0x58,0x8f)],'bufferUsage':Cesium$6[_0x47b347(-0x46,-0x3e)][_0x47b347(-0x7f,-0xee)]}),_0x36f8dd={};_0x36f8dd['context']=_0xf601fd,_0x36f8dd[_0x47b347(-0xd1,-0x8b)]=this[_0x482501(0x8e,0x8f)],_0x36f8dd['vertexShaderSource']=this['vertexShaderSource'],_0x36f8dd['fragmentShaderSource']=this[_0x482501(0x153,0xe2)];const _0x464aa5=Cesium$6[_0x47b347(-0xae,-0xe2)]['fromCache'](_0x36f8dd),_0x42faec=Cesium$6[_0x47b347(-0xa1,-0xa8)]['fromCache'](this['rawRenderState']);return new Cesium$6['DrawCommand']({'owner':this,'vertexArray':_0x406545,'primitiveType':this[_0x482501(-0x56,0x20)],'uniformMap':this['uniformMap'],'modelMatrix':Cesium$6[_0x47b347(-0x18c,-0x112)]['IDENTITY'],'shaderProgram':_0x464aa5,'framebuffer':this[_0x47b347(-0x126,-0x114)],'renderState':_0x42faec,'pass':Cesium$6['Pass']['OPAQUE']});}case _0x482501(0x4e,0x14):{const _0x1fff49={};return _0x1fff49['owner']=this,_0x1fff49['fragmentShaderSource']=this['fragmentShaderSource'],_0x1fff49[_0x47b347(-0xb2,-0x9b)]=this[_0x47b347(-0xab,-0x9b)],_0x1fff49[_0x47b347(-0x4c,-0x66)]=this[_0x482501(0x135,0xb4)],_0x1fff49[_0x482501(0xaa,0x1c)]=!![],new Cesium$6['ComputeCommand'](_0x1fff49);}}}[_0x19ef9b(-0x1a0,-0x1ff)](_0x4e8fb0,_0x197e80){this['geometry']=_0x197e80;const _0x29ed4e=Cesium$6[_0x133997(0x3a0,0x31e)]['fromGeometry']({'context':_0x4e8fb0,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':Cesium$6['BufferUsage']['STATIC_DRAW']});function _0x133997(_0x1cb09f,_0x173d8f){return _0x200676(_0x173d8f- -0x21f,_0x1cb09f);}this['commandToExecute']['vertexArray']=_0x29ed4e;}[_0x19ef9b(-0x249,-0x23e)](_0x3d5bf8){if(!this['show'])return;if(_0x3d5bf8['mode']!==Cesium$6['SceneMode']['SCENE3D'])return;function _0x1be44b(_0xc19eb7,_0x42ef7c){return _0x200676(_0xc19eb7- -0x316,_0x42ef7c);}!Cesium$6[_0x1be44b(0x264,0x26a)](this['commandToExecute'])&&(this['commandToExecute']=this['createCommand'](_0x3d5bf8['context']));function _0x1fc5f8(_0x27ac46,_0x59eea3){return _0x200676(_0x59eea3- -0x4dc,_0x27ac46);}Cesium$6[_0x1be44b(0x264,0x204)](this[_0x1fc5f8(-0x22,0x56)])&&this['preExecute'](),Cesium$6['defined'](this['clearCommand'])&&_0x3d5bf8[_0x1be44b(0x1e2,0x229)]['push'](this['clearCommand']),_0x3d5bf8['commandList'][_0x1fc5f8(0xcb,0x5e)](this[_0x1fc5f8(0x41,0x5c)]);}['isDestroyed'](){return![];}[_0x19ef9b(-0x268,-0x1ec)](){function _0xe9b68c(_0x35d75f,_0x44bb2e){return _0x200676(_0x35d75f- -0x5d0,_0x44bb2e);}if(this['clearCommand']){var _0x49182d,_0x255293;(_0x49182d=this[_0x4d9255(-0x159,-0x139)])!==null&&_0x49182d!==void 0x0&&_0x49182d['vertexArray']&&this['clearCommand'][_0xe9b68c(-0x108,-0x159)][_0xe9b68c(-0x63,-0x76)](),(_0x255293=this['clearCommand'])!==null&&_0x255293!==void 0x0&&_0x255293['shaderProgram']&&this['clearCommand'][_0x4d9255(-0xdb,-0x11e)][_0x4d9255(0xe,-0x6f)](),delete this['clearCommand'];}this[_0xe9b68c(-0x98,-0x88)]&&(this['commandToExecute'][_0xe9b68c(-0x108,-0x10f)]&&this[_0x4d9255(-0x42,-0xa4)]['vertexArray']['destroy'](),this[_0xe9b68c(-0x98,-0x11e)]['shaderProgram']&&this[_0xe9b68c(-0x98,-0x49)]['shaderProgram'][_0x4d9255(-0xb4,-0x6f)](),delete this[_0x4d9255(-0xf6,-0xa4)]);function _0x4d9255(_0x3c681f,_0x32fc49){return _0x19ef9b(_0x3c681f,_0x32fc49-0x17d);}return Cesium$6[_0x4d9255(-0x151,-0x10c)](this);}}const Cesium$5=mars3d__namespace['Cesium'],Util=(function(){const _0x5b701f=function(){const _0x274600=new Cesium$5[(_0x1ee0b2(-0xd2,-0x10e))]({'attributes':new Cesium$5[(_0x292c40(0x370,0x3c6))]({'position':new Cesium$5[(_0x1ee0b2(-0xad,-0x8c))]({'componentDatatype':Cesium$5[_0x1ee0b2(-0x144,-0x131)][_0x292c40(0x361,0x392)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});function _0x1ee0b2(_0x258106,_0x497783){return _0x468a(_0x258106- -0x21e,_0x497783);}function _0x292c40(_0x43161f,_0x4c6752){return _0x468a(_0x4c6752-0x1f3,_0x43161f);}return _0x274600;},_0x485008=function(_0x1e61a8,_0x58b594){function _0x3f0b82(_0x55268f,_0x3e4b29){return _0x468a(_0x55268f- -0x29f,_0x3e4b29);}if(Cesium$5[_0x386d35(-0x2f,-0x80)](_0x58b594)){const _0x8c2c49={};_0x8c2c49['arrayBufferView']=_0x58b594,_0x1e61a8[_0x3f0b82(-0xf8,-0x6f)]=_0x8c2c49;}function _0x386d35(_0x318f48,_0x34b7fb){return _0x468a(_0x318f48- -0x1df,_0x34b7fb);}const _0x159c70=new Cesium$5[(_0x386d35(-0xd8,-0xe7))](_0x1e61a8);return _0x159c70;},_0x5718f3=function(_0x23bc2d,_0x528c4d,_0x3bd723){const _0x2cacbd={};function _0x18d287(_0x1a1c53,_0x25edbb){return _0x468a(_0x25edbb-0x36f,_0x1a1c53);}_0x2cacbd['context']=_0x23bc2d,_0x2cacbd[_0x47bef8(0x51c,0x514)]=[_0x528c4d];function _0x47bef8(_0x21936c,_0x13f9a7){return _0x468a(_0x21936c-0x39c,_0x13f9a7);}_0x2cacbd[_0x47bef8(0x4d9,0x540)]=_0x3bd723;const _0xedb656=new Cesium$5['Framebuffer'](_0x2cacbd);return _0xedb656;};function _0x2eba06(_0x4e68c7,_0x28a369){return _0x200676(_0x4e68c7- -0x540,_0x28a369);}const _0x8812e0=function(_0x8acabf){const _0x41cfab=!![],_0x5740c9=![],_0x3d23f8={};_0x3d23f8['viewport']=_0x8acabf['viewport'];function _0x33e5c3(_0x5b5cf9,_0x343c10){return _0x468a(_0x5b5cf9-0x165,_0x343c10);}_0x3d23f8['depthTest']=_0x8acabf['depthTest'];function _0x1b6811(_0x25c99d,_0x5423fc){return _0x468a(_0x5423fc- -0x15a,_0x25c99d);}_0x3d23f8[_0x33e5c3(0x237,0x1d8)]=_0x8acabf['depthMask'],_0x3d23f8['blending']=_0x8acabf[_0x33e5c3(0x2ed,0x2a1)];const _0x4f322b=_0x3d23f8,_0xeb6e3f=Cesium$5[_0x33e5c3(0x2f9,0x2da)]['getDefaultRenderState'](_0x41cfab,_0x5740c9,_0x4f322b);return _0xeb6e3f;};function _0xcb071d(_0x10f8b2,_0x294ee0){return _0x200676(_0x294ee0- -0x90,_0x10f8b2);}const _0x270609=function(_0x23216d){const _0x130b6d={},_0x1261b8=Cesium$5['Math']['mod'](_0x23216d['west'],Cesium$5['Math'][_0xd5629a(-0x36,-0x5d)]),_0x347127=Cesium$5['Math'][_0x3cd80c(0x198,0x1ef)](_0x23216d[_0xd5629a(-0xbe,-0x3b)],Cesium$5['Math']['TWO_PI']),_0x2d711a=_0x23216d['width'];let _0x500c90;function _0x3cd80c(_0x3e06b0,_0xaadef7){return _0x468a(_0xaadef7-0x80,_0x3e06b0);}let _0xb03768;_0x2d711a>Cesium$5[_0xd5629a(0x3c,0x4a)]['THREE_PI_OVER_TWO']?(_0x500c90=0x0,_0xb03768=Cesium$5[_0x3cd80c(0x22e,0x22a)]['TWO_PI']):_0x347127-_0x1261b8<_0x2d711a?(_0x500c90=_0x1261b8,_0xb03768=_0x1261b8+_0x2d711a):(_0x500c90=_0x1261b8,_0xb03768=_0x347127);function _0xd5629a(_0x5bb771,_0x5cdd03){return _0x468a(_0x5cdd03- -0x160,_0x5bb771);}_0x130b6d['lon']={'min':Cesium$5[_0xd5629a(0xc5,0x4a)]['toDegrees'](_0x500c90),'max':Cesium$5['Math']['toDegrees'](_0xb03768)};const _0x5a73b3=_0x23216d['south'],_0x2b4213=_0x23216d['north'],_0x30c12d=_0x23216d['height'],_0x1ef08a=_0x30c12d>Cesium$5['Math']['PI']/0xc?_0x30c12d/0x2:0x0;let _0x656b07=Cesium$5['Math'][_0xd5629a(0x6d,-0x19)](_0x5a73b3-_0x1ef08a),_0x339b05=Cesium$5['Math']['clampToLatitudeRange'](_0x2b4213+_0x1ef08a);return _0x656b07<-Cesium$5['Math']['PI_OVER_THREE']&&(_0x656b07=-Cesium$5[_0x3cd80c(0x277,0x22a)]['PI_OVER_TWO']),_0x339b05>Cesium$5['Math'][_0xd5629a(0x18,-0x22)]&&(_0x339b05=Cesium$5[_0x3cd80c(0x1b6,0x22a)]['PI_OVER_TWO']),_0x130b6d[_0xd5629a(-0x65,0x2d)]={'min':Cesium$5['Math']['toDegrees'](_0x656b07),'max':Cesium$5[_0xd5629a(-0x37,0x4a)]['toDegrees'](_0x339b05)},_0x130b6d;},_0x29e549={};return _0x29e549[_0x2eba06(0x40,0x9f)]=_0x5b701f,_0x29e549['createTexture']=_0x485008,_0x29e549[_0xcb071d(0x474,0x498)]=_0x5718f3,_0x29e549[_0x2eba06(0x8,0x89)]=_0x8812e0,_0x29e549['viewRectangleToLonLatRange']=_0x270609,_0x29e549;}());var fullscreenVert='#version\x20300\x20es\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec2\x20st;\x0a\x0aout\x20vec2\x20textureCoordinate;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20textureCoordinate\x20=\x20st;\x0a\x20\x20gl_Position\x20=\x20vec4(position,\x201.0f);\x0a}\x0a',screenDrawFrag=_0x200676(0x4f3,0x529),segmentDrawFrag='#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20colorTable;\x0auniform\x20bool\x20colour;\x0a\x0ain\x20float\x20heightNormalization;\x0ain\x20float\x20speedNormalization;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20const\x20float\x20zero\x20=\x200.0f;\x0a\x20\x20if(speedNormalization\x20>\x20zero)\x20{\x0a\x20\x20\x20\x20if(colour)\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(heightNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(speedNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(zero);\x0a\x20\x20}\x0a}\x0a',segmentDrawVert=_0x200676(0x4b2,0x424),trailDrawFrag='#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0a\x0auniform\x20sampler2D\x20segmentsColorTexture;\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0a\x0auniform\x20sampler2D\x20currentTrailsColor;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0auniform\x20float\x20fadeOpacity;\x0a\x0aout\x20vec4\x20fragColor;\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20pointsColor\x20=\x20texture(segmentsColorTexture,\x20textureCoordinate);\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(currentTrailsColor,\x20textureCoordinate);\x0a\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0f\x20*\x20trailsColor)\x20/\x20255.0f;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0a\x0a\x20\x20float\x20pointsDepth\x20=\x20texture(segmentsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20if(pointsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20pointsColor;\x0a\x20\x20}\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20trailsColor;\x0a\x20\x20}\x0a\x20\x20gl_FragDepth\x20=\x20min(pointsDepth,\x20trailsDepth);\x0a}\x0a';const Cesium$4=mars3d__namespace['Cesium'];class ParticlesRendering{constructor(_0xfebbc7,_0x1f3dec,_0x5daff7,_0x39745b,_0x28ac81){function _0x1d1a3f(_0x1ebeda,_0x4d084d){return _0x19ef9b(_0x4d084d,_0x1ebeda-0xe1);}this[_0x1d1a3f(-0x19f,-0x1a8)]=_0x5daff7['colors']==='height',this[_0x22b0cb(-0x30,-0x6f)](_0xfebbc7,_0x1f3dec,_0x5daff7['colors']);function _0x22b0cb(_0x46eba0,_0x58e086){return _0x19ef9b(_0x58e086,_0x46eba0-0x264);}this['createRenderingFramebuffers'](_0xfebbc7),this[_0x22b0cb(0x7a,0x92)](_0xfebbc7,_0x1f3dec,_0x5daff7,_0x39745b,_0x28ac81);}['createRenderingTextures'](_0x583d14,_0xbf1278,_0x2ea7f3){const _0x3e3471={};_0x3e3471['context']=_0x583d14,_0x3e3471[_0x49a780(0x5d,0xb8)]=_0x583d14[_0x49a780(0x1c6,0x1ac)],_0x3e3471['height']=_0x583d14['drawingBufferHeight'];function _0x626c16(_0x283ce0,_0x59f170){return _0x200676(_0x59f170- -0x529,_0x283ce0);}_0x3e3471['pixelFormat']=Cesium$4['PixelFormat'][_0x626c16(-0x79,-0x3e)],_0x3e3471[_0x626c16(-0xb,0x5d)]=Cesium$4['PixelDatatype']['UNSIGNED_BYTE'];const _0x310116=_0x3e3471,_0x55c44c={};_0x55c44c['context']=_0x583d14,_0x55c44c[_0x626c16(-0x92,-0x79)]=_0x583d14['drawingBufferWidth'],_0x55c44c['height']=_0x583d14['drawingBufferHeight'],_0x55c44c[_0x626c16(-0xc6,-0x53)]=Cesium$4['PixelFormat'][_0x626c16(-0x14,-0x98)],_0x55c44c[_0x49a780(0xfb,0x18e)]=Cesium$4['PixelDatatype']['UNSIGNED_INT'];function _0x49a780(_0x1c1ae5,_0x5e3bbc){return _0x19ef9b(_0x1c1ae5,_0x5e3bbc-0x361);}const _0x596eab=_0x55c44c,_0x2762f1=_0x2ea7f3['length'],_0x12cc7e=new Float32Array(_0x2762f1*0x3);for(let _0x299712=0x0;_0x299712<_0x2762f1;_0x299712++){const _0x3643f3=Cesium$4[_0x626c16(-0xd2,-0x8f)][_0x626c16(0x15,0x37)](_0x2ea7f3[_0x299712]);_0x12cc7e[0x3*_0x299712]=_0x3643f3[_0x626c16(0xa3,0x49)],_0x12cc7e[0x3*_0x299712+0x1]=_0x3643f3[_0x626c16(0x13,0x61)],_0x12cc7e[0x3*_0x299712+0x2]=_0x3643f3[_0x626c16(-0x3a,-0x14)];}const _0x324028={'context':_0x583d14,'width':_0x2762f1,'height':0x1,'pixelFormat':Cesium$4[_0x626c16(-0x3b,-0x52)]['RGB'],'pixelDatatype':Cesium$4[_0x626c16(-0xc0,-0x4c)]['FLOAT'],'sampler':new Cesium$4['Sampler']({'minificationFilter':Cesium$4['TextureMinificationFilter'][_0x626c16(0x3,-0x56)],'magnificationFilter':Cesium$4[_0x49a780(0xa3,0x117)][_0x49a780(0x112,0xdb)]})};this['textures']={'segmentsColor':Util[_0x49a780(0x1ef,0x1a8)](_0x310116),'segmentsDepth':Util[_0x49a780(0x227,0x1a8)](_0x596eab),'currentTrailsColor':Util['createTexture'](_0x310116),'currentTrailsDepth':Util[_0x49a780(0x11d,0x1a8)](_0x596eab),'nextTrailsColor':Util[_0x626c16(0xd4,0x77)](_0x310116),'nextTrailsDepth':Util[_0x49a780(0x1b6,0x1a8)](_0x596eab),'colorTable':Util['createTexture'](_0x324028,_0x12cc7e)};}['createRenderingFramebuffers'](_0x48a5a5){function _0x5df59b(_0x59ec44,_0x1d76a5){return _0x19ef9b(_0x1d76a5,_0x59ec44-0x1c4);}function _0x11a3ce(_0x20a885,_0x34d588){return _0x200676(_0x20a885- -0x686,_0x34d588);}this[_0x5df59b(-0x7c,-0x9)]={'segments':Util[_0x11a3ce(-0x15e,-0xf8)](_0x48a5a5,this['textures']['segmentsColor'],this[_0x11a3ce(-0x15b,-0x1a6)]['segmentsDepth']),'currentTrails':Util[_0x5df59b(-0x6d,-0x30)](_0x48a5a5,this[_0x11a3ce(-0x15b,-0x11b)]['currentTrailsColor'],this['textures']['currentTrailsDepth']),'nextTrails':Util[_0x11a3ce(-0x15e,-0xe9)](_0x48a5a5,this['textures'][_0x11a3ce(-0x152,-0x1ce)],this['textures']['nextTrailsDepth'])};}['createSegmentsGeometry'](_0x532dd4){const _0x1839f5=0x4;let _0xc19428=[];for(let _0x170b34=0x0;_0x170b34<_0x532dd4['particlesTextureSize'];_0x170b34++){for(let _0x50b136=0x0;_0x50b136<_0x532dd4[_0x36f3d3(-0x16a,-0x125)];_0x50b136++){for(let _0x40252f=0x0;_0x40252f<_0x1839f5;_0x40252f++){_0xc19428['push'](_0x170b34/_0x532dd4[_0x36f3d3(-0x16a,-0x1a7)]),_0xc19428[_0x55ddfc(0x32f,0x2fd)](_0x50b136/_0x532dd4['particlesTextureSize']);}}}function _0x55ddfc(_0x125871,_0x3e5069){return _0x19ef9b(_0x125871,_0x3e5069-0x51c);}_0xc19428=new Float32Array(_0xc19428);let _0x1cb2b3=[];for(let _0x624a4c=0x0;_0x624a4c<_0x532dd4['maxParticles'];_0x624a4c++){_0x1cb2b3[_0x55ddfc(0x35b,0x2fd)](-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0);}_0x1cb2b3=new Float32Array(_0x1cb2b3);let _0x1934ba=[];for(let _0x17115d=0x0,_0x410dfe=0x0;_0x17115d<_0x532dd4['maxParticles'];_0x17115d++){_0x1934ba['push'](_0x410dfe+0x0,_0x410dfe+0x1,_0x410dfe+0x2,_0x410dfe+0x2,_0x410dfe+0x1,_0x410dfe+0x3),_0x410dfe+=_0x1839f5;}_0x1934ba=new Uint32Array(_0x1934ba);const _0x34d2b1=new Cesium$4['Geometry']({'attributes':new Cesium$4['GeometryAttributes']({'st':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4[_0x55ddfc(0x2ad,0x267)]['FLOAT'],'componentsPerAttribute':0x2,'values':_0xc19428}),'normal':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4['ComponentDatatype'][_0x36f3d3(-0xe5,-0x14e)],'componentsPerAttribute':0x3,'values':_0x1cb2b3})}),'indices':_0x1934ba});function _0x36f3d3(_0x7b9d98,_0xe15548){return _0x200676(_0x7b9d98- -0x64e,_0xe15548);}return _0x34d2b1;}[_0x200676(0x56f,0x567)](_0x400e4f,_0x1e29ae,_0x43c043,_0x4b1eff,_0x1e2d66){const _0x19412a=this,_0x37809a={};_0x37809a['st']=0x0,_0x37809a['normal']=0x1;const _0x4369ba={};_0x4369ba['sources']=[segmentDrawVert];const _0x1a46d5={};_0x1a46d5['sources']=[segmentDrawFrag];const _0x3d33b0={};_0x3d33b0['enabled']=!![];const _0x282df4={};_0x282df4['viewport']=undefined,_0x282df4['depthTest']=_0x3d33b0,_0x282df4['depthMask']=!![];const _0x1ceaab={};_0x1ceaab['position']=0x0,_0x1ceaab['st']=0x1;const _0x1c185f={};_0x1c185f['defines']=['DISABLE_GL_POSITION_LOG_DEPTH'],_0x1c185f['sources']=[fullscreenVert];function _0x5cd2e6(_0x4e217f,_0x3384bf){return _0x19ef9b(_0x3384bf,_0x4e217f-0x549);}const _0x2a2732={};_0x2a2732[_0x5cd2e6(0x358,0x3aa)]=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x2a2732[_0x545109(-0x347,-0x2f2)]=[trailDrawFrag];const _0x3014fe={};function _0x545109(_0x46889c,_0x407358){return _0x200676(_0x407358- -0x79f,_0x46889c);}_0x3014fe['position']=0x0,_0x3014fe['st']=0x1;const _0x42668e={};_0x42668e['defines']=['DISABLE_GL_POSITION_LOG_DEPTH'],_0x42668e[_0x5cd2e6(0x29d,0x2af)]=[fullscreenVert];const _0x2b7c50={};_0x2b7c50[_0x545109(-0x290,-0x237)]=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x2b7c50[_0x545109(-0x2b9,-0x2f2)]=[screenDrawFrag];const _0x2b8c8b={};_0x2b8c8b['enabled']=![];const _0x48e5f3={};_0x48e5f3['enabled']=!![],this['primitives']={'segments':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x37809a,'geometry':this['createSegmentsGeometry'](_0x43c043),'primitiveType':Cesium$4[_0x5cd2e6(0x303,0x375)][_0x5cd2e6(0x3a4,0x31e)],'uniformMap':{'previousParticlesPosition':function(){function _0x49011f(_0x40cd81,_0xacd37d){return _0x545109(_0x40cd81,_0xacd37d-0x42b);}return _0x1e2d66[_0x49011f(0x1fb,0x1e8)]['previousParticlesPosition'];},'currentParticlesPosition':function(){return _0x1e2d66['particlesTextures']['currentParticlesPosition'];},'postProcessingPosition':function(){return _0x1e2d66['particlesTextures']['postProcessingPosition'];},'particlesSpeed':function(){function _0xbd8c3b(_0x5ab3de,_0x50af01){return _0x545109(_0x5ab3de,_0x50af01-0x5ed);}return _0x1e2d66['particlesTextures'][_0xbd8c3b(0x309,0x354)];},'colorTable':function(){function _0x46d098(_0x40a398,_0x523f28){return _0x545109(_0x40a398,_0x523f28-0x352);}return _0x19412a[_0x46d098(0xc0,0xde)]['colorTable'];},'aspect':function(){function _0x40f9a9(_0x253dd0,_0x2f743b){return _0x545109(_0x2f743b,_0x253dd0-0x6a4);}return _0x400e4f['drawingBufferWidth']/_0x400e4f[_0x40f9a9(0x4b8,0x4a4)];},'H':function(){function _0xa55686(_0x53bf31,_0x31c61d){return _0x5cd2e6(_0x31c61d- -0x566,_0x53bf31);}return _0x1e29ae['H'][_0xa55686(-0x1f4,-0x24c)];},'hRange':function(){return new Cesium$4['Cartesian2'](_0x1e29ae['H']['min'],_0x1e29ae['H']['max']);},'uSpeedRange':function(){function _0x5c9b31(_0x20d9eb,_0x1f7fad){return _0x545109(_0x1f7fad,_0x20d9eb-0x6f9);}function _0x40975b(_0x39e7d0,_0x31c44e){return _0x545109(_0x31c44e,_0x39e7d0-0x1c8);}return new Cesium$4['Cartesian2'](_0x1e29ae['U'][_0x5c9b31(0x505,0x4ea)],_0x1e29ae['U'][_0x5c9b31(0x4f3,0x4c9)]);},'vSpeedRange':function(){function _0xea93db(_0x16faa9,_0x48021f){return _0x5cd2e6(_0x48021f- -0x285,_0x16faa9);}function _0x5d39c5(_0x531970,_0x1de194){return _0x5cd2e6(_0x1de194-0x104,_0x531970);}return new Cesium$4[(_0x5d39c5(0x3f2,0x39f))](_0x1e29ae['V'][_0xea93db(0x18d,0x116)],_0x1e29ae['V']['max']);},'wSpeedRange':function(){function _0x4788d6(_0x32f4d2,_0x304ac7){return _0x5cd2e6(_0x32f4d2- -0x18a,_0x304ac7);}return new Cesium$4['Cartesian2'](_0x1e29ae['W']['min'],_0x1e29ae['W'][_0x4788d6(0x1ff,0x27d)]);},'pixelSize':function(){return _0x4b1eff['pixelSize'];},'lineWidth':function(){return _0x43c043['lineWidth'];},'particleHeight':function(){function _0x3d186d(_0x572f3e,_0x5a3e15){return _0x5cd2e6(_0x5a3e15- -0x35d,_0x572f3e);}return _0x43c043[_0x3d186d(-0x125,-0xa2)];},'colour':function(){function _0x578814(_0x652dde,_0x2e2644){return _0x5cd2e6(_0x2e2644-0x1a,_0x652dde);}return _0x19412a[_0x578814(0x2bb,0x2e3)];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x4369ba),'fragmentShaderSource':new Cesium$4[(_0x5cd2e6(0x2c8,0x280))](_0x1a46d5),'rawRenderState':Util[_0x5cd2e6(0x338,0x31c)](_0x282df4),'framebuffer':this['framebuffers']['segments'],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':_0x545109(-0x248,-0x21c),'attributeLocations':_0x1ceaab,'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){return _0x19412a['textures']['segmentsColor'];},'segmentsDepthTexture':function(){return _0x19412a['textures']['segmentsDepth'];},'currentTrailsColor':function(){function _0x275290(_0xb02f8c,_0x2c01e4){return _0x5cd2e6(_0x2c01e4- -0xdb,_0xb02f8c);}function _0x28314a(_0xfc229d,_0x3ae1b3){return _0x5cd2e6(_0x3ae1b3- -0xc4,_0xfc229d);}return _0x19412a[_0x275290(0x29e,0x22e)]['currentTrails'][_0x28314a(0x1f9,0x26b)](0x0);},'trailsDepthTexture':function(){function _0x4f710b(_0x14dad7,_0x88f2d2){return _0x545109(_0x14dad7,_0x88f2d2-0x3fd);}return _0x19412a['framebuffers']['currentTrails'][_0x4f710b(0x100,0x165)];},'fadeOpacity':function(){return _0x43c043['fadeOpacity'];}},'vertexShaderSource':new Cesium$4[(_0x5cd2e6(0x2c8,0x259))](_0x1c185f),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x2a2732),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4['DepthFunction']['ALWAYS']},'depthMask':!![]}),'framebuffer':this['framebuffers']['nextTrails'],'autoClear':!![],'preExecute':function(){function _0x2fc638(_0x54d633,_0x5d345f){return _0x545109(_0x54d633,_0x5d345f-0x3ef);}if(_0x43c043['dynamic']){const _0x302cfd=_0x19412a[_0x2fc638(0x173,0x169)]['currentTrails'];_0x19412a['framebuffers']['currentTrails']=_0x19412a['framebuffers']['nextTrails'],_0x19412a[_0x4eb902(0x3c3,0x3e9)]['nextTrails']=_0x302cfd;}function _0x4eb902(_0x183c17,_0x3e0c59){return _0x545109(_0x3e0c59,_0x183c17-0x649);}_0x19412a['primitives']['trails']['commandToExecute'][_0x2fc638(0x6c,0xe4)]=_0x19412a[_0x4eb902(0x3c3,0x3c0)]['nextTrails'],_0x19412a['primitives']['trails']['clearCommand']['framebuffer']=_0x19412a['framebuffers']['nextTrails'];}}),'screen':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x3014fe,'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4[_0x545109(-0x280,-0x28c)]['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){function _0xc721b8(_0x3ea204,_0xd990d8){return _0x545109(_0x3ea204,_0xd990d8-0x4cc);}function _0x4b5eb5(_0x28547c,_0x4469dc){return _0x545109(_0x4469dc,_0x28547c-0xba);}return _0x19412a['framebuffers'][_0xc721b8(0x330,0x2b1)][_0x4b5eb5(-0x1a6,-0x186)](0x0);},'trailsDepthTexture':function(){function _0x1a1054(_0x55f5f8,_0x55d949){return _0x5cd2e6(_0x55f5f8- -0x571,_0x55d949);}function _0x44bf5f(_0x5e3bb0,_0x16cbac){return _0x545109(_0x16cbac,_0x5e3bb0-0x2fd);}return _0x19412a[_0x1a1054(-0x268,-0x2bb)]['nextTrails'][_0x44bf5f(0x65,-0x1f)];}},'vertexShaderSource':new Cesium$4[(_0x5cd2e6(0x2c8,0x2d6))](_0x42668e),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x2b7c50),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':_0x2b8c8b,'depthMask':!![],'blending':_0x48e5f3}),'framebuffer':undefined})};}}var CalculateSpeedShader=_0x19ef9b(-0x280,-0x25f),PostProcessingPositionShader='#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x0a\x0auniform\x20sampler2D\x20H;\x20//\x20particles\x20height\x20textures\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0auniform\x20vec2\x20viewerLonRange;\x0auniform\x20vec2\x20viewerLatRange;\x0a\x0aconst\x20float\x20randomCoefficient\x20=\x200.1f;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0aconst\x20float\x20dropRate\x20=\x200.1f;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0aconst\x20float\x20dropRateBump\x20=\x200.1f;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0avec4\x20getTextureValue(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20vec4\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D);\x0a\x20\x20return\x20result;\x0a}\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898f,\x2078.233f,\x204375.85453f);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0f,\x201.0f);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0abool\x20particleNoSpeed(vec3\x20particle)\x20{\x0a\x20\x20vec4\x20speed\x20=\x20getTextureValue(particlesSpeed,\x20particle);\x0a\x20\x20return\x20speed.r\x20==\x200.0f\x20&&\x20speed.g\x20==\x200.0f;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0f);\x0a\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20float\x20height\x20=\x20getTextureValue(H,\x20vec3(randomLon,\x20randomLat,\x20lev)).r;\x0a\x0a\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20height);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20return\x20particle.y\x20<\x20viewerLatRange.x\x20||\x20particle.y\x20>\x20viewerLatRange.y\x20||\x20particle.x\x20<\x20viewerLonRange.x\x20||\x20particle.x\x20>\x20viewerLonRange.y;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20nextParticle\x20=\x20texture(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec4\x20nextSpeed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20float\x20speedNorm\x20=\x20nextSpeed.a;\x0a\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20speedNorm;\x0a\x0a\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20if(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(randomParticle,\x201.0f);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x0a}\x0a',UpdatePositionShader='#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x20Unit\x20converted\x20to\x20degrees\x20of\x20longitude\x20and\x20latitude\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20speed;\x0a\x20\x20if(length(speed.rgb)\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a';const Cesium$3=mars3d__namespace[_0x200676(0x543,0x53f)];class ParticlesComputing{constructor(_0x1001ca,_0x3be63c,_0x10ecf2,_0x118e87){function _0x2e121b(_0x3502b6,_0x31be6d){return _0x200676(_0x31be6d- -0x2fe,_0x3502b6);}this['data']=_0x3be63c,this['createWindTextures'](_0x1001ca,_0x3be63c);function _0x360346(_0x9aaba7,_0x2ca3dc){return _0x200676(_0x9aaba7- -0x17,_0x2ca3dc);}this[_0x360346(0x4bb,0x464)](_0x1001ca,_0x10ecf2,_0x118e87),this[_0x2e121b(0x251,0x27f)](_0x3be63c,_0x10ecf2,_0x118e87);}[_0x19ef9b(-0x2d5,-0x256)](_0x2ecfdf,_0x3ab37c){var _0x3665e9;function _0x17d625(_0x53490b,_0x5bfaa0){return _0x19ef9b(_0x5bfaa0,_0x53490b-0x6c2);}const _0x6d3e08={'context':_0x2ecfdf,'width':_0x3ab37c['dimensions']['lon'],'height':_0x3ab37c['dimensions'][_0x17d625(0x4c0,0x4c3)]*(_0x3ab37c[_0x17d625(0x46b,0x3eb)][_0x2aa06c(0x237,0x2b2)]||0x1),'pixelFormat':Cesium$3['PixelFormat']['RED'],'pixelDatatype':Cesium$3[_0x2aa06c(0x2c2,0x25c)][_0x17d625(0x4d2,0x461)],'flipY':![],'sampler':new Cesium$3['Sampler']({'minificationFilter':Cesium$3['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium$3[_0x17d625(0x478,0x3fb)][_0x17d625(0x50f,0x4ae)]})};function _0x2aa06c(_0x2b40ce,_0x4f7c5c){return _0x200676(_0x4f7c5c- -0x281,_0x2b40ce);}this[_0x2aa06c(0x2b8,0x320)]={'U':Util['createTexture'](_0x6d3e08,_0x3ab37c['U'][_0x17d625(0x493,0x414)]),'V':Util['createTexture'](_0x6d3e08,_0x3ab37c['V']['array']),'W':Util[_0x2aa06c(0x375,0x31f)](_0x6d3e08,((_0x3665e9=_0x3ab37c['W'])===null||_0x3665e9===void 0x0?void 0x0:_0x3665e9['array'])??_0x3ab37c['U']['array']),'H':Util['createTexture'](_0x6d3e08,_0x3ab37c['H'][_0x2aa06c(0x2fa,0x2a9)])};}[_0x200676(0x4d2,0x494)](_0x1a9e27,_0x266a99,_0x449436){const _0x1b673b={'context':_0x1a9e27,'width':_0x266a99['particlesTextureSize'],'height':_0x266a99[_0x469ffb(-0x26,-0x4c)],'pixelFormat':Cesium$3['PixelFormat']['RGBA'],'pixelDatatype':Cesium$3['PixelDatatype'][_0x469ffb(0x5f,0xea)],'flipY':![],'sampler':new Cesium$3['Sampler']({'minificationFilter':Cesium$3[_0x3fcf2a(-0x1d3,-0x1b5)]['NEAREST'],'magnificationFilter':Cesium$3['TextureMagnificationFilter']['NEAREST']})},_0x5d9238=this[_0x469ffb(-0x2f,-0x2d)](_0x266a99['maxParticles'],_0x449436),_0x55d807=new Float32Array(0x4*_0x266a99['maxParticles'])['fill'](0x0);function _0x3fcf2a(_0x49db05,_0x3206b3){return _0x19ef9b(_0x49db05,_0x3206b3-0x4c);}function _0x469ffb(_0x135eb9,_0x550015){return _0x200676(_0x135eb9- -0x50a,_0x550015);}this[_0x469ffb(0x52,-0x22)]={'previousParticlesPosition':Util['createTexture'](_0x1b673b,_0x5d9238),'currentParticlesPosition':Util['createTexture'](_0x1b673b,_0x5d9238),'nextParticlesPosition':Util['createTexture'](_0x1b673b,_0x5d9238),'postProcessingPosition':Util['createTexture'](_0x1b673b,_0x5d9238),'particlesSpeed':Util['createTexture'](_0x1b673b,_0x55d807)};}['randomizeParticles'](_0x790831,_0x27b32f){function _0x15a58d(_0x57bb04,_0x1ae9cf){return _0x200676(_0x1ae9cf- -0x6ba,_0x57bb04);}const _0x5f2514=new Float32Array(0x4*_0x790831);function _0x501672(_0x2b01c7,_0x554182){return _0x200676(_0x554182- -0x261,_0x2b01c7);}for(let _0x481b1f=0x0;_0x481b1f<_0x790831;_0x481b1f++){_0x5f2514[0x4*_0x481b1f]=Cesium$3['Math'][_0x15a58d(-0x190,-0x109)](_0x27b32f['lonRange']['x'],_0x27b32f['lonRange']['y']),_0x5f2514[0x4*_0x481b1f+0x1]=Cesium$3['Math']['randomBetween'](_0x27b32f['latRange']['x'],_0x27b32f['latRange']['y']),_0x5f2514[0x4*_0x481b1f+0x2]=Cesium$3['Math'][_0x501672(0x303,0x350)](this['data'][_0x15a58d(-0x1a8,-0x187)][_0x15a58d(-0x142,-0x10f)],this[_0x501672(0x20c,0x28f)]['lev'][_0x501672(0x32a,0x338)]),_0x5f2514[0x4*_0x481b1f+0x3]=0x0;}return _0x5f2514;}['getValidRange'](_0x328e30){const _0x445e7e=[_0x328e30['dimensions'][_0x436177(0x1ab,0x16e)],_0x328e30[_0x436177(0x91,0x104)]['lat'],_0x328e30[_0x32fb6f(0x497,0x50c)][_0x32fb6f(0x4ac,0x53d)]],_0x3b2d7d=[_0x328e30[_0x436177(0x12d,0x16e)]['min'],_0x328e30['lat'][_0x436177(0x177,0x1ad)],_0x328e30[_0x32fb6f(0x552,0x53d)][_0x436177(0x13f,0x1ad)]],_0x108710=[_0x328e30[_0x436177(0x1f1,0x16e)][_0x32fb6f(0x626,0x5a3)],_0x328e30['lat']['max'],_0x328e30['lev']['max']],_0x2b6437=[(_0x108710[0x0]-_0x3b2d7d[0x0])/(_0x445e7e[0x0]-0x1),(_0x108710[0x1]-_0x3b2d7d[0x1])/(_0x445e7e[0x1]-0x1),_0x445e7e[0x2]>0x1?(_0x108710[0x2]-_0x3b2d7d[0x2])/(_0x445e7e[0x2]-0x1):0x1],_0x31a29a=Math['floor'](Math['random']()*_0x328e30['U'][_0x32fb6f(0x4a1,0x534)][_0x32fb6f(0x508,0x593)]),_0xe6d41=_0x31a29a%(_0x445e7e[0x0]*_0x445e7e[0x1]);function _0x32fb6f(_0x4e4836,_0x4abf5e){return _0x200676(_0x4abf5e-0xa,_0x4e4836);}const _0x15067d=Math[_0x32fb6f(0x4a9,0x4fb)](_0xe6d41/_0x445e7e[0x0]),_0x4a3348=_0xe6d41%_0x445e7e[0x0],_0x580e4b=Cesium$3[_0x32fb6f(0x575,0x57e)]['randomBetween'](_0x3b2d7d[0x0]+_0x4a3348*_0x2b6437[0x0],_0x3b2d7d[0x0]+(_0x4a3348+0x1)*_0x2b6437[0x0]);function _0x436177(_0x5e8a98,_0x4a2bc3){return _0x19ef9b(_0x5e8a98,_0x4a2bc3-0x35b);}const _0x245f3c=Cesium$3['Math']['randomBetween'](_0x3b2d7d[0x1]+(_0x15067d-0x1)*_0x2b6437[0x1],_0x3b2d7d[0x1]+_0x15067d*_0x2b6437[0x1]),_0x52b31c=_0x328e30['H'][_0x32fb6f(0x542,0x534)][_0x31a29a]||0x0;return[_0x580e4b,_0x245f3c,_0x52b31c];}['destroyParticlesTextures'](){Object['keys'](this['particlesTextures'])['forEach'](_0x2fda91=>{this['particlesTextures'][_0x2fda91]['destroy']();});}['createComputingPrimitives'](_0x436bef,_0x3dc19d,_0x3a16ec){const _0x2967bb=new Cesium$3['Cartesian3'](_0x436bef['dimensions'][_0x484b33(0x29e,0x227)],_0x436bef[_0x592f73(0x172,0xed)][_0x484b33(0x289,0x2dc)],_0x436bef['dimensions'][_0x592f73(0x134,0x11e)]),_0x292356=new Cesium$3['Cartesian3'](_0x436bef[_0x592f73(0xd3,0x157)]['min'],_0x436bef['lat']['min'],_0x436bef['lev'][_0x592f73(0x145,0x196)]),_0x194ac3=new Cesium$3['Cartesian3'](_0x436bef[_0x484b33(0x29e,0x20d)]['max'],_0x436bef[_0x484b33(0x289,0x2b0)][_0x484b33(0x2cb,0x278)],_0x436bef['lev'][_0x592f73(0x17e,0x184)]);function _0x592f73(_0x4eed87,_0x8e8cb7){return _0x19ef9b(_0x4eed87,_0x8e8cb7-0x344);}const _0x6ae657=new Cesium$3['Cartesian3']((_0x194ac3['x']-_0x292356['x'])/(_0x2967bb['x']-0x1),(_0x194ac3['y']-_0x292356['y'])/(_0x2967bb['y']-0x1),_0x2967bb['z']>0x1?(_0x194ac3['z']-_0x292356['z'])/(_0x2967bb['z']-0x1):0x1),_0x46839a=new Cesium$3['Cartesian2'](_0x436bef[_0x592f73(0xd3,0x157)]['min'],_0x436bef['lon']['max']),_0x46e621=new Cesium$3[(_0x484b33(0x1dd,0x15b))](_0x436bef[_0x484b33(0x289,0x215)]['min'],_0x436bef['lat']['max']),_0x3556df=new Cesium$3['Cartesian2'](_0x436bef['U'][_0x592f73(0x1ae,0x196)],_0x436bef['U']['max']),_0x57ff2a=new Cesium$3['Cartesian2'](_0x436bef['V']['min'],_0x436bef['V']['max']),_0x4dfbcb=new Cesium$3['Cartesian2'](_0x436bef['W']['min'],_0x436bef['W']['max']),_0x27e9a8=this,_0x30060a={};_0x30060a['U']=function(){return _0x27e9a8['windTextures']['U'];},_0x30060a['V']=function(){return _0x27e9a8['windTextures']['V'];},_0x30060a['W']=function(){function _0xbb40f6(_0x41bb71,_0x3965b8){return _0x592f73(_0x41bb71,_0x3965b8-0x1bd);}return _0x27e9a8[_0xbb40f6(0x368,0x349)]['W'];},_0x30060a['currentParticlesPosition']=function(){function _0x8dd885(_0x283ef3,_0x150755){return _0x484b33(_0x150755-0xf5,_0x283ef3);}return _0x27e9a8[_0x8dd885(0x3da,0x383)]['currentParticlesPosition'];},_0x30060a['dimension']=function(){return _0x2967bb;},_0x30060a['minimum']=function(){return _0x292356;},_0x30060a['maximum']=function(){return _0x194ac3;},_0x30060a['interval']=function(){return _0x6ae657;},_0x30060a[_0x592f73(0x89,0xe1)]=function(){return _0x3556df;},_0x30060a[_0x484b33(0x286,0x2ca)]=function(){return _0x57ff2a;};function _0x484b33(_0x5644c3,_0x1f3b57){return _0x200676(_0x5644c3- -0x2ce,_0x1f3b57);}_0x30060a[_0x592f73(0xa5,0x89)]=function(){return _0x4dfbcb;},_0x30060a['speedScaleFactor']=function(){function _0x1fbc17(_0x32b9f7,_0x48cbad){return _0x592f73(_0x32b9f7,_0x48cbad-0x3d0);}return _0x3a16ec[_0x1fbc17(0x496,0x461)]*_0x3dc19d['speedFactor'];};const _0x4b817d={};_0x4b817d['sources']=[CalculateSpeedShader];const _0x38e17c={};_0x38e17c['sources']=[UpdatePositionShader];const _0x1fe7eb={};_0x1fe7eb['sources']=[PostProcessingPositionShader],this['primitives']={'calculateSpeed':new CustomPrimitive({'commandType':'Compute','uniformMap':_0x30060a,'fragmentShaderSource':new Cesium$3[(_0x592f73(0xc2,0xc3))](_0x4b817d),'outputTexture':this['particlesTextures'][_0x592f73(0x126,0xf1)],'preExecute':function(){function _0x5b21d4(_0x149c89,_0x340a9c){return _0x592f73(_0x340a9c,_0x149c89- -0x339);}function _0x1b706a(_0x2d98ac,_0x20867a){return _0x484b33(_0x2d98ac- -0x263,_0x20867a);}if(_0x3dc19d!==undefined&&_0x3dc19d[_0x1b706a(0x1d,-0x4a)]){const _0x38934e=_0x27e9a8[_0x1b706a(0x2b,0xe)][_0x5b21d4(-0x2b5,-0x2fe)];_0x27e9a8[_0x5b21d4(-0x1f2,-0x1c3)]['previousParticlesPosition']=_0x27e9a8['particlesTextures'][_0x1b706a(0x5d,-0x9)],_0x27e9a8[_0x1b706a(0x2b,0xbf)][_0x5b21d4(-0x1c0,-0x140)]=_0x27e9a8[_0x1b706a(0x2b,0xb)]['postProcessingPosition'],_0x27e9a8['particlesTextures'][_0x5b21d4(-0x28e,-0x231)]=_0x38934e;}_0x27e9a8[_0x1b706a(0x35,0xaa)]['calculateSpeed'][_0x5b21d4(-0x216,-0x245)][_0x1b706a(0x11,0x8d)]=_0x27e9a8['particlesTextures']['particlesSpeed'];}}),'updatePosition':new CustomPrimitive({'commandType':'Compute','uniformMap':{'currentParticlesPosition':function(){function _0xe191a6(_0x4192c9,_0x2b57cf){return _0x592f73(_0x2b57cf,_0x4192c9-0x25c);}function _0x5b9b5f(_0x533e38,_0xf778){return _0x484b33(_0xf778-0x84,_0x533e38);}return _0x27e9a8[_0xe191a6(0x3a3,0x42e)][_0x5b9b5f(0x34e,0x344)];},'particlesSpeed':function(){function _0x537818(_0x2574e0,_0x132899){return _0x484b33(_0x132899-0x5d,_0x2574e0);}return _0x27e9a8['particlesTextures'][_0x537818(0x2c4,0x295)];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x38e17c),'outputTexture':this['particlesTextures'][_0x592f73(0x174,0x19a)],'preExecute':function(){function _0x239998(_0x5627ce,_0x2ee6c8){return _0x484b33(_0x2ee6c8- -0x2eb,_0x5627ce);}function _0x29809e(_0x53bc2f,_0x4b8466){return _0x484b33(_0x53bc2f- -0x184,_0x4b8466);}_0x27e9a8['primitives'][_0x29809e(0x149,0xb6)]['commandToExecute']['outputTexture']=_0x27e9a8[_0x29809e(0x10a,0x90)][_0x29809e(0x15d,0x159)];}}),'postProcessingPosition':new CustomPrimitive({'commandType':_0x592f73(0x109,0x8d),'uniformMap':{'nextParticlesPosition':function(){function _0x3d0595(_0x1de785,_0x25e055){return _0x592f73(_0x1de785,_0x25e055- -0x2be);}function _0xa7867b(_0x4fe132,_0x396955){return _0x484b33(_0x396955- -0x278,_0x4fe132);}return _0x27e9a8[_0xa7867b(0x7,0x16)][_0x3d0595(-0x1b1,-0x124)];},'particlesSpeed':function(){function _0x53cc67(_0x5b3f93,_0x1951a1){return _0x592f73(_0x1951a1,_0x5b3f93- -0xb5);}function _0x45e0d3(_0x45e06d,_0x293cad){return _0x484b33(_0x293cad-0x4c,_0x45e06d);}return _0x27e9a8[_0x53cc67(0x92,0x56)][_0x45e0d3(0x2f5,0x284)];},'viewerLonRange':function(){function _0x1b7086(_0x15edb3,_0x53f5ca){return _0x592f73(_0x15edb3,_0x53f5ca-0x32c);}return _0x3a16ec[_0x1b7086(0x3c3,0x3cd)];},'viewerLatRange':function(){return _0x3a16ec['latRange'];},'lonRange':function(){return _0x46839a;},'latRange':function(){return _0x46e621;},'dimension':function(){return _0x2967bb;},'minimum':function(){return _0x292356;},'maximum':function(){return _0x194ac3;},'interval':function(){return _0x6ae657;},'H':function(){return _0x27e9a8['windTextures']['H'];},'randomCoefficient':function(){const _0x589430=Math['random']();return _0x589430;},'dropRate':function(){function _0x4631e5(_0x286d5d,_0x1907ab){return _0x592f73(_0x1907ab,_0x286d5d- -0x247);}return _0x3dc19d[_0x4631e5(-0x118,-0xd3)];},'dropRateBump':function(){return _0x3dc19d['dropRateBump'];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x1fe7eb),'outputTexture':this['particlesTextures'][_0x592f73(0x6f,0xab)],'preExecute':function(){function _0x414c69(_0x776c47,_0x53a2e5){return _0x484b33(_0x776c47- -0x299,_0x53a2e5);}function _0x549dcc(_0x3776a5,_0xda4ca3){return _0x592f73(_0x3776a5,_0xda4ca3- -0x1d9);}_0x27e9a8[_0x549dcc(-0xa0,-0x88)][_0x549dcc(-0x17a,-0x12e)][_0x414c69(-0x2f,-0x28)][_0x549dcc(-0xee,-0xac)]=_0x27e9a8[_0x549dcc(-0xfd,-0x92)][_0x549dcc(-0xa4,-0x12e)];}})};}}const Cesium$2=mars3d__namespace['Cesium'];class ParticleSystem{constructor(_0x57de18,_0x3ee447,_0x9cd869,_0x4b4243){this[_0x5d09e7(0x4ca,0x534)]=_0x57de18;function _0x5d09e7(_0x4027ec,_0x240719){return _0x200676(_0x4027ec- -0xaf,_0x240719);}function _0xa9c13a(_0x48172b,_0x1d0ef8){return _0x19ef9b(_0x1d0ef8,_0x48172b-0x2b4);}_0x3ee447={..._0x3ee447};_0x3ee447['udata']&&_0x3ee447[_0x5d09e7(0x426,0x3bd)]&&(_0x3ee447[_0xa9c13a(0x5d,0x8e)]={},_0x3ee447['dimensions'][_0xa9c13a(0xc7,0xdd)]=_0x3ee447['cols'],_0x3ee447[_0x5d09e7(0x453,0x4db)][_0xa9c13a(0xb2,0x93)]=_0x3ee447[_0xa9c13a(0x12,0x61)],_0x3ee447['dimensions']['lev']=_0x3ee447[_0xa9c13a(0x8e,0x28)]||0x1,_0x3ee447['lon']={},_0x3ee447[_0xa9c13a(0xc7,0x37)]['min']=_0x3ee447['xmin'],_0x3ee447['lon'][_0xa9c13a(0xf4,0x119)]=_0x3ee447[_0x5d09e7(0x4fb,0x582)],_0x3ee447[_0xa9c13a(0xb2,0x40)]={},_0x3ee447['lat']['min']=_0x3ee447['ymin'],_0x3ee447['lat']['max']=_0x3ee447[_0xa9c13a(0xec,0x8b)],_0x3ee447['lev']={},_0x3ee447['lev']['min']=_0x3ee447['levmin']??0x1,_0x3ee447[_0xa9c13a(0x8e,0x8a)][_0xa9c13a(0xf4,0x11e)]=_0x3ee447['levmax']??0x1,_0x3ee447['U']={},_0x3ee447['U'][_0xa9c13a(0x85,0x15)]=new Float32Array(_0x3ee447[_0x5d09e7(0x41a,0x402)]),_0x3ee447['U']['min']=_0x3ee447['umin']??Math['min'](..._0x3ee447['udata']),_0x3ee447['U'][_0xa9c13a(0xf4,0xab)]=_0x3ee447[_0x5d09e7(0x473,0x401)]??Math['max'](..._0x3ee447['udata']),_0x3ee447['V']={},_0x3ee447['V'][_0x5d09e7(0x47b,0x3f2)]=new Float32Array(_0x3ee447[_0x5d09e7(0x426,0x3ed)]),_0x3ee447['V']['min']=_0x3ee447[_0x5d09e7(0x45b,0x3e3)]??Math['min'](..._0x3ee447[_0xa9c13a(0x30,-0x42)]),_0x3ee447['V']['max']=_0x3ee447[_0x5d09e7(0x4f9,0x490)]??Math['max'](..._0x3ee447[_0xa9c13a(0x30,0x2)]));!_0x3ee447['W']&&(_0x3ee447['W']={'array':new Float32Array(_0x3ee447['U'][_0xa9c13a(0x85,0xa1)][_0x5d09e7(0x4da,0x4ed)]),'min':0x0,'max':0x0});if(!_0x3ee447['H']){var _0x991cce;_0x3ee447['H']={'array':new Float32Array(_0x3ee447['U']['array']['length']),'min':0x0,'max':0x0};if((_0x991cce=_0x3ee447['lev'])!==null&&_0x991cce!==void 0x0&&_0x991cce[_0x5d09e7(0x47b,0x412)]){const {lon:_0x308bc2,lat:_0x2e69ca,lev:_0x18429c}=_0x3ee447[_0x5d09e7(0x453,0x3d0)];for(let _0x440d76=0x0;_0x440d76<_0x18429c;_0x440d76++){for(let _0x1b9a2b=0x0;_0x1b9a2b<_0x2e69ca;_0x1b9a2b++){for(let _0x2921f5=0x0;_0x2921f5<_0x308bc2;_0x2921f5++){const _0x4d4212=_0x440d76*(_0x308bc2*_0x2e69ca)+_0x1b9a2b*_0x308bc2+_0x2921f5;_0x3ee447['H'][_0xa9c13a(0x85,-0x8)][_0x4d4212]=_0x3ee447['lev'][_0xa9c13a(0x85,0xd)][_0x440d76];}}}_0x3ee447['H']['min']=Math[_0xa9c13a(0x106,0x171)](..._0x3ee447['lev']['array']),_0x3ee447['H']['max']=Math[_0xa9c13a(0xf4,0x17c)](..._0x3ee447[_0x5d09e7(0x484,0x486)][_0x5d09e7(0x47b,0x491)]);}}this[_0x5d09e7(0x441,0x3d5)]=_0x3ee447,this['options']=_0x9cd869,this[_0x5d09e7(0x41b,0x3d1)]=_0x4b4243,this[_0xa9c13a(-0x8,0x54)]=new ParticlesComputing(this[_0x5d09e7(0x4ca,0x4d8)],this['data'],this['options'],this['viewerParameters']),this['particlesRendering']=new ParticlesRendering(this[_0xa9c13a(0xd4,0x98)],this[_0x5d09e7(0x441,0x4cd)],this['options'],this[_0xa9c13a(0x25,-0x51)],this[_0xa9c13a(-0x8,-0x44)]);}[_0x200676(0x54d,0x566)](_0x253b68){this[_0x3f1036(-0x170,-0x1af)]['destroyParticlesTextures'](),Object['keys'](this[_0x3f1036(-0x198,-0x1af)]['windTextures'])[_0x26c835(0x474,0x4b8)](_0x208f0a=>{function _0x12939c(_0x6984aa,_0x3f89ad){return _0x26c835(_0x3f89ad,_0x6984aa- -0x3fb);}function _0x488e02(_0x1d427b,_0x3973a2){return _0x26c835(_0x3973a2,_0x1d427b- -0x363);}this[_0x488e02(0x10d,0xf1)][_0x488e02(0x211,0x24c)][_0x208f0a][_0x488e02(0x1dd,0x222)]();}),this[_0x3f1036(-0x1a3,-0x164)]['textures']['colorTable']['destroy']();function _0x26c835(_0x5c8acf,_0x3d6a9d){return _0x19ef9b(_0x5c8acf,_0x3d6a9d-0x72c);}Object['keys'](this['particlesRendering']['framebuffers'])['forEach'](_0x185250=>{function _0x1eaa8f(_0x4e7ec9,_0x3c0d21){return _0x3f1036(_0x4e7ec9,_0x3c0d21-0x2d6);}this[_0x1eaa8f(0x11b,0x172)]['framebuffers'][_0x185250]['destroy']();}),this[_0x3f1036(-0xd6,-0xd3)]=_0x253b68,this['particlesComputing']=new ParticlesComputing(this['context'],this['data'],this['options'],this['viewerParameters']);function _0x3f1036(_0x92c443,_0x98650a){return _0x19ef9b(_0x92c443,_0x98650a-0x10d);}this[_0x3f1036(-0x1bd,-0x164)]=new ParticlesRendering(this[_0x3f1036(-0xf3,-0xd3)],this[_0x3f1036(-0x1a9,-0x15c)],this['options'],this['viewerParameters'],this['particlesComputing']);}['clearFramebuffers'](){function _0x57c06d(_0x469169,_0x3131ea){return _0x200676(_0x469169- -0x77f,_0x3131ea);}const _0x21cc91=new Cesium$2['ClearCommand']({'color':new Cesium$2[(_0x57c06d(-0x2e5,-0x348))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2['Pass']['OPAQUE']});function _0x8eff80(_0x3c173b,_0x10ed64){return _0x200676(_0x10ed64- -0x1de,_0x3c173b);}Object[_0x57c06d(-0x226,-0x1d4)](this['particlesRendering']['framebuffers'])['forEach'](_0xb75ac7=>{function _0x2afa92(_0x1b580a,_0x16d99c){return _0x8eff80(_0x1b580a,_0x16d99c- -0x252);}_0x21cc91[_0x3ac879(0x30c,0x340)]=this['particlesRendering']['framebuffers'][_0xb75ac7];function _0x3ac879(_0x3551d4,_0xf9fed1){return _0x8eff80(_0x3551d4,_0xf9fed1-0x8a);}_0x21cc91[_0x2afa92(0xfe,0x177)](this[_0x2afa92(0x193,0x149)]);});}['refreshParticles'](_0x9c378,_0x379847=!![]){_0x379847&&(this[_0x305c01(0x2a3,0x283)](),this[_0x53dc84(0x4b2,0x449)]['destroyParticlesTextures'](),this[_0x53dc84(0x4b2,0x483)]['createParticlesTextures'](this[_0x305c01(0x362,0x301)],this[_0x53dc84(0x564,0x562)],this[_0x305c01(0x20d,0x252)]));function _0x305c01(_0x5270d3,_0x29f6b9){return _0x200676(_0x29f6b9- -0x278,_0x5270d3);}function _0x53dc84(_0x338a38,_0x5973d7){return _0x19ef9b(_0x5973d7,_0x338a38-0x76e);}if(_0x9c378){var _0x3cd5de;const _0xea4974=this['particlesRendering']['createSegmentsGeometry'](this['options']);this[_0x305c01(0x2d7,0x270)]['primitives'][_0x53dc84(0x4be,0x463)]['geometry']=_0xea4974;const _0x4a11b3=Cesium$2['VertexArray'][_0x305c01(0x314,0x28c)]({'context':this['context'],'geometry':_0xea4974,'attributeLocations':this[_0x305c01(0x228,0x270)][_0x305c01(0x337,0x2ee)]['segments']['attributeLocations'],'bufferUsage':Cesium$2['BufferUsage']['STATIC_DRAW']});(_0x3cd5de=this[_0x53dc84(0x4fd,0x584)]['primitives'])!==null&&_0x3cd5de!==void 0x0&&(_0x3cd5de=_0x3cd5de[_0x53dc84(0x4be,0x4d9)])!==null&&_0x3cd5de!==void 0x0&&_0x3cd5de[_0x305c01(0x25a,0x2c0)]&&(this[_0x305c01(0x22e,0x270)]['primitives']['segments']['commandToExecute'][_0x305c01(0x26d,0x250)]=_0x4a11b3);}}[_0x19ef9b(-0x257,-0x27d)](_0x105339){function _0x55db79(_0x169885,_0x5f225e){return _0x200676(_0x169885- -0x16,_0x5f225e);}let _0xde2745=![];this[_0x55db79(0x539,0x56d)]['maxParticles']!==_0x105339['maxParticles']&&(_0xde2745=!![]),Object['keys'](_0x105339)['forEach'](_0x35f47f=>{this['options'][_0x35f47f]=_0x105339[_0x35f47f];}),this['refreshParticles'](_0xde2745,_0x105339['dynamic']);}[_0x19ef9b(-0x2e8,-0x28d)](_0x3f4283){function _0x392fd1(_0x3e1f6e,_0x594fcc){return _0x200676(_0x594fcc- -0x66b,_0x3e1f6e);}Object['keys'](_0x3f4283)['forEach'](_0x5e9ab6=>{function _0x44d850(_0x205583,_0x56f7f2){return _0x468a(_0x205583- -0x17a,_0x56f7f2);}this[_0x44d850(-0x7a,-0x10c)][_0x5e9ab6]=_0x3f4283[_0x5e9ab6];});function _0x2b9468(_0x4852f3,_0x1af283){return _0x200676(_0x1af283- -0x2ba,_0x4852f3);}this['refreshParticles'](![]),!this[_0x392fd1(-0xf9,-0x11c)]['dynamic']&&(this[_0x392fd1(-0x164,-0x11c)][_0x2b9468(0x259,0x294)]=!![],this['setOptions'](this['options']),setTimeout(()=>{this['options']['dynamic']=![];function _0x91549d(_0x21a13d,_0x44437a){return _0x392fd1(_0x44437a,_0x21a13d-0x471);}this[_0x91549d(0x2e2,0x360)](this['options']);},0x1f4));}[_0x200676(0x56d,0x57a)](){clearTimeout(this[_0x15f31d(0x318,0x3a7)]),this[_0x15f31d(0x3cc,0x375)]['destroyParticlesTextures']();function _0x998beb(_0x264b93,_0x5a2306){return _0x19ef9b(_0x5a2306,_0x264b93-0x231);}function _0x15f31d(_0x51bf3f,_0x425adf){return _0x19ef9b(_0x51bf3f,_0x425adf-0x631);}Object['keys'](this['particlesComputing']['windTextures'])['forEach'](_0x90e5d=>{this['particlesComputing']['windTextures'][_0x90e5d]['destroy']();}),this['particlesRendering'][_0x15f31d(0x374,0x403)]['colorTable']['destroy'](),Object['keys'](this[_0x998beb(-0x40,-0xf)][_0x998beb(-0xf,-0x86)])['forEach'](_0x508386=>{this['particlesRendering']['framebuffers'][_0x508386]['destroy']();});for(const _0x25e78c in this){delete this[_0x25e78c];}}}const Cesium$1=mars3d__namespace[_0x19ef9b(-0x1d2,-0x216)];function _0x200676(_0x316c50,_0x52dcb3){return _0x468a(_0x316c50-0x3ca,_0x52dcb3);}const BaseLayer$1=mars3d__namespace['layer']['BaseLayer'],_0x2caa53={};_0x2caa53['particlesNumber']=0x1000,_0x2caa53['fixedHeight']=0x0,_0x2caa53[_0x200676(0x497,0x48e)]=0.996,_0x2caa53['dropRate']=0.003,_0x2caa53['dropRateBump']=0.01,_0x2caa53['speedFactor']=0.5,_0x2caa53[_0x200676(0x58f,0x5c3)]=0x2,_0x2caa53['colors']=['rgb(206,255,255)'],_0x2caa53[_0x200676(0x54e,0x580)]=!![];const DEF_OPTIONS=_0x2caa53;function _0x468a(_0xd0c68c,_0x535657){const _0x411897=_0x4118();return _0x468a=function(_0x468a10,_0x22e81c){_0x468a10=_0x468a10-0xc4;let _0x2d703e=_0x411897[_0x468a10];return _0x2d703e;},_0x468a(_0xd0c68c,_0x535657);}class WindLayer extends BaseLayer$1{constructor(_0x330963={}){_0x330963={...DEF_OPTIONS,..._0x330963},super(_0x330963),this['_setOptionsHook'](_0x330963);}get['layer'](){return this['primitives'];}get['data'](){function _0x4912d8(_0x152947,_0x30026a){return _0x19ef9b(_0x30026a,_0x152947-0x5dd);}return this[_0x4912d8(0x3fa,0x40f)];}set['data'](_0x42162b){this['setData'](_0x42162b);}get[_0x200676(0x48e,0x409)](){function _0x5d57a2(_0x16ccd7,_0x131c18){return _0x19ef9b(_0x16ccd7,_0x131c18-0x1a2);}return this['options'][_0x5d57a2(-0xaa,-0x129)];}set['colors'](_0x37025e){function _0x55cf5d(_0x488767,_0x3e3b5d){return _0x200676(_0x3e3b5d- -0x4bc,_0x488767);}this[_0x2f91f5(0x3eb,0x3aa)][_0x55cf5d(-0x65,-0x2e)]=_0x37025e;function _0x2f91f5(_0x3b6616,_0x5902e9){return _0x200676(_0x5902e9- -0x1a5,_0x3b6616);}if(this['particleSystem']){const _0x3518fd={};_0x3518fd['colors']=_0x37025e,this['particleSystem'][_0x2f91f5(0x38c,0x337)](_0x3518fd);}this['resize']();}[_0x200676(0x4b9,0x510)](){}['_addedHook'](){function _0x29ef3a(_0x4dfd79,_0x3b4e5d){return _0x200676(_0x3b4e5d- -0x70f,_0x4dfd79);}this[_0x29ef3a(-0x1b5,-0x1ef)]=this['_map']['scene'],this['camera']=this['_map'][_0x413599(0x3cd,0x3fd)],this[_0x29ef3a(-0x1d5,-0x1a9)]=new Cesium$1[(_0x29ef3a(-0x1e7,-0x229))](),this[_0x29ef3a(-0x292,-0x25b)]['scene'][_0x29ef3a(-0x22e,-0x1a9)]['add'](this['primitives']),this['viewerParameters']={'lonRange':new Cesium$1['Cartesian2'](),'latRange':new Cesium$1['Cartesian2'](),'pixelSize':0x0,'lonDisplayRange':new Cesium$1['Cartesian2'](),'latDisplayRange':new Cesium$1[(_0x413599(0x40e,0x3ba))]()},this['globeBoundingSphere']=new Cesium$1[(_0x413599(0x3e5,0x44d))](Cesium$1[_0x29ef3a(-0x1bd,-0x1f8)]['ZERO'],0.99*0x615299),this[_0x413599(0x411,0x436)](),window[_0x413599(0x4cf,0x43e)](_0x29ef3a(-0x227,-0x1d9),this[_0x413599(0x3fa,0x445)]['bind'](this),![]),this['mouse_down']=![],this['mouse_move']=![],this[_0x413599(0x38e,0x3c3)]['on'](mars3d__namespace['EventType']['wheel'],this[_0x29ef3a(-0x1bc,-0x1e2)],this);function _0x413599(_0x2f553f,_0x4b3588){return _0x200676(_0x4b3588- -0xf1,_0x2f553f);}this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['mouseUp'],this[_0x29ef3a(-0x1f9,-0x1c4)],this),this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMouseMoveEvent'],this),this['_data']&&this[_0x29ef3a(-0x2a9,-0x250)](this['_data']);}['_removedHook'](){window['removeEventListener'](_0x4ca46e(0xfb,0x136),this['resize']),this['_map']['off'](mars3d__namespace['EventType']['preRender'],this['_onMap_preRenderEvent'],this),this[_0x4ca46e(0x79,0x10b)][_0x4ca46e(0xf5,0x9e)](mars3d__namespace[_0x4ca46e(0x7a,0x16)]['wheel'],this['_onMapWhellEvent'],this);function _0x4ca46e(_0x5295d3,_0x19787b){return _0x19ef9b(_0x19787b,_0x5295d3-0x31e);}function _0x40c028(_0x957b06,_0x4769d4){return _0x19ef9b(_0x957b06,_0x4769d4-0x40f);}this['_map']['off'](mars3d__namespace[_0x40c028(0x1fe,0x16b)]['mouseDown'],this['_onMouseDownEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['mouseUp'],this[_0x4ca46e(0x110,0xd5)],this),this[_0x40c028(0x10b,0x16a)]['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x40c028(0x268,0x1f6)],this),this[_0x40c028(0x272,0x21c)]['removeAll'](),this['_map'][_0x40c028(0x1fb,0x1d6)][_0x40c028(0x1be,0x21c)][_0x4ca46e(0xf6,0x112)](this[_0x40c028(0x24c,0x21c)]);}['resize'](){function _0x1f8da8(_0x2f0fb7,_0x444c3e){return _0x200676(_0x2f0fb7- -0x36,_0x444c3e);}if(!this[_0x35e02a(-0x221,-0x29d)]||!this['particleSystem'])return;function _0x35e02a(_0x5d3f09,_0x351348){return _0x200676(_0x5d3f09- -0x799,_0x351348);}this['primitives'][_0x1f8da8(0x542,0x567)]=![],this[_0x1f8da8(0x530,0x503)][_0x35e02a(-0x2d5,-0x30b)](),this['_map']['once'](mars3d__namespace['EventType'][_0x35e02a(-0x217,-0x18e)],this[_0x1f8da8(0x469,0x3df)],this);}['_onMap_preRenderEvent'](_0x1d28f4){function _0x4b1457(_0x51711b,_0x530086){return _0x200676(_0x51711b- -0x49e,_0x530086);}this['particleSystem']['canvasResize'](this['scene'][_0x4b1457(0xdb,0x49)]),this['addPrimitives'](),this['primitives']['show']=!![];}[_0x200676(0x52d,0x4b8)](_0xfe97c0){clearTimeout(this[_0x24304e(0x57f,0x552)]);if(!this['show']||!this['particleSystem'])return;function _0x24304e(_0x460421,_0x4948d3){return _0x200676(_0x4948d3- -0x4c,_0x460421);}function _0x47a509(_0x109ded,_0x4d0dd3){return _0x200676(_0x109ded- -0xe6,_0x4d0dd3);}this['primitives'][_0x47a509(0x492,0x408)]=![],this['refreshTimer']=setTimeout(()=>{function _0x30e1f8(_0x2d1a0c,_0x565ec9){return _0x47a509(_0x2d1a0c- -0x189,_0x565ec9);}if(!this[_0x30e1f8(0x309,0x289)])return;function _0x2503db(_0x51c9eb,_0x460867){return _0x24304e(_0x51c9eb,_0x460867- -0x243);}this[_0x30e1f8(0x329,0x32d)]();},0xc8);}[_0x19ef9b(-0x15a,-0x1cc)](_0x38d0ff){this['mouse_down']=!![];}[_0x200676(0x540,0x53a)](_0xd8703e){function _0x4facc0(_0x2c80de,_0x46481e){return _0x200676(_0x2c80de- -0x20c,_0x46481e);}if(!this['show']||!this[_0x4facc0(0x34a,0x2c9)])return;function _0x3d617f(_0x11ba28,_0x378b4c){return _0x19ef9b(_0x11ba28,_0x378b4c-0x9d);}this['mouse_down']&&(this['primitives'][_0x3d617f(-0x199,-0x144)]=![],this[_0x4facc0(0x380,0x3f4)]=!![]);}['_onMouseUpEvent'](_0x1a30aa){if(!this[_0x7c0249(0xe2,0xf3)]||!this['particleSystem'])return;function _0x36ab7e(_0x5ae622,_0x383908){return _0x19ef9b(_0x5ae622,_0x383908-0x6ec);}this[_0x36ab7e(0x5a3,0x543)]&&this[_0x36ab7e(0x522,0x51f)]&&this['redraw']();function _0x7c0249(_0x23f479,_0x486dfe){return _0x200676(_0x23f479- -0x496,_0x486dfe);}this[_0x36ab7e(0x556,0x4f9)][_0x36ab7e(0x4a3,0x50b)]=!![],this['mouse_down']=![],this[_0x7c0249(0xf6,0xfa)]=![];}['redraw'](){if(!this[_0x400fc1(0x38d,0x3ff)]||!this[_0x400fc1(0x451,0x3e0)])return;this[_0xa2e91(-0x167,-0x17b)](),this['particleSystem'][_0xa2e91(-0x1c2,-0x196)](this['viewerParameters']);function _0x400fc1(_0x5123d7,_0x5803bc){return _0x200676(_0x5123d7- -0x127,_0x5803bc);}function _0xa2e91(_0x3b74d6,_0x3eb000){return _0x19ef9b(_0x3eb000,_0x3b74d6-0xcb);}this['primitives'][_0xa2e91(-0x116,-0xf8)]=!![];}['setData'](_0x868676){function _0x592624(_0x384228,_0x580610){return _0x200676(_0x384228- -0xe1,_0x580610);}this[_0x4855a6(0x59a,0x536)]=_0x868676;this['particleSystem']&&this[_0x4855a6(0x501,0x516)]['destroy']();this['particleSystem']=new ParticleSystem(this[_0x592624(0x43f,0x4b3)][_0x592624(0x498,0x40d)],_0x868676,this['getOptions'](),this['viewerParameters']);function _0x4855a6(_0x4a7451,_0x333182){return _0x200676(_0x333182- -0x40,_0x4a7451);}this['addPrimitives']();}[_0x200676(0x5a3,0x5a2)](_0x3cfeca,_0x521197){function _0x1ec30f(_0x2e0de4,_0x224001){return _0x19ef9b(_0x2e0de4,_0x224001-0x74b);}function _0x2e1b6f(_0xbe814d,_0x21dd00){return _0x200676(_0x21dd00- -0x32b,_0xbe814d);}if(_0x3cfeca)for(const _0x471d6b in _0x3cfeca){this[_0x471d6b]=_0x3cfeca[_0x471d6b];}this['particleSystem']&&this[_0x2e1b6f(0x1d9,0x22b)][_0x1ec30f(0x4c8,0x4ce)](this['getOptions']());}[_0x19ef9b(-0x230,-0x29d)](){const _0x41577b=Math[_0x14e1e3(-0xbb,-0xf6)](Math[_0x40213b(0x21c,0x1a6)](this['particlesNumber']));this['particlesNumber']=_0x41577b*_0x41577b;const _0xd754d9={};_0xd754d9[_0x14e1e3(-0xad,-0xa1)]=_0x41577b,_0xd754d9['maxParticles']=this['particlesNumber'],_0xd754d9['colors']=this['colors'],_0xd754d9[_0x14e1e3(-0xfe,-0xba)]=this['fixedHeight'];function _0x14e1e3(_0x6bee8f,_0x3e8e10){return _0x200676(_0x3e8e10- -0x585,_0x6bee8f);}_0xd754d9[_0x14e1e3(-0x111,-0xee)]=this[_0x40213b(0x154,0x17b)];function _0x40213b(_0xa1ee53,_0x1586b1){return _0x19ef9b(_0xa1ee53,_0x1586b1-0x43d);}return _0xd754d9['dropRate']=this['dropRate'],_0xd754d9['dropRateBump']=this[_0x14e1e3(-0x45,-0x91)],_0xd754d9['speedFactor']=this['speedFactor'],_0xd754d9[_0x40213b(0x212,0x273)]=this['lineWidth'],_0xd754d9[_0x40213b(0x20a,0x232)]=this[_0x40213b(0x2ad,0x232)],_0xd754d9;}[_0x200676(0x54c,0x546)](){this[_0xa10ce0(0x63,0x9b)]['add'](this[_0xa10ce0(0x53,0x46)]['particlesComputing'][_0xf8be5(0x1e4,0x1cc)]['calculateSpeed']),this['primitives']['add'](this['particleSystem']['particlesComputing'][_0xf8be5(0x1e4,0x1e5)]['updatePosition']);function _0xf8be5(_0x5424ee,_0x14b13d){return _0x200676(_0x5424ee- -0x382,_0x14b13d);}this[_0xf8be5(0x1e4,0x238)]['add'](this['particleSystem']['particlesComputing'][_0xf8be5(0x1e4,0x172)][_0xa10ce0(-0x43,-0x9c)]);function _0xa10ce0(_0x39af89,_0x296418){return _0x200676(_0x39af89- -0x503,_0x296418);}this['primitives']['add'](this['particleSystem']['particlesRendering'][_0xf8be5(0x1e4,0x21f)]['segments']),this[_0xf8be5(0x1e4,0x21d)][_0xa10ce0(0x85,0xed)](this['particleSystem'][_0xa10ce0(-0x1b,-0xd)][_0xa10ce0(0x63,0xea)][_0xa10ce0(0x2,-0x1d)]),this[_0xa10ce0(0x63,0x3)]['add'](this[_0xf8be5(0x1d4,0x228)]['particlesRendering']['primitives']['screen']);}['updateViewerParameters'](){function _0x55a3f2(_0x5f54c8,_0x20b916){return _0x19ef9b(_0x5f54c8,_0x20b916-0x31b);}function _0x5bf8c0(_0x49e727,_0x3c7b6f){return _0x200676(_0x3c7b6f- -0x29c,_0x49e727);}let _0x269b0c=this['camera']['computeViewRectangle'](this[_0x55a3f2(0xe5,0xe2)]['globe'][_0x5bf8c0(0x2a3,0x28a)]);if(!_0x269b0c){const _0x10923d=this['_map']['getExtent']();_0x269b0c=Cesium$1['Rectangle']['fromDegrees'](_0x10923d[_0x5bf8c0(0x25b,0x25d)],_0x10923d['ymin'],_0x10923d['xmax'],_0x10923d['ymax']);}const _0x4da7e1=Util[_0x55a3f2(0x1a7,0x156)](_0x269b0c);this['_data']?(this['viewerParameters']['lonRange']['x']=Math['max'](_0x4da7e1[_0x5bf8c0(0x26f,0x2d0)]['min'],this['_data']['xmin']),this[_0x55a3f2(0x30,0x8c)]['lonRange']['y']=Math['min'](_0x4da7e1['lon']['max'],this['_data']['xmax']),this['viewerParameters'][_0x5bf8c0(0x1d0,0x1f6)]['x']=Math[_0x5bf8c0(0x34d,0x2fd)](_0x4da7e1[_0x55a3f2(0x13c,0x119)][_0x5bf8c0(0x333,0x30f)],this[_0x55a3f2(0x189,0x138)][_0x5bf8c0(0x1aa,0x22b)]),this['viewerParameters']['latRange']['y']=Math[_0x55a3f2(0x137,0x16d)](_0x4da7e1[_0x5bf8c0(0x2de,0x2bb)][_0x55a3f2(0x18e,0x15b)],this[_0x5bf8c0(0x2fb,0x2da)][_0x5bf8c0(0x2c8,0x2f5)])):(this['viewerParameters']['lonRange']['x']=_0x4da7e1[_0x55a3f2(0x19c,0x12e)]['min'],this['viewerParameters']['lonRange']['y']=_0x4da7e1[_0x5bf8c0(0x262,0x2d0)]['max'],this['viewerParameters']['latRange']['x']=_0x4da7e1['lat']['min'],this['viewerParameters'][_0x5bf8c0(0x284,0x1f6)]['y']=_0x4da7e1['lat']['max']);const _0x2d421f=this[_0x5bf8c0(0x266,0x252)][_0x55a3f2(0xa3,0x112)](this['globeBoundingSphere'],this[_0x55a3f2(0xb0,0xe2)]['drawingBufferWidth'],this[_0x55a3f2(0x138,0xe2)]['drawingBufferHeight']);_0x2d421f>0x0&&(this['viewerParameters']['pixelSize']=_0x2d421f);}}mars3d__namespace[_0x19ef9b(-0x2e4,-0x27b)]['register'](_0x200676(0x52e,0x58e),WindLayer),mars3d__namespace[_0x19ef9b(-0x1e5,-0x1fc)]['WindLayer']=WindLayer;function _0x4118(){const _0x518ea0=['fragmentShaderSource','source','red','moveTo','Math','lng','_data','_bilinearInterpolation','show','context','defined','_canrefresh','1548107ZMaJyi','createComputingPrimitives','mouseMove','left','getFullscreenQuad','wheel','preRender','Draw','nextTrails','clientHeight','pixelDatatype','getUVByXY','add','length','green','windData','mouse_move','_onMouseDownEvent','currentParticlesPosition','lineWidth','1017960oPLUhh','ymax','frameTime','CanvasWindField','viewRectangleToLonLatRange','ColorRamp','worker','color','redraw','max','_updateIng2','updatePosition','abs','GeometryAttributes','refreshTimer','value','createTexture','windTextures','globalCompositeOperation','_setOptionsHook','drawingBufferWidth','reverseY','NEAREST','execute','vmax','437886mfPRGy','xmax','min','mode','CanvasWindLayer','_removedHook','nextParticlesPosition','mouse_down','randomBetween','autoClear','drawingBufferHeight','TRIANGLES','colors','ceil','fillRect','DEPTH_COMPONENT','latRange','mouseDown','framebuffer','bindEvent','Matrix4','fadeOpacity','_drawLines','previousParticlesPosition','Color','fromDegrees','depthMask','particlesComputing','wSpeedRange','_onMap_preRenderEvent','isPointVisible','random','Compute','clearCommand','ComponentDatatype','1143678aeDyHX','pixelSize','clientWidth','fixedHeight','segments','persists','Cartesian2','_pointerEvents','sources','primitiveType','_colorRamp','width','atan2','#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20lines\x20drawing\x0ain\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0auniform\x20vec2\x20hRange;\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0a\x0auniform\x20sampler2D\x20previousParticlesPosition;\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0astruct\x20adjacentPoints\x20{\x0a\x20\x20vec4\x20previous;\x0a\x20\x20vec4\x20current;\x0a\x20\x20vec4\x20next;\x0a};\x0a\x0aout\x20float\x20heightNormalization;\x0aout\x20float\x20speedNormalization;\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20read\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x0a\x20\x20float\x20a\x20=\x206378137.0f;\x20//\x20Semi-major\x20axis\x0a\x20\x20float\x20b\x20=\x206356752.3142f;\x20//\x20Semi-minor\x20axis\x0a\x20\x20float\x20e2\x20=\x206.69437999014e-3f;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0f\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20float\x20h\x20=\x20particleHeight\x20+\x20lonLatLev.z;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0f);\x0a\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calculateProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0f,\x20360.0f)\x20-\x20180.0f;\x0a\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0f);\x0a\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calculateOffsetOnNormalDirection(vec4\x20pointA,\x20vec4\x20pointB,\x20float\x20offsetSign)\x20{\x0a\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0f);\x0a\x20\x20vec2\x20pointA_XY\x20=\x20(pointA.xy\x20/\x20pointA.w)\x20*\x20aspectVec2;\x0a\x20\x20vec2\x20pointB_XY\x20=\x20(pointB.xy\x20/\x20pointB.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0f;\x0a\x20\x20vec2\x20direction\x20=\x20normalize(pointB_XY\x20-\x20pointA_XY);\x0a\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0f,\x200.0f);\x0a\x20\x20return\x20offset;\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(speed.z\x20-\x20wSpeedRange.x)\x20/\x20(wSpeedRange.y\x20-\x20wSpeedRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20vec3\x20previousPosition\x20=\x20texture(previousParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20currentPosition\x20=\x20texture(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20nextPosition\x20=\x20texture(postProcessingPosition,\x20particleIndex).rgb;\x0a\x0a\x20\x20float\x20isAnyRandomPointUsed\x20=\x20texture(postProcessingPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(currentParticlesPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(previousParticlesPosition,\x20particleIndex).a;\x0a\x0a\x20\x20adjacentPoints\x20projectedCoordinates;\x0a\x20\x20if(isAnyRandomPointUsed\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20projectedCoordinates.previous;\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20projectedCoordinates.previous;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20calculateProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20calculateProjectedCoordinate(nextPosition);\x0a\x20\x20}\x0a\x0a\x20\x20int\x20pointToUse\x20=\x20int(normal.x);\x0a\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x20\x20vec4\x20offset\x20=\x20vec4(0.0f);\x0a\x20\x20\x20\x20//\x20render\x20lines\x20with\x20triangles\x20and\x20miter\x20joint\x0a\x20\x20\x20\x20//\x20read\x20https://blog.scottlogic.com/2019/11/18/drawing-lines-with-webgl.html\x20for\x20detail\x0a\x20\x20if(pointToUse\x20==\x20-1)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.previous,\x20projectedCoordinates.current,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.previous\x20+\x20offset;\x0a\x20\x20}\x20else\x20if(pointToUse\x20==\x201)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.current,\x20projectedCoordinates.next,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.next\x20+\x20offset;\x0a\x20\x20}\x0a\x0a\x20\x20heightNormalization\x20=\x20(currentPosition.z\x20-\x20hRange.x)\x20/\x20(hRange.y\x20-\x20hRange.x);\x0a\x0a\x20\x20speedNormalization\x20=\x20texture(particlesSpeed,\x20particleIndex).a;\x0a}\x0a','toRadians','_map','EventType','lonRange','rows','particles','_mountedHook','STATIC_DRAW','1AtxRNL','getOptions','mouseUp','shaderProgram','setData','postProcessingPosition','setDate','sqrt','createCommand','removeAll','createRenderingTextures','ShaderProgram','ymin','vertexArray','udata','viewerParameters','particleHeight','applyViewerParameters','TWO_PI','postMessage','canrefresh','destroyObject','Texture','createParticlesTextures','LINEAR','_maxAge','vdata','pixelFormat','PixelFormat','ShaderSource','colour','speedRate','randomizeParticles','setOptions','PixelDatatype','LayerUtil','34936hGLawr','toGridXY','WindUtil','unbindEvent','getRandomLatLng','particlesTextureSize','forEach','PrimitiveCollection','canvas','particlesRendering','cols','#ffffff','RGBA','SceneMode','__proto__','camera','east','data','floor','pointer-events','#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20trailsColorTexture;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(trailsColorTexture,\x20textureCoordinate);\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20trailsColor;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','dropRateBump','age','uSpeedRange','isDestroy','commandList','xmin','#version\x20300\x20es\x0a\x0a//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0auniform\x20sampler2D\x20W;\x20//\x20upward\x20wind\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0auniform\x20float\x20speedScaleFactor;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20//\x20map\x20the\x20z-axis\x20value\x20to\x20the\x20nearest\x20bit\x20plane\x20to\x20ensure\x20that\x20the\x20result\x20is\x20an\x20integer\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205,\x207,\x208,\x209],\x20width\x20=\x202,\x20height\x20=\x202,\x20level\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x206\x207\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x202\x203\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWindComponent(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20float\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D).r;\x0a\x20\x20return\x20result;\x0a}\x0a\x0afloat\x20interpolateTexture(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20float\x20lon0\x20=\x20floor(lon\x20/\x20interval.x)\x20*\x20interval.x;\x0a\x20\x20float\x20lon1\x20=\x20lon0\x20+\x201.0f\x20*\x20interval.x;\x0a\x20\x20float\x20lat0\x20=\x20floor(lat\x20/\x20interval.y)\x20*\x20interval.y;\x0a\x20\x20float\x20lat1\x20=\x20lat0\x20+\x201.0f\x20*\x20interval.y;\x0a\x0a\x20\x20float\x20lon0_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon1_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon0_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat1,\x20lev));\x0a\x20\x20float\x20lon1_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat1,\x20lev));\x0a\x0a\x20\x20float\x20lon_lat0\x20=\x20mix(lon0_lat0,\x20lon1_lat0,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat1\x20=\x20mix(lon0_lat1,\x20lon1_lat1,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat\x20=\x20mix(lon_lat0,\x20lon_lat1,\x20lat\x20-\x20lat0);\x0a\x20\x20return\x20lon_lat;\x0a}\x0a\x0avec3\x20linearInterpolation(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bilinear_interpolation\x0a\x20\x20float\x20u\x20=\x20interpolateTexture(U,\x20lonLatLev);\x0a\x20\x20float\x20v\x20=\x20interpolateTexture(V,\x20lonLatLev);\x0a\x20\x20float\x20w\x20=\x20interpolateTexture(W,\x20lonLatLev);\x0a\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20float\x20term1\x20=\x20111132.92f;\x0a\x20\x20float\x20term2\x20=\x20559.82f\x20*\x20cos(2.0f\x20*\x20latitude);\x0a\x20\x20float\x20term3\x20=\x201.175f\x20*\x20cos(4.0f\x20*\x20latitude);\x0a\x20\x20float\x20term4\x20=\x200.0023f\x20*\x20cos(6.0f\x20*\x20latitude);\x0a\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20float\x20term5\x20=\x20111412.84f\x20*\x20cos(latitude);\x0a\x20\x20float\x20term6\x20=\x2093.5f\x20*\x20cos(3.0f\x20*\x20latitude);\x0a\x20\x20float\x20term7\x20=\x200.118f\x20*\x20cos(5.0f\x20*\x20latitude);\x0a\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avec3\x20convertSpeedUnitToLonLat(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20float\x20w\x20=\x20speed.z;\x0a\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20return\x20windVectorInLonLatLev;\x0a}\x0a\x0avec3\x20calculateSpeedByRungeKutta2(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#Second-order_methods_with_two_stages\x20for\x20detail\x0a\x20\x20const\x20float\x20h\x20=\x200.5f;\x0a\x0a\x20\x20vec3\x20y_n\x20=\x20lonLatLev;\x0a\x20\x20vec3\x20f_n\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20midpoint\x20=\x20y_n\x20+\x200.5f\x20*\x20h\x20*\x20convertSpeedUnitToLonLat(y_n,\x20f_n)\x20*\x20speedScaleFactor;\x0a\x20\x20vec3\x20speed\x20=\x20h\x20*\x20linearInterpolation(midpoint)\x20*\x20speedScaleFactor;\x0a\x0a\x20\x20return\x20speed;\x0a}\x0a\x0avec2\x20getRange(vec2\x20range)\x20{\x0a\x20\x20float\x20x1\x20=\x200.0f\x20-\x20range.x;\x0a\x20\x20float\x20x2\x20=\x20range.y\x20-\x200.0f;\x0a\x20\x20if(x1\x20<\x200.0f\x20||\x20x2\x20<\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x20vec2(abs(x1),\x20abs(x2));\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20return\x20vec2(0.0f,\x20abs(max(x1,\x20x2)));\x0a\x20\x20}\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20vec2\x20uRange\x20=\x20getRange(uSpeedRange);\x0a\x20\x20vec2\x20vRange\x20=\x20getRange(vSpeedRange);\x0a\x20\x20vec2\x20wRange\x20=\x20getRange(wSpeedRange);\x0a\x20\x20if(length(speed.xyz)\x20==\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x200.0f;\x0a\x20\x20}\x0a\x0a\x20\x20percent.x\x20=\x20(abs(speed.x)\x20-\x20uRange.x)\x20/\x20(uRange.y\x20-\x20uRange.x);\x0a\x20\x20percent.y\x20=\x20(abs(speed.y)\x20-\x20vRange.x)\x20/\x20(vRange.y\x20-\x20vRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(abs(speed.z)\x20-\x20wRange.x)\x20/\x20(wRange.y\x20-\x20wRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speedOrigin\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20speed\x20=\x20calculateSpeedByRungeKutta2(lonLatLev);\x0a\x20\x20vec3\x20speedInLonLat\x20=\x20convertSpeedUnitToLonLat(lonLatLev,\x20speed);\x0a\x0a\x20\x20vec4\x20particleSpeed\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speed\x20/\x20speedScaleFactor));\x0a\x20\x20\x20\x20//\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20fragColor\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speedOrigin));\x0a}\x0a','clearFramebuffers','__esModule','getSpeed','all','5kPWpVF','RenderState','90tpoCxQ','dimensions','createWindTextures','fromGeometry','trails','particlesSpeed','depthTexture','PI_OVER_THREE','EllipsoidalOccluder','vmin','particlesNumber','log','uniformMap','style','TextureMagnificationFilter','create','clampToLatitudeRange','tlat','PrimitiveType','windField','blue','Geometry','Cartesian3','height','framebuffers','_animateFrame','update','requestAnimationFrame','attributeLocations','pointerEvents','canvasContext','scene','Pass','umax','getOwnPropertyDescriptor','72510JXpGzk','grid','ellipsoid','updateViewerParameters','createFramebuffer','stroke','array','textures','default','_onMapWhellEvent','wind','addEventListener','off','remove','preExecute','lev','nextTrailsColor','tlng','resize','clear','commandToExecute','mod','push','GeometryAttribute','initWorker','VertexArray','BoundingSphere','getColorTexture','_onMouseMoveEvent','196sBPbLU','outputTexture','Cesium','dropRate','getUVByPoint','position','defineProperty','createRawRenderState','_randomParticle','colorTextures','_onMouseUpEvent','addPrimitives','canvasResize','dynamic','options','getPixelSize','type','blending','strokeStyle','vSpeedRange','302004kzjlUB','particleSystem','lat','TextureMinificationFilter','keys','setGeometry','zIndex','particlesTextures','layer','Appearance','visibility','fromCssColorString','hidden','container','visible','beginPath','_tomap','primitives','_calcUV','defines','FLOAT','BufferUsage','maxAge','lon','destroy','rawRenderState','createRenderingPrimitives'];_0x4118=function(){return _0x518ea0;};return _0x4118();}class CanvasParticle{constructor(){this[_0x409cd5(0x2dc,0x2ba)]=null,this[_0x409cd5(0x2be,0x28b)]=null,this['tlng']=null,this['tlat']=null;function _0x409cd5(_0x58d027,_0x534a48){return _0x200676(_0x58d027- -0x299,_0x534a48);}this['age']=null;function _0x288312(_0x3187cf,_0x24b6d2){return _0x200676(_0x24b6d2- -0x426,_0x3187cf);}this['speed']=null;}[_0x200676(0x56d,0x50c)](){for(const _0x27052e in this){delete this[_0x27052e];}}}class CanvasWindField{constructor(_0x392c22){this['setOptions'](_0x392c22);}get['speedRate'](){return this['_speedRate'];}set['speedRate'](_0x28af7b){function _0x2c50e8(_0x42cd05,_0x15f63b){return _0x19ef9b(_0x42cd05,_0x15f63b-0x3fd);}this['_speedRate']=(0x64-(_0x28af7b>0x63?0x63:_0x28af7b))*0x64,this['_calc_speedRate']=[(this['xmax']-this['xmin'])/this['_speedRate'],(this['ymax']-this[_0x2c50e8(0xec,0x16b)])/this['_speedRate']];}get[_0x200676(0x56b,0x5a7)](){function _0x101732(_0x536653,_0x1c0014){return _0x200676(_0x536653- -0xf9,_0x1c0014);}return this[_0x101732(0x3db,0x351)];}set['maxAge'](_0x3c5834){this['_maxAge']=_0x3c5834;}['setOptions'](_0x2ded43){this['options']=_0x2ded43,this['maxAge']=_0x2ded43['maxAge']||0x78,this[_0x2e0e1b(-0x17b,-0x14a)]=_0x2ded43[_0x128c4d(0x377,0x399)]||0x32;function _0x128c4d(_0x4e0d29,_0x4c191a){return _0x200676(_0x4c191a- -0x141,_0x4e0d29);}this[_0x2e0e1b(-0x154,-0x16c)]=[];function _0x2e0e1b(_0xb9215b,_0x2e656a){return _0x200676(_0x2e656a- -0x624,_0xb9215b);}const _0x45572e=_0x2ded43['particlesNumber']||0x1000;for(let _0x364c4c=0x0;_0x364c4c<_0x45572e;_0x364c4c++){const _0x105411=this['_randomParticle'](new CanvasParticle());this['particles'][_0x128c4d(0x36b,0x3f9)](_0x105411);}}['setDate'](_0x5dbe6e){this['rows']=_0x5dbe6e[_0x49b93e(-0x242,-0x1c3)],this[_0x4354ff(0x359,0x38c)]=_0x5dbe6e['cols'],this['xmin']=_0x5dbe6e['xmin'],this[_0x4354ff(0x477,0x44d)]=_0x5dbe6e['xmax'],this['ymin']=_0x5dbe6e[_0x49b93e(-0x217,-0x1b3)];function _0x4354ff(_0x3c870f,_0x2c6cac){return _0x19ef9b(_0x3c870f,_0x2c6cac-0x5fc);}this[_0x4354ff(0x42d,0x434)]=_0x5dbe6e[_0x4354ff(0x3cf,0x434)],this['grid']=[];const _0x23ae7f=_0x5dbe6e[_0x49b93e(-0x221,-0x1b1)],_0x4fd448=_0x5dbe6e['vdata'];let _0x1c4548=![];function _0x49b93e(_0x519b68,_0x41913b){return _0x19ef9b(_0x519b68,_0x41913b-0xdf);}_0x23ae7f[_0x4354ff(0x3f8,0x42c)]===this[_0x49b93e(-0x1c2,-0x1c3)]&&_0x23ae7f[0x0][_0x49b93e(-0xa6,-0xf1)]===this[_0x49b93e(-0x193,-0x191)]&&(_0x1c4548=!![]);let _0x1f00d9=0x0,_0x164b01=null,_0x5daa17=null;for(let _0x105180=0x0;_0x105180<this['rows'];_0x105180++){_0x164b01=[];for(let _0x1eb3b4=0x0;_0x1eb3b4<this['cols'];_0x1eb3b4++,_0x1f00d9++){_0x1c4548?_0x5daa17=this[_0x4354ff(0x3f7,0x40a)](_0x23ae7f[_0x105180][_0x1eb3b4],_0x4fd448[_0x105180][_0x1eb3b4]):_0x5daa17=this[_0x4354ff(0x42d,0x40a)](_0x23ae7f[_0x1f00d9],_0x4fd448[_0x1f00d9]),_0x164b01['push'](_0x5daa17);}this[_0x49b93e(-0x147,-0x155)][_0x4354ff(0x363,0x3dd)](_0x164b01);}this[_0x4354ff(0x3c3,0x3f2)]['reverseY']&&this['grid']['reverse']();}[_0x19ef9b(-0x1d5,-0x222)](){delete this[_0x15ff21(0x38f,0x313)],delete this[_0x10534d(0x115,0x183)];function _0x10534d(_0x1825ce,_0x400634){return _0x19ef9b(_0x400634,_0x1825ce-0x385);}delete this[_0x10534d(0x125,0xf5)],delete this[_0x15ff21(0x482,0x485)],delete this['ymin'];function _0x15ff21(_0x366ac9,_0x2a25a8){return _0x19ef9b(_0x2a25a8,_0x366ac9-0x631);}delete this[_0x15ff21(0x469,0x4da)],delete this[_0x15ff21(0x3fd,0x36c)],delete this[_0x10534d(0xe4,0xf0)];}[_0x19ef9b(-0x2bf,-0x279)](_0x7804ac,_0x43e2fb){const _0x364779=(_0x7804ac-this[_0x344be1(0x2fc,0x2fe)])/(this['xmax']-this['xmin'])*(this[_0x47dc36(0x1a5,0x185)]-0x1);function _0x47dc36(_0xdedaf4,_0x50f75b){return _0x200676(_0x50f75b- -0x364,_0xdedaf4);}const _0x1e7789=(this['ymax']-_0x43e2fb)/(this['ymax']-this['ymin'])*(this['rows']-0x1);function _0x344be1(_0x52a54a,_0x4bbc1f){return _0x19ef9b(_0x4bbc1f,_0x52a54a-0x55c);}return[_0x364779,_0x1e7789];}[_0x19ef9b(-0x234,-0x1d2)](_0x390fb8,_0x3abb1e){if(_0x390fb8<0x0||_0x390fb8>=this[_0x26c33d(0xcc,0x12c)]||_0x3abb1e>=this['rows'])return[0x0,0x0,0x0];const _0x1bd177=Math['floor'](_0x390fb8),_0x389f03=Math['floor'](_0x3abb1e);if(_0x1bd177===_0x390fb8&&_0x389f03===_0x3abb1e)return this['grid'][_0x3abb1e][_0x390fb8];function _0x32aedb(_0xb98849,_0x1b623c){return _0x19ef9b(_0xb98849,_0x1b623c-0x179);}const _0xbab0f0=_0x1bd177+0x1,_0x127837=_0x389f03+0x1,_0x33a1af=this['getUVByXY'](_0x1bd177,_0x389f03),_0x22e758=this[_0x26c33d(0x16a,0x120)](_0xbab0f0,_0x389f03),_0x1b361c=this[_0x32aedb(-0x56,-0x59)](_0x1bd177,_0x127837);function _0x26c33d(_0x5a39e1,_0x45438c){return _0x200676(_0x5a39e1- -0x41d,_0x45438c);}const _0x586e95=this['getUVByXY'](_0xbab0f0,_0x127837);let _0x46125b=null;try{_0x46125b=this[_0x32aedb(-0x90,-0x69)](_0x390fb8-_0x1bd177,_0x3abb1e-_0x389f03,_0x33a1af,_0x22e758,_0x1b361c,_0x586e95);}catch(_0x8e4573){console[_0x26c33d(0xef,0xfa)](_0x390fb8,_0x3abb1e);}return _0x46125b;}['_bilinearInterpolation'](_0x39ee39,_0x17b396,_0x16b97b,_0x2039aa,_0x3d227e,_0xbdf3a2){const _0x988751=0x1-_0x39ee39,_0xb92d69=0x1-_0x17b396,_0x13138b=_0x988751*_0xb92d69,_0x583009=_0x39ee39*_0xb92d69,_0x49912a=_0x988751*_0x17b396,_0x2c7800=_0x39ee39*_0x17b396,_0x1b99cf=_0x16b97b[0x0]*_0x13138b+_0x2039aa[0x0]*_0x583009+_0x3d227e[0x0]*_0x49912a+_0xbdf3a2[0x0]*_0x2c7800,_0xe14b79=_0x16b97b[0x1]*_0x13138b+_0x2039aa[0x1]*_0x583009+_0x3d227e[0x1]*_0x49912a+_0xbdf3a2[0x1]*_0x2c7800;return this['_calcUV'](_0x1b99cf,_0xe14b79);}['_calcUV'](_0x1749e8,_0x44d81d){function _0x33cb9d(_0x2c9be9,_0x5bfa1b){return _0x200676(_0x5bfa1b- -0x61b,_0x2c9be9);}return[+_0x1749e8,+_0x44d81d,Math[_0x33cb9d(-0x1ac,-0x159)](_0x1749e8*_0x1749e8+_0x44d81d*_0x44d81d)];}[_0x19ef9b(-0x24d,-0x214)](_0x44d4a3,_0x4ac5d3){if(!this['isInExtent'](_0x44d4a3,_0x4ac5d3))return null;function _0x1b6495(_0x3aa312,_0x5009f0){return _0x200676(_0x5009f0- -0x69f,_0x3aa312);}function _0x27efd2(_0x129794,_0x4f127c){return _0x200676(_0x129794- -0x70,_0x4f127c);}const _0x12ae80=this[_0x27efd2(0x470,0x49b)](_0x44d4a3,_0x4ac5d3),_0x16006d=this[_0x27efd2(0x517,0x497)](_0x12ae80[0x0],_0x12ae80[0x1]);return _0x16006d;}['isInExtent'](_0x13b519,_0xb15df6){function _0x33c5e4(_0x51e754,_0x3cb5ce){return _0x19ef9b(_0x3cb5ce,_0x51e754-0x6ce);}function _0x15db1c(_0x35e8d9,_0x390f69){return _0x200676(_0x390f69- -0x238,_0x35e8d9);}return _0x13b519>=this['xmin']&&_0x13b519<=this[_0x33c5e4(0x51f,0x4c1)]&&_0xb15df6>=this[_0x33c5e4(0x43c,0x3e4)]&&_0xb15df6<=this[_0x33c5e4(0x506,0x4d0)]?!![]:![];}[_0x19ef9b(-0x2ca,-0x276)](){function _0x8beb64(_0x2a91b4,_0x2be48f){return _0x200676(_0x2a91b4- -0x15a,_0x2be48f);}const _0x1204a5=fRandomByfloat(this[_0x22d0fa(0x2f7,0x276)],this[_0x8beb64(0x450,0x3e8)]),_0x372bc8=fRandomByfloat(this['ymin'],this[_0x22d0fa(0x2da,0x30e)]),_0x52a9a5={};_0x52a9a5[_0x22d0fa(0x252,0x2d4)]=_0x372bc8,_0x52a9a5[_0x8beb64(0x41b,0x4af)]=_0x1204a5;function _0x22d0fa(_0x27837a,_0x5d9648){return _0x19ef9b(_0x27837a,_0x5d9648-0x4d6);}return _0x52a9a5;}['getParticles'](){function _0x3bd5cf(_0x400206,_0x364e87){return _0x19ef9b(_0x400206,_0x364e87-0x6bd);}function _0x5eec58(_0x7083f1,_0x328da4){return _0x19ef9b(_0x328da4,_0x7083f1-0x574);}let _0xa92289,_0x125a2b,_0x391491;for(let _0x266260=0x0,_0x1a832b=this['particles']['length'];_0x266260<_0x1a832b;_0x266260++){let _0x526a13=this[_0x5eec58(0x2d3,0x28c)][_0x266260];_0x526a13[_0x5eec58(0x310,0x31d)]<=0x0&&(_0x526a13=this[_0x3bd5cf(0x4ab,0x4ad)](_0x526a13));if(_0x526a13['age']>0x0){const _0x21aafd=_0x526a13['tlng'],_0xb5e0b3=_0x526a13['tlat'];_0x391491=this[_0x3bd5cf(0x464,0x4a9)](_0x21aafd,_0xb5e0b3),_0x391491?(_0xa92289=_0x21aafd+this['_calc_speedRate'][0x0]*_0x391491[0x0],_0x125a2b=_0xb5e0b3+this['_calc_speedRate'][0x1]*_0x391491[0x1],_0x526a13['lng']=_0x21aafd,_0x526a13[_0x3bd5cf(0x4c8,0x4bb)]=_0xb5e0b3,_0x526a13['tlng']=_0xa92289,_0x526a13['tlat']=_0x125a2b,_0x526a13['speed']=_0x391491[0x2],_0x526a13['age']--):_0x526a13['age']=0x0;}}return this['particles'];}[_0x200676(0x549,0x550)](_0x41137e){let _0x41f375,_0x1353ca;for(let _0x4e3d78=0x0;_0x4e3d78<0x1e;_0x4e3d78++){_0x41f375=this['getRandomLatLng'](),_0x1353ca=this['getUVByPoint'](_0x41f375[_0x1e8fcf(-0x19d,-0x122)],_0x41f375['lat']);if(_0x1353ca&&_0x1353ca[0x2]>0x0)break;}if(!_0x1353ca)return _0x41137e;const _0x5c70e9=_0x41f375['lng']+this['_calc_speedRate'][0x0]*_0x1353ca[0x0],_0x1e9a99=_0x41f375[_0x1e8fcf(-0xb5,-0x140)]+this['_calc_speedRate'][0x1]*_0x1353ca[0x1];_0x41137e['lng']=_0x41f375[_0x1f35cf(0x256,0x2dc)],_0x41137e[_0x1e8fcf(-0xdf,-0x140)]=_0x41f375['lat'];function _0x1f35cf(_0x4c7979,_0x5b5ad1){return _0x19ef9b(_0x5b5ad1,_0x4c7979-0x43a);}function _0x1e8fcf(_0x32ce19,_0x5f411a){return _0x200676(_0x5f411a- -0x697,_0x32ce19);}return _0x41137e['tlng']=_0x5c70e9,_0x41137e[_0x1f35cf(0x1f3,0x1c8)]=_0x1e9a99,_0x41137e[_0x1f35cf(0x1d6,0x1b4)]=Math['round'](Math[_0x1f35cf(0x182,0x193)]()*this[_0x1f35cf(0x24c,0x298)]),_0x41137e['speed']=_0x1353ca[0x2],_0x41137e;}[_0x19ef9b(-0x1e3,-0x1ec)](){for(const _0x28425f in this){delete this[_0x28425f];}}}function fRandomByfloat(_0x105aad,_0x55f5d8){return _0x105aad+Math['random']()*(_0x55f5d8-_0x105aad);}const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x19ef9b(-0x1ab,-0x1fc)]['BaseLayer'];class CanvasWindLayer extends BaseLayer{constructor(_0x873d5b={}){super(_0x873d5b),this['_setOptionsHook'](_0x873d5b);function _0x2e51d8(_0x55d5a1,_0x346b88){return _0x19ef9b(_0x346b88,_0x55d5a1-0x69a);}function _0x451660(_0xafb2b7,_0x34c36b){return _0x19ef9b(_0xafb2b7,_0x34c36b-0x460);}this['canvas']=null,_0x873d5b[_0x2e51d8(0x3cf,0x428)]&&_0x873d5b['steps']&&(this[_0x2e51d8(0x3f0,0x3ba)]=new mars3d__namespace[(_0x2e51d8(0x4d6,0x4f3))](_0x873d5b));}['_setOptionsHook'](_0x296dc,_0x11ef4f){function _0x1cbaed(_0x2785b6,_0x33896e){return _0x19ef9b(_0x33896e,_0x2785b6-0x6cd);}this['frameTime']=0x3e8/(_0x296dc['frameRate']||0xa);function _0x313d51(_0x83d8c4,_0x56f051){return _0x200676(_0x83d8c4- -0x5c0,_0x56f051);}this['_pointerEvents']=this[_0x313d51(-0x71,0x8)]['pointerEvents']??![],this['color']=_0x296dc['color']||_0x1cbaed(0x45e,0x4bb),this[_0x313d51(-0x31,-0x2)]=_0x296dc['lineWidth']||0x1,this[_0x1cbaed(0x41c,0x3ed)]=_0x296dc[_0x1cbaed(0x41c,0x449)]??0x0,this['reverseY']=_0x296dc[_0x313d51(-0x1b,-0xc)]??![],this['windField']&&this[_0x1cbaed(0x488,0x425)]['setOptions'](_0x296dc);}get['layer'](){function _0x19bb54(_0x22c2b8,_0x589f23){return _0x200676(_0x22c2b8- -0x6f0,_0x589f23);}return this[_0x19bb54(-0x209,-0x231)];}get['canvasWidth'](){function _0x5f52a4(_0x49ce19,_0x16e756){return _0x19ef9b(_0x49ce19,_0x16e756-0x1c6);}function _0x260796(_0x2edf69,_0x5556f6){return _0x200676(_0x2edf69-0x19,_0x5556f6);}return this[_0x260796(0x4cd,0x4bd)]['scene'][_0x260796(0x500,0x4ed)][_0x260796(0x4c0,0x4e7)];}get['canvasHeight'](){function _0x51a16e(_0x2d30d6,_0x5b48bc){return _0x200676(_0x2d30d6- -0x464,_0x5b48bc);}return this[_0x51a16e(0x50,0x31)]['scene']['canvas']['clientHeight'];}get[_0x19ef9b(-0x215,-0x23b)](){return this['_pointerEvents'];}set['pointerEvents'](_0x2d9550){this['_pointerEvents']=_0x2d9550;if(!this['canvas'])return;function _0x1d23f3(_0xc04317,_0x326b68){return _0x200676(_0xc04317- -0x5be,_0x326b68);}function _0x38407a(_0x2e6866,_0x28cd0b){return _0x19ef9b(_0x2e6866,_0x28cd0b-0x325);}_0x2d9550?this['canvas'][_0x1d23f3(-0xb0,-0xc5)]['pointer-events']=_0x38407a(0xb2,0xca):this['canvas'][_0x38407a(0x117,0xda)][_0x1d23f3(-0xcc,-0x153)]='none';}get[_0x200676(0x50b,0x4c8)](){function _0x247389(_0x250d47,_0x8c8443){return _0x200676(_0x8c8443-0x19,_0x250d47);}return this[_0x247389(0x53b,0x568)]['particlesNumber'];}set[_0x19ef9b(-0x21b,-0x24e)](_0x25530e){this['options'][_0x2af3a5(0x167,0x176)]=_0x25530e;function _0x2af3a5(_0x5b3ca6,_0x2e99f4){return _0x19ef9b(_0x2e99f4,_0x5b3ca6-0x3b5);}function _0x456178(_0x194586,_0xcf8690){return _0x200676(_0xcf8690- -0xb8,_0x194586);}clearTimeout(this['_canrefresh']),this[_0x2af3a5(0x1d7,0x1d2)]=setTimeout(()=>{this['redraw']();},0x1f4);}get['speedRate'](){return this['options']['speedRate'];}set[_0x19ef9b(-0x2a6,-0x27f)](_0x39f574){function _0x2b65fb(_0xca1fcc,_0x41eb3b){return _0x200676(_0xca1fcc- -0x783,_0x41eb3b);}this[_0x2b65fb(-0x234,-0x27b)]['speedRate']=_0x39f574,this['windField']&&(this['windField']['speedRate']=_0x39f574);}get['maxAge'](){function _0xdece6a(_0x422e83,_0xb3cab9){return _0x19ef9b(_0xb3cab9,_0x422e83-0x147);}return this[_0xdece6a(-0xc3,-0x77)]['maxAge'];}set[_0x200676(0x56b,0x5f0)](_0x1fc562){function _0x211128(_0xe3fc74,_0x123e2c){return _0x19ef9b(_0xe3fc74,_0x123e2c-0x281);}this[_0x211128(0x104,0x77)]['maxAge']=_0x1fc562,this['windField']&&(this['windField']['maxAge']=_0x1fc562);}get['data'](){return this['windData'];}set['data'](_0x1bad52){this['setData'](_0x1bad52);}['_showHook'](_0x5a7f41){function _0x3fc145(_0x4b5f84,_0x23c631){return _0x200676(_0x23c631- -0x73e,_0x4b5f84);}function _0x2ca66e(_0x8d6cb5,_0x40853b){return _0x200676(_0x8d6cb5- -0x270,_0x40853b);}_0x5a7f41?this['_addedHook']():(this[_0x2ca66e(0x31b,0x305)]&&(this[_0x2ca66e(0x2df,0x33d)][_0x3fc145(-0x2db,-0x24e)]=this[_0x3fc145(-0x157,-0x1b3)]),this[_0x2ca66e(0x33e,0x398)]());}['_mountedHook'](){function _0x3d0bcc(_0x4f44bf,_0x40d0e0){return _0x19ef9b(_0x40d0e0,_0x4f44bf-0x60);}function _0x44133b(_0x2dc9b9,_0x4847ac){return _0x19ef9b(_0x4847ac,_0x2dc9b9-0x6dd);}this[_0x44133b(0x4d3,0x52c)]['worker']?this[_0x3d0bcc(-0x1bd,-0x20b)]():this['windField']=new CanvasWindField(this['options']);}['_addedHook'](){this[_0x5c73f4(0x245,0x282)]=this['_createCanvas']();const _0x1f7d0d={};_0x1f7d0d['willReadFrequently']=!![],this['canvasContext']=this['canvas']['getContext']('2d',_0x1f7d0d),this['bindEvent']();function _0x5c73f4(_0x5d7762,_0x4d71aa){return _0x200676(_0x4d71aa- -0x265,_0x5d7762);}function _0x38ae66(_0x1ea1bc,_0xb7c2e1){return _0x19ef9b(_0xb7c2e1,_0x1ea1bc-0x358);}this[_0x38ae66(0x14e,0x1e2)]['data']&&this['setData'](this[_0x38ae66(0x14e,0x138)][_0x38ae66(0xef,0x11b)]);}['_removedHook'](){this['clear']();function _0xfbd030(_0x5bb0c6,_0x5a38f7){return _0x19ef9b(_0x5a38f7,_0x5bb0c6-0x595);}function _0x7fe1a(_0x3a5cd6,_0x159673){return _0x19ef9b(_0x3a5cd6,_0x159673- -0x3e);}this[_0xfbd030(0x31e,0x2ce)](),this['canvas']&&(this[_0xfbd030(0x2f0,0x359)][_0x7fe1a(-0x1c8,-0x235)]['removeChild'](this['canvas']),delete this[_0xfbd030(0x323,0x2a0)]);}['_createCanvas'](){function _0x5bd6bc(_0x527e58,_0x3939bc){return _0x200676(_0x3939bc- -0x794,_0x527e58);}const _0x5ba691=mars3d__namespace['DomUtil'][_0x5bd6bc(-0x250,-0x284)]('canvas','mars3d-canvasWind',this[_0x5bd6bc(-0x2b6,-0x2e0)]['container']);_0x5ba691['style'][_0x41829f(0xfa,0xd7)]='absolute',_0x5ba691[_0x41829f(0x27,0x9f)]['top']='0px',_0x5ba691['style'][_0x41829f(0xa6,0x110)]='0px',_0x5ba691['style'][_0x5bd6bc(-0x302,-0x2e4)]=this['_map'][_0x41829f(0x3e,0xb1)][_0x5bd6bc(-0x2df,-0x2ad)]['clientWidth']+'px';function _0x41829f(_0x11481e,_0x5a7955){return _0x200676(_0x5a7955- -0x46f,_0x11481e);}return _0x5ba691['style']['height']=this[_0x5bd6bc(-0x324,-0x2e0)]['scene']['canvas'][_0x5bd6bc(-0x21a,-0x20f)]+'px',_0x5ba691['style']['pointerEvents']=this[_0x41829f(0xb7,0x3d)]?'auto':'none',_0x5ba691['style']['zIndex']=this['options'][_0x41829f(0x11c,0xec)]??0x9,_0x5ba691['width']=this['_map']['scene'][_0x5bd6bc(-0x25c,-0x2ad)][_0x5bd6bc(-0x31d,-0x2ed)],_0x5ba691[_0x5bd6bc(-0x293,-0x27c)]=this['_map']['scene'][_0x5bd6bc(-0x29b,-0x2ad)]['clientHeight'],_0x5ba691;}['resize'](){function _0x5d22f9(_0x4d7a94,_0x1c9980){return _0x19ef9b(_0x1c9980,_0x4d7a94-0x4f);}function _0x509abd(_0x4ea622,_0x5a800d){return _0x200676(_0x4ea622- -0x666,_0x5a800d);}this['canvas']&&(this['canvas']['style']['width']=this[_0x5d22f9(-0x256,-0x215)][_0x509abd(-0x146,-0x192)]['canvas'][_0x509abd(-0x1bf,-0x22a)]+'px',this['canvas'][_0x5d22f9(-0x1fc,-0x287)][_0x5d22f9(-0x1f2,-0x23a)]=this['_map'][_0x5d22f9(-0x1ea,-0x25c)][_0x509abd(-0x17f,-0x173)]['clientHeight']+'px',this['canvas']['width']=this['_map']['scene']['canvas']['clientWidth'],this[_0x5d22f9(-0x223,-0x1b9)][_0x5d22f9(-0x1f2,-0x175)]=this['_map'][_0x509abd(-0x146,-0x1b1)]['canvas'][_0x509abd(-0xe1,-0x14a)]);}[_0x200676(0x495,0x46d)](){const _0x13e480=this;function _0x595117(_0x311d0d,_0x1a5381){return _0x19ef9b(_0x311d0d,_0x1a5381-0x320);}let _0x3fafb8=Date['now']();(function _0x25cb17(){function _0x391f77(_0x34ea65,_0x29ae90){return _0x468a(_0x34ea65- -0x188,_0x29ae90);}function _0x4cf088(_0x56bbb1,_0x17b133){return _0x468a(_0x56bbb1-0x33,_0x17b133);}if(_0x13e480[_0x391f77(-0x5b,0x1e)])return;_0x13e480[_0x391f77(-0x38,-0x9b)]=window[_0x4cf088(0x185,0xf8)](_0x25cb17);if(_0x13e480[_0x4cf088(0x1e1,0x16d)]&&_0x13e480['windField']){const _0x501255=Date['now'](),_0x1bdce6=_0x501255-_0x3fafb8;_0x1bdce6>_0x13e480[_0x4cf088(0x1fb,0x1b0)]&&(_0x3fafb8=_0x501255-_0x1bdce6%_0x13e480['frameTime'],_0x13e480['update']());}}(),window['addEventListener']('resize',this[_0x595117(0x102,0xfd)]['bind'](this),![]),this['mouse_down']=![],this['mouse_move']=![]);function _0xed3e84(_0x55251f,_0x46b3e6){return _0x200676(_0x46b3e6- -0x5ae,_0x55251f);}this[_0xed3e84(-0x27,-0x5f)]['mouseHidden']&&(this['_map']['on'](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this['_map']['on'](mars3d__namespace[_0xed3e84(-0x17a,-0xf9)]['mouseDown'],this['_onMouseDownEvent'],this),this[_0xed3e84(-0xb7,-0xfa)]['on'](mars3d__namespace['EventType'][_0xed3e84(-0xc3,-0xf1)],this[_0x595117(0x133,0x112)],this));}[_0x200676(0x4e2,0x460)](){window['cancelAnimationFrame'](this[_0x2da132(0xbd,0xdc)]);function _0x19584c(_0x40d151,_0x59d151){return _0x19ef9b(_0x59d151,_0x40d151-0x3cc);}delete this['_animateFrame'],window['removeEventListener'](_0x19584c(0x1a9,0x164),this['resize']);function _0x2da132(_0x4e5333,_0x42fe26){return _0x200676(_0x4e5333- -0x45d,_0x42fe26);}this['options']['mouseHidden']&&(this[_0x2da132(0x57,0x2f)][_0x2da132(0xd3,0x151)](mars3d__namespace['EventType'][_0x19584c(0x1f4,0x1a9)],this[_0x2da132(0xd0,0x153)],this),this[_0x2da132(0x57,0x55)]['off'](mars3d__namespace[_0x2da132(0x58,0x17)][_0x2da132(0x36,0x81)],this['_onMouseDownEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['mouseUp'],this['_onMouseUpEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['mouseMove'],this[_0x2da132(0xe3,0x133)],this));}['_onMapWhellEvent'](_0x3159af){function _0x52ddf9(_0x58248b,_0x3dc35c){return _0x200676(_0x3dc35c- -0x3f2,_0x58248b);}clearTimeout(this['refreshTimer']);if(!this['show']||!this[_0x52ddf9(0x70,0xf5)])return;this['canvas']['style']['visibility']='hidden',this['refreshTimer']=setTimeout(()=>{if(!this[_0x199680(0x28e,0x282)])return;this['redraw']();function _0x199680(_0xeb4a95,_0x590d4d){return _0x52ddf9(_0x590d4d,_0xeb4a95-0x108);}function _0x1045c7(_0x501991,_0x280595){return _0x52ddf9(_0x280595,_0x501991- -0x339);}this['canvas'][_0x1045c7(-0x21d,-0x1e5)]['visibility']=_0x1045c7(-0x1c8,-0x1f4);},0xc8);}['_onMouseDownEvent'](_0x2e375e){this['mouse_down']=!![],this['_map']['off'](mars3d__namespace[_0xee144b(-0x311,-0x2ee)]['mouseMove'],this[_0xee144b(-0x267,-0x263)],this);function _0x4c29f0(_0x3af4e1,_0x62254d){return _0x200676(_0x62254d- -0x510,_0x3af4e1);}function _0xee144b(_0x64e5ae,_0x1b56da){return _0x200676(_0x1b56da- -0x7a3,_0x64e5ae);}this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0xee144b(-0x1f7,-0x263)],this);}['_onMouseMoveEvent'](_0x15c5b5){function _0x4d34fb(_0x2f2a31,_0x366124){return _0x19ef9b(_0x366124,_0x2f2a31-0x1de);}function _0xafd48e(_0x9f91cc,_0x5295d9){return _0x19ef9b(_0x9f91cc,_0x5295d9-0x73f);}if(!this['show']||!this[_0x4d34fb(-0x94,-0x103)])return;this[_0xafd48e(0x613,0x596)]&&(this[_0x4d34fb(-0x94,-0x4d)]['style'][_0x4d34fb(-0x1c,-0x85)]=_0xafd48e(0x577,0x547),this['mouse_move']=!![]);}['_onMouseUpEvent'](_0x1c8669){if(!this['show']||!this['canvas'])return;this[_0x43bb7a(0x1dc,0x19e)][_0x3c5c33(-0x24f,-0x236)](mars3d__namespace['EventType'][_0x3c5c33(-0x272,-0x1e8)],this['_onMouseMoveEvent'],this);function _0x3c5c33(_0x9d3f18,_0x7a491){return _0x19ef9b(_0x9d3f18,_0x7a491- -0xd);}function _0x43bb7a(_0x14ae5a,_0x497aad){return _0x19ef9b(_0x14ae5a,_0x497aad-0x443);}this['mouse_down']&&this['mouse_move']&&this[_0x3c5c33(-0x244,-0x1ce)](),this[_0x3c5c33(-0x2b9,-0x27f)]['style'][_0x43bb7a(0x219,0x249)]='visible',this[_0x43bb7a(0x255,0x29a)]=![],this['mouse_move']=![];}[_0x200676(0x4bf,0x54a)](_0x40d96d){this['clear'](),this['windData']=_0x40d96d,this['windField']['setDate'](_0x40d96d),this['redraw']();}[_0x200676(0x598,0x55f)](){function _0x44856a(_0x4e1375,_0x55ed60){return _0x19ef9b(_0x4e1375,_0x55ed60- -0x6);}if(!this[_0x4edcd6(0x1af,0x137)])return;this['windField'][_0x4edcd6(0x113,0x14e)](this[_0x44856a(-0x295,-0x210)]);function _0x4edcd6(_0x25d76e,_0x2da786){return _0x200676(_0x25d76e- -0x3c9,_0x2da786);}this['update']();}['update'](){if(this['_updateIng'])return;this['_updateIng']=!![];function _0x3c6128(_0x3a0140,_0x3204f5){return _0x19ef9b(_0x3a0140,_0x3204f5-0x192);}function _0x2191bb(_0x30eadd,_0x1d2eb7){return _0x200676(_0x30eadd- -0x721,_0x1d2eb7);}if(this['worker'])this[_0x3c6128(-0xfd,-0xb3)][_0x3c6128(-0xe6,-0xac)]();else{const _0xdb5d73=this['windField']['getParticles']();this['_drawLines'](_0xdb5d73);}this['_updateIng']=![];}['_drawLines'](_0x24b9d2){this['canvasContext']['globalCompositeOperation']='destination-in';function _0x174611(_0x2742c3,_0x4a11f4){return _0x19ef9b(_0x2742c3,_0x4a11f4-0x585);}function _0x1d0946(_0x4f03ce,_0x477c3d){return _0x19ef9b(_0x4f03ce,_0x477c3d-0x62d);}this[_0x1d0946(0x410,0x3f3)][_0x174611(0x2c1,0x2bc)](0x0,0x0,this['canvasWidth'],this['canvasHeight']),this[_0x174611(0x3df,0x34b)][_0x1d0946(0x4ca,0x476)]='lighter',this['canvasContext']['globalAlpha']=0.9;const _0x3f4a1f=this['_map'][_0x1d0946(0x41b,0x3f4)][_0x174611(0x44a,0x3d8)]!==Cesium[_0x174611(0x337,0x318)]['SCENE3D'],_0x26fb5c=this['canvasWidth']*0.25;if(this[_0x174611(0x2d8,0x2db)])for(let _0x139a54=0x0,_0x4eb5af=_0x24b9d2[_0x1d0946(0x42c,0x45d)];_0x139a54<_0x4eb5af;_0x139a54++){const _0x4ab231=_0x24b9d2[_0x139a54],_0x24bea6=this['_tomap'](_0x4ab231['lng'],_0x4ab231[_0x174611(0x389,0x383)],_0x4ab231),_0x338ca1=this['_tomap'](_0x4ab231[_0x1d0946(0x401,0x409)],_0x4ab231[_0x1d0946(0x3c2,0x3e6)],_0x4ab231);if(!_0x24bea6||!_0x338ca1)continue;if(_0x3f4a1f&&Math[_0x1d0946(0x484,0x470)](_0x24bea6[0x0]-_0x338ca1[0x0])>=_0x26fb5c)continue;this['canvasContext'][_0x174611(0x348,0x390)](),this[_0x1d0946(0x413,0x3f3)]['lineWidth']=this['lineWidth'],this['canvasContext'][_0x1d0946(0x468,0x427)]=this[_0x1d0946(0x328,0x383)]['getColor'](_0x4ab231['speed']),this['canvasContext']['moveTo'](_0x24bea6[0x0],_0x24bea6[0x1]),this[_0x174611(0x2d0,0x34b)]['lineTo'](_0x338ca1[0x0],_0x338ca1[0x1]),this['canvasContext'][_0x1d0946(0x488,0x3fd)]();}else{this['canvasContext']['beginPath'](),this['canvasContext']['lineWidth']=this['lineWidth'],this['canvasContext']['strokeStyle']=this[_0x1d0946(0x41e,0x46b)];for(let _0x58f0db=0x0,_0x3a6e76=_0x24b9d2['length'];_0x58f0db<_0x3a6e76;_0x58f0db++){const _0x31d245=_0x24b9d2[_0x58f0db],_0x13275e=this['_tomap'](_0x31d245[_0x1d0946(0x402,0x449)],_0x31d245['lat'],_0x31d245),_0x2afbc7=this[_0x174611(0x408,0x391)](_0x31d245['tlng'],_0x31d245[_0x1d0946(0x368,0x3e6)],_0x31d245);if(!_0x13275e||!_0x2afbc7)continue;if(_0x3f4a1f&&Math[_0x174611(0x43e,0x3c8)](_0x13275e[0x0]-_0x2afbc7[0x0])>=_0x26fb5c)continue;this['canvasContext'][_0x1d0946(0x47e,0x447)](_0x13275e[0x0],_0x13275e[0x1]),this[_0x174611(0x2e4,0x34b)]['lineTo'](_0x2afbc7[0x0],_0x2afbc7[0x1]);}this['canvasContext'][_0x174611(0x3db,0x355)]();}}['_tomap'](_0x2ef0e2,_0x6559c8,_0x3179f6){function _0x5d385b(_0x2b2d9b,_0xa705bc){return _0x200676(_0x2b2d9b- -0x2d3,_0xa705bc);}const _0xfee390=Cesium['Cartesian3'][_0x5d385b(0x1c8,0x1c2)](_0x2ef0e2,_0x6559c8,this['fixedHeight']),_0x5b48b4=this[_0x5d385b(0x1e1,0x182)]['scene'];if(_0x5b48b4['mode']===Cesium[_0x5d385b(0x219,0x277)]['SCENE3D']){const _0x14fa03=new Cesium[(_0x5d385b(0x236,0x220))](_0x5b48b4['globe'][_0x5d385b(0x253,0x234)],_0x5b48b4['camera']['positionWC']),_0x5041d6=_0x14fa03[_0x1dd4e5(-0x21f,-0x21f)](_0xfee390);if(!_0x5041d6)return _0x3179f6['age']=0x0,null;}const _0x4bc8cf=mars3d__namespace['PointTrans']['toWindowCoordinates'](this['_map']['scene'],_0xfee390);function _0x1dd4e5(_0x21d7cd,_0x412865){return _0x19ef9b(_0x21d7cd,_0x412865-0x9a);}return _0x4bc8cf?[_0x4bc8cf['x'],_0x4bc8cf['y']]:null;}[_0x200676(0x537,0x538)](){function _0x2e55bb(_0x4ab985,_0x3206bb){return _0x200676(_0x3206bb- -0x675,_0x4ab985);}function _0x38bdf1(_0x44fed3,_0x2d1357){return _0x19ef9b(_0x2d1357,_0x44fed3-0x207);}this[_0x2e55bb(-0x1ec,-0x161)][_0x2e55bb(-0x127,-0x13e)](),delete this[_0x38bdf1(0x39,0x38)];}['initWorker'](){function _0x5313c6(_0x407e06,_0x1c3309){return _0x200676(_0x1c3309- -0x7,_0x407e06);}this['worker']=new Worker(this['options']['worker']);function _0x2759c2(_0x15ee59,_0x5049ef){return _0x19ef9b(_0x5049ef,_0x15ee59-0x573);}this[_0x2759c2(0x3b0,0x442)]['onmessage']=_0x1426d5=>{function _0x4c09f9(_0x2b9bb2,_0x3198aa){return _0x2759c2(_0x2b9bb2- -0x4f3,_0x3198aa);}function _0x20ace5(_0x5e0503,_0x4670b5){return _0x2759c2(_0x4670b5-0xf7,_0x5e0503);}this[_0x20ace5(0x399,0x3a9)](_0x1426d5[_0x4c09f9(-0x1e9,-0x27c)]['particles']),this[_0x4c09f9(-0x13f,-0xd2)]=![];},this['windField']={'init':_0x210325=>{const _0x473276={};_0x473276['type']='init',_0x473276['options']=_0x210325;function _0x16b1b7(_0x18ceb2,_0x16b840){return _0x2759c2(_0x18ceb2- -0x16,_0x16b840);}this[_0x16b1b7(0x39a,0x3d1)]['postMessage'](_0x473276);},'setOptions':_0x5c90af=>{function _0x3910f2(_0x17a5c0,_0x41b933){return _0x2759c2(_0x17a5c0- -0x4b2,_0x41b933);}const _0x24433e={};_0x24433e[_0x2dc4ae(-0x125,-0x9c)]='setOptions',_0x24433e[_0x3910f2(-0x149,-0x178)]=_0x5c90af;function _0x2dc4ae(_0x2faba4,_0x2fdad7){return _0x2759c2(_0x2fdad7- -0x407,_0x2faba4);}this['worker']['postMessage'](_0x24433e);},'setDate':_0xe2b60e=>{const _0x1c5bcd={};_0x1c5bcd[_0x246054(0x118,0x15e)]=_0x246054(0x13d,0xce),_0x1c5bcd['data']=_0xe2b60e;function _0x1629b4(_0x4eb84f,_0x184c1c){return _0x2759c2(_0x184c1c- -0x3ad,_0x4eb84f);}function _0x246054(_0x317f1e,_0x114e5e){return _0x2759c2(_0x114e5e- -0x20d,_0x317f1e);}this['worker'][_0x1629b4(-0xf9,-0xc5)](_0x1c5bcd);},'update':()=>{if(this[_0x48d2c3(0x340,0x332)])return;function _0x48d2c3(_0x51a6fa,_0x2a64e4){return _0x2759c2(_0x2a64e4- -0x82,_0x51a6fa);}this['_updateIng2']=!![];const _0x4c48d4={};function _0x43f306(_0xfda6cf,_0x5a6a45){return _0x2759c2(_0xfda6cf- -0x1a8,_0x5a6a45);}_0x4c48d4['type']='update',this['worker'][_0x48d2c3(0x280,0x266)](_0x4c48d4);},'clear':()=>{const _0x3d755f={};function _0xffdac8(_0x8bfa33,_0x48166f){return _0x2759c2(_0x48166f- -0x401,_0x8bfa33);}_0x3d755f['type']=_0xffdac8(-0xfc,-0xb0),this['worker']['postMessage'](_0x3d755f);}},this[_0x5313c6(0x568,0x50d)]['init'](this['options']);}}mars3d__namespace['LayerUtil']['register']('canvasWind',CanvasWindLayer),mars3d__namespace['layer'][_0x19ef9b(-0x1c6,-0x1ac)]=CanvasWindLayer,mars3d__namespace['CanvasWindField']=CanvasWindField,mars3d__namespace['WindUtil']=WindUtil,exports[_0x19ef9b(-0x256,-0x1c6)]=CanvasWindField;function _0x19ef9b(_0xab5267,_0x5a0639){return _0x468a(_0x5a0639- -0x38f,_0xab5267);}exports[_0x19ef9b(-0x150,-0x1ac)]=CanvasWindLayer,exports['WindLayer']=WindLayer,exports[_0x19ef9b(-0x2cd,-0x278)]=WindUtil;const _0x171698={};_0x171698[_0x200676(0x59f,0x5d6)]=!![],Object['defineProperty'](exports,'__esModule',_0x171698);
}));
