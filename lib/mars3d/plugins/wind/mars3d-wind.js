/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.8.4
 * 编译日期：2024-10-15 23:03
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-08-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';(function(_0xbed85,_0x334ce2){const _0x2d7dc9=_0xbed85();function _0x52ba93(_0x2113ee,_0x3dd00a){return _0x5435(_0x2113ee- -0x30f,_0x3dd00a);}function _0x59d7ab(_0x279ebd,_0x4cdd6a){return _0x5435(_0x4cdd6a- -0x24d,_0x279ebd);}while(!![]){try{const _0x49dfe2=parseInt(_0x52ba93(-0x5b,-0x21))/0x1*(-parseInt(_0x52ba93(-0x5e,-0x8b))/0x2)+parseInt(_0x52ba93(-0x4d,-0xf))/0x3+-parseInt(_0x52ba93(-0x146,-0x1d7))/0x4+parseInt(_0x52ba93(-0x50,0xf))/0x5*(-parseInt(_0x59d7ab(-0xb4,-0x9d))/0x6)+parseInt(_0x59d7ab(-0x7f,0x5))/0x7+-parseInt(_0x52ba93(-0x134,-0x168))/0x8*(-parseInt(_0x59d7ab(0x43,0x57))/0x9)+-parseInt(_0x52ba93(-0x9f,-0x74))/0xa;if(_0x49dfe2===_0x334ce2)break;else _0x2d7dc9['push'](_0x2d7dc9['shift']());}catch(_0x5421e4){_0x2d7dc9['push'](_0x2d7dc9['shift']());}}}(_0x4df3,0x910e7));function _interopNamespace(_0x3f1bc4){function _0x590c00(_0x3f2211,_0x5202ce){return _0x5435(_0x5202ce-0x182,_0x3f2211);}if(_0x3f1bc4&&_0x3f1bc4['__esModule'])return _0x3f1bc4;var _0x234c63=Object['create'](null);_0x3f1bc4&&Object[_0x174a65(0x141,0x1b9)](_0x3f1bc4)['forEach'](function(_0x484a74){function _0x137e18(_0x49212a,_0x1f8e00){return _0x174a65(_0x1f8e00,_0x49212a-0x3d1);}if(_0x484a74!=='default'){var _0x2c3158=Object['getOwnPropertyDescriptor'](_0x3f1bc4,_0x484a74);Object[_0x137e18(0x608,0x60d)](_0x234c63,_0x484a74,_0x2c3158['get']?_0x2c3158:{'enumerable':!![],'get':function(){return _0x3f1bc4[_0x484a74];}});}});function _0x174a65(_0x3cbdd6,_0x29e117){return _0x5435(_0x29e117- -0x47,_0x3cbdd6);}return _0x234c63[_0x590c00(0x395,0x341)]=_0x3f1bc4,_0x234c63;}function _0x4df3(){const _0x1ce13a=['GeometryAttributes','drawingBufferHeight','rows','removeAll','minimumRadius','LINEAR','floor','Matrix4','getPixelSize','defines','maxParticles','random','height','pixelDatatype','lineWidth','toWindowCoordinates','particles','particlesRendering','fragmentShaderSource','canvas','_mountedHook','refreshTimer','push','lev','bind','show','createFramebuffer','globalCompositeOperation','resize','mars3d-canvasWind','willReadFrequently','windField','strokeStyle','_animateFrame','mouseMove','randomBetween','cancelAnimationFrame','reverseY','clearFramebuffers','Color','update','__esModule','position','RenderState','add','pixelSize','none','register','auto','lng','_onMouseUpEvent','postProcessingPosition','speedRate','viewerParameters','cols','ZERO','7586495EMYYCy','DISABLE_GL_POSITION_LOG_DEPTH','xmin','speedFactor','_bilinearInterpolation','particlesComputing','particleHeight','TextureMagnificationFilter','clientHeight','commandList','levmax','windTextures','createRenderingPrimitives','getDirection','maxAge','rectangle','lighter','FLOAT','fromGeometry','createParticlesTextures','grid','init','attributeLocations','source','currentTrailsDepth','mode','_map','previousParticlesPosition','off','lon','5071410TSfWTa','latRange','Compute','toGridXY','green','dynamic','options','Cartesian2','Math','tlng','pow','_removedHook','framebuffer','ShaderSource','defineProperty','PrimitiveType','computeViewRectangle','commandType','PixelFormat','getUVByXY','dimensions','Texture','SCENE3D','fromDegrees','particleSystem','getUVByPoint','mod','left','particlesSpeed','mouseUp','Ellipsoid','addPrimitives','defined','UNSIGNED_INT','#ffffff','sqrt','mouse_move','#version\x20300\x20es\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec2\x20st;\x0a\x0aout\x20vec2\x20textureCoordinate;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20textureCoordinate\x20=\x20st;\x0a\x20\x20gl_Position\x20=\x20vec4(position,\x201.0f);\x0a}\x0a','wSpeedRange','Draw','Cartesian3','#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x20Unit\x20converted\x20to\x20degrees\x20of\x20longitude\x20and\x20latitude\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20speed;\x0a\x20\x20if(length(speed.rgb)\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','_tomap','levmin','#version\x20300\x20es\x0a\x0a//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0auniform\x20sampler2D\x20W;\x20//\x20upward\x20wind\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0auniform\x20float\x20speedScaleFactor;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20//\x20map\x20the\x20z-axis\x20value\x20to\x20the\x20nearest\x20bit\x20plane\x20to\x20ensure\x20that\x20the\x20result\x20is\x20an\x20integer\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205,\x207,\x208,\x209],\x20width\x20=\x202,\x20height\x20=\x202,\x20level\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x206\x207\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x202\x203\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWindComponent(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20float\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D).r;\x0a\x20\x20return\x20result;\x0a}\x0a\x0afloat\x20interpolateTexture(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20float\x20lon0\x20=\x20floor(lon\x20/\x20interval.x)\x20*\x20interval.x;\x0a\x20\x20float\x20lon1\x20=\x20lon0\x20+\x201.0f\x20*\x20interval.x;\x0a\x20\x20float\x20lat0\x20=\x20floor(lat\x20/\x20interval.y)\x20*\x20interval.y;\x0a\x20\x20float\x20lat1\x20=\x20lat0\x20+\x201.0f\x20*\x20interval.y;\x0a\x0a\x20\x20float\x20lon0_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon1_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon0_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat1,\x20lev));\x0a\x20\x20float\x20lon1_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat1,\x20lev));\x0a\x0a\x20\x20float\x20lon_lat0\x20=\x20mix(lon0_lat0,\x20lon1_lat0,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat1\x20=\x20mix(lon0_lat1,\x20lon1_lat1,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat\x20=\x20mix(lon_lat0,\x20lon_lat1,\x20lat\x20-\x20lat0);\x0a\x20\x20return\x20lon_lat;\x0a}\x0a\x0avec3\x20linearInterpolation(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bilinear_interpolation\x0a\x20\x20float\x20u\x20=\x20interpolateTexture(U,\x20lonLatLev);\x0a\x20\x20float\x20v\x20=\x20interpolateTexture(V,\x20lonLatLev);\x0a\x20\x20float\x20w\x20=\x20interpolateTexture(W,\x20lonLatLev);\x0a\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20float\x20term1\x20=\x20111132.92f;\x0a\x20\x20float\x20term2\x20=\x20559.82f\x20*\x20cos(2.0f\x20*\x20latitude);\x0a\x20\x20float\x20term3\x20=\x201.175f\x20*\x20cos(4.0f\x20*\x20latitude);\x0a\x20\x20float\x20term4\x20=\x200.0023f\x20*\x20cos(6.0f\x20*\x20latitude);\x0a\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20float\x20term5\x20=\x20111412.84f\x20*\x20cos(latitude);\x0a\x20\x20float\x20term6\x20=\x2093.5f\x20*\x20cos(3.0f\x20*\x20latitude);\x0a\x20\x20float\x20term7\x20=\x200.118f\x20*\x20cos(5.0f\x20*\x20latitude);\x0a\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avec3\x20convertSpeedUnitToLonLat(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20float\x20w\x20=\x20speed.z;\x0a\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20return\x20windVectorInLonLatLev;\x0a}\x0a\x0avec3\x20calculateSpeedByRungeKutta2(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#Second-order_methods_with_two_stages\x20for\x20detail\x0a\x20\x20const\x20float\x20h\x20=\x200.5f;\x0a\x0a\x20\x20vec3\x20y_n\x20=\x20lonLatLev;\x0a\x20\x20vec3\x20f_n\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20midpoint\x20=\x20y_n\x20+\x200.5f\x20*\x20h\x20*\x20convertSpeedUnitToLonLat(y_n,\x20f_n)\x20*\x20speedScaleFactor;\x0a\x20\x20vec3\x20speed\x20=\x20h\x20*\x20linearInterpolation(midpoint)\x20*\x20speedScaleFactor;\x0a\x0a\x20\x20return\x20speed;\x0a}\x0a\x0avec2\x20getRange(vec2\x20range)\x20{\x0a\x20\x20float\x20x1\x20=\x200.0f\x20-\x20range.x;\x0a\x20\x20float\x20x2\x20=\x20range.y\x20-\x200.0f;\x0a\x20\x20if(x1\x20<\x200.0f\x20||\x20x2\x20<\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x20vec2(abs(x1),\x20abs(x2));\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20return\x20vec2(0.0f,\x20abs(max(x1,\x20x2)));\x0a\x20\x20}\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20vec2\x20uRange\x20=\x20getRange(uSpeedRange);\x0a\x20\x20vec2\x20vRange\x20=\x20getRange(vSpeedRange);\x0a\x20\x20vec2\x20wRange\x20=\x20getRange(wSpeedRange);\x0a\x20\x20if(length(speed.xyz)\x20==\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x200.0f;\x0a\x20\x20}\x0a\x0a\x20\x20percent.x\x20=\x20(abs(speed.x)\x20-\x20uRange.x)\x20/\x20(uRange.y\x20-\x20uRange.x);\x0a\x20\x20percent.y\x20=\x20(abs(speed.y)\x20-\x20vRange.x)\x20/\x20(vRange.y\x20-\x20vRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(abs(speed.z)\x20-\x20wRange.x)\x20/\x20(wRange.y\x20-\x20wRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speedOrigin\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20speed\x20=\x20calculateSpeedByRungeKutta2(lonLatLev);\x0a\x20\x20vec3\x20speedInLonLat\x20=\x20convertSpeedUnitToLonLat(lonLatLev,\x20speed);\x0a\x0a\x20\x20vec4\x20particleSpeed\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speed\x20/\x20speedScaleFactor));\x0a\x20\x20\x20\x20//\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20fragColor\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speedOrigin));\x0a}\x0a','style','TextureMinificationFilter','PI_OVER_THREE','canvasWidth','remove','WindLayer','viewport','9TOHnBG','particlesTextureSize','type','canvasContext','currentTrails','uniformMap','max','createRawRenderState','_onMouseDownEvent','createRenderingFramebuffers','width','calculateSpeed','mouseDown','30462nZHMfK','zIndex','GeometryAttribute','22plsbgg','currentParticlesPosition','clearCommand','forEach','beginPath','ymin','visible','xmax','Sampler','TRIANGLES','_speedRate','27375nOwIeu','age','lonRange','605964CnlfUG','trails','south','rawRenderState','LayerUtil','ymax','lat','EventType','DrawCommand','nextTrails','fillRect','THREE_PI_OVER_TWO','enabled','_data','updateViewerParameters','wind','dropRate','UNSIGNED_BYTE','_onMapWhellEvent','colour','primitives','createTexture','data','480YObrAK','lineTo','visibility','addEventListener','OPAQUE','owner','segments','scene','PI_OVER_TWO','BufferUsage','createComputingPrimitives','setData','wheel','shaderProgram','Rectangle','default','abs','container','particlesTextures','EllipsoidalOccluder','pointer-events','layer','requestAnimationFrame','fixedHeight','TWO_PI','1210008VYclPu','min','createRenderingTextures','createWindTextures','getDefaultRenderState','destination-in','framebuffers','uSpeedRange','length','autoClear','destroy','_onMouseMoveEvent','context','drawingBufferWidth','ellipsoid','blending','__proto__','refreshParticles','7128824awMxNX','textures','speed','talt','ClearCommand','mouse_down','CanvasWindLayer','frameTime','Cesium','postMessage','setOptions','colorTextures','PixelDatatype','preExecute','_calc_speedRate','minimum','getOptions','outputTexture','initWorker','vdata','Framebuffer','removeChild','dropRateBump','createSegmentsGeometry','#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20colorTable;\x0auniform\x20bool\x20colour;\x0a\x0ain\x20float\x20heightNormalization;\x0ain\x20float\x20speedNormalization;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20const\x20float\x20zero\x20=\x200.0f;\x0a\x20\x20if(speedNormalization\x20>\x20zero)\x20{\x0a\x20\x20\x20\x20if(colour)\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(heightNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(speedNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(zero);\x0a\x20\x20}\x0a}\x0a','clientWidth','commandToExecute','globe','globeBoundingSphere','depthTexture','particlesNumber','_addedHook','isInExtent','rgb(206,255,255)','frameRate','top','_pointerEvents','keys','sources','_maxAge','NEAREST','depthTest','getV','tlat','toDegrees','array','_onMap_preRenderEvent','updatePosition','_randomParticle','colorTable','vertexArray','color','segmentsDepth','getContext','west','_updateIng2','colors','windData','clear','destroyParticlesTextures','getRandomLatLng','worker','SceneMode'];_0x4df3=function(){return _0x1ce13a;};return _0x4df3();}var mars3d__namespace=_interopNamespace(mars3d);const Cesium$7=mars3d__namespace['Cesium'];function getU(_0x3aa560,_0x48ffa2){function _0x3bbef1(_0x30509a,_0x199e11){return _0x5435(_0x199e11- -0x3a9,_0x30509a);}const _0x353cf4=_0x3aa560*Math['cos'](Cesium$7[_0x3bbef1(-0xf4,-0x131)]['toRadians'](_0x48ffa2));return _0x353cf4;}function getV(_0x24027a,_0x13430b){const _0x5af97e=_0x24027a*Math['sin'](Cesium$7['Math']['toRadians'](_0x13430b));return _0x5af97e;}function getSpeed(_0x132a06,_0x4c4070){function _0x4c85cd(_0x56d9b6,_0x2cf451){return _0x5435(_0x2cf451- -0x3c7,_0x56d9b6);}const _0x24cb2c=Math['sqrt'](Math[_0x4c85cd(-0xf8,-0x14d)](_0x132a06,0x2)+Math[_0x4dffc2(0x83,0x42)](_0x4c4070,0x2));function _0x4dffc2(_0x22f2e5,_0x26e279){return _0x5435(_0x22f2e5- -0x1f7,_0x26e279);}return _0x24cb2c;}function getDirection(_0x503ff0,_0x429bbd){let _0x4a3ba8=Cesium$7[_0xc6463(0xc3,0xbf)]['toDegrees'](Math['atan2'](_0x429bbd,_0x503ff0));function _0xc6463(_0x5810eb,_0x1028e8){return _0x5435(_0x5810eb- -0x1b5,_0x1028e8);}return _0x4a3ba8+=_0x4a3ba8<0x0?0x168:0x0,_0x4a3ba8;}const _0x372896={};_0x372896[_0x4f97ab(-0x5e,0x9)]=null,_0x372896['getU']=getU,_0x372896[_0x4f97ab(0xbc,0x35)]=getV,_0x372896['getSpeed']=getSpeed,_0x372896[_0x4f97ab(0x1e,0x8f)]=getDirection;var WindUtil=_0x372896;function _0x4f97ab(_0x67b637,_0x34410b){return _0x5435(_0x34410b- -0x1d0,_0x67b637);}const Cesium$6=mars3d__namespace['Cesium'];class CustomPrimitive{constructor(_0x9eaead){this[_0x1d80a4(0x2d4,0x2c9)]=_0x9eaead['commandType'],this['geometry']=_0x9eaead['geometry'],this['attributeLocations']=_0x9eaead['attributeLocations'];function _0x13551f(_0x34befd,_0x14cb9d){return _0x4f97ab(_0x34befd,_0x14cb9d-0x545);}this['primitiveType']=_0x9eaead['primitiveType'],this[_0x1d80a4(0x304,0x2f1)]=_0x9eaead['uniformMap'],this['vertexShaderSource']=_0x9eaead['vertexShaderSource'],this['fragmentShaderSource']=_0x9eaead[_0x13551f(0x5ea,0x5a1)],this[_0x13551f(0x6af,0x63a)]=_0x9eaead[_0x13551f(0x6cc,0x63a)],this['framebuffer']=_0x9eaead['framebuffer'],this['outputTexture']=_0x9eaead['outputTexture'],this['autoClear']=_0x9eaead[_0x13551f(0x592,0x547)]??![],this[_0x13551f(0x5e6,0x55d)]=_0x9eaead['preExecute'],this['show']=!![],this['commandToExecute']=undefined;function _0x1d80a4(_0x4b51d8,_0x34cb47){return _0x4f97ab(_0x4b51d8,_0x34cb47-0x218);}this[_0x13551f(0x69e,0x62b)]=undefined,this['autoClear']&&(this['clearCommand']=new Cesium$6['ClearCommand']({'color':new Cesium$6[(_0x13551f(0x525,0x5b6))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this['framebuffer'],'pass':Cesium$6['Pass']['OPAQUE']}));}['createCommand'](_0x2ab896){function _0x2eeb35(_0x18b1e4,_0x3907e0){return _0x72004d(_0x18b1e4,_0x3907e0-0x147);}function _0x1257d4(_0x134814,_0x19280e){return _0x4f97ab(_0x134814,_0x19280e-0x3e2);}switch(this[_0x1257d4(0x460,0x493)]){case _0x1257d4(0x434,0x4a9):{const _0xdc2bfa=Cesium$6['VertexArray'][_0x2eeb35(0x66c,0x62e)]({'context':_0x2ab896,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':Cesium$6['BufferUsage']['STATIC_DRAW']}),_0x1e5ebb={};_0x1e5ebb['context']=_0x2ab896,_0x1e5ebb['attributeLocations']=this['attributeLocations'],_0x1e5ebb['vertexShaderSource']=this['vertexShaderSource'],_0x1e5ebb[_0x1257d4(0x3c5,0x43e)]=this['fragmentShaderSource'];const _0x1084b2=Cesium$6['ShaderProgram']['fromCache'](_0x1e5ebb),_0x48ddf5=Cesium$6[_0x1257d4(0x3e3,0x457)]['fromCache'](this['rawRenderState']);return new Cesium$6[(_0x1257d4(0x36e,0x3b3))]({'owner':this,'vertexArray':_0xdc2bfa,'primitiveType':this['primitiveType'],'uniformMap':this['uniformMap'],'modelMatrix':Cesium$6[_0x2eeb35(0x5cb,0x5eb)]['IDENTITY'],'shaderProgram':_0x1084b2,'framebuffer':this['framebuffer'],'renderState':_0x48ddf5,'pass':Cesium$6['Pass'][_0x1257d4(0x443,0x3c6)]});}case'Compute':{const _0x155267={};return _0x155267[_0x2eeb35(0x5bf,0x57f)]=this,_0x155267['fragmentShaderSource']=this['fragmentShaderSource'],_0x155267['uniformMap']=this['uniformMap'],_0x155267['outputTexture']=this['outputTexture'],_0x155267['persists']=!![],new Cesium$6['ComputeCommand'](_0x155267);}}}['setGeometry'](_0x256bdb,_0xf43f38){function _0x1538d1(_0x3a63ca,_0x7d9009){return _0x4f97ab(_0x3a63ca,_0x7d9009- -0x1ef);}this['geometry']=_0xf43f38;function _0x3ac976(_0x112bd1,_0xd5be97){return _0x4f97ab(_0x112bd1,_0xd5be97-0x4c2);}const _0x5ce160=Cesium$6['VertexArray']['fromGeometry']({'context':_0x256bdb,'geometry':this['geometry'],'attributeLocations':this[_0x1538d1(-0x192,-0x157)],'bufferUsage':Cesium$6[_0x1538d1(-0x21e,-0x206)]['STATIC_DRAW']});this['commandToExecute']['vertexArray']=_0x5ce160;}['update'](_0x22db00){if(!this['show'])return;if(_0x22db00['mode']!==Cesium$6[_0x2b171b(0xa2,0xea)][_0x443615(-0xe0,-0x123)])return;function _0x443615(_0x4407a3,_0x2edac0){return _0x4f97ab(_0x4407a3,_0x2edac0- -0x1d9);}!Cesium$6[_0x2b171b(0x14d,0x161)](this['commandToExecute'])&&(this[_0x2b171b(0x7e,0xc6)]=this['createCommand'](_0x22db00[_0x443615(-0x17c,-0x1d4)]));Cesium$6['defined'](this['preExecute'])&&this[_0x2b171b(0x90,0xb9)]();function _0x2b171b(_0x36bcee,_0x3fb1c7){return _0x72004d(_0x36bcee,_0x3fb1c7- -0x3b2);}Cesium$6[_0x2b171b(0xf1,0x161)](this['clearCommand'])&&_0x22db00[_0x443615(-0x109,-0x14e)][_0x2b171b(0x18a,0x101)](this[_0x2b171b(0x13a,0x187)]),_0x22db00[_0x443615(-0x166,-0x14e)][_0x2b171b(0xe6,0x101)](this['commandToExecute']);}['isDestroyed'](){return![];}[_0x4f97ab(-0x6b,0x3)](){function _0x4ae205(_0x30e8a4,_0x27ef5f){return _0x72004d(_0x30e8a4,_0x27ef5f- -0xf2);}if(this['clearCommand']){var _0x422070,_0x5dbbc9;(_0x422070=this[_0x42ca45(0x5a6,0x620)])!==null&&_0x422070!==void 0x0&&_0x422070['vertexArray']&&this[_0x4ae205(0x4d4,0x447)]['vertexArray']['destroy'](),(_0x5dbbc9=this['clearCommand'])!==null&&_0x5dbbc9!==void 0x0&&_0x5dbbc9[_0x42ca45(0x504,0x527)]&&this[_0x4ae205(0x488,0x447)][_0x4ae205(0x38a,0x34e)]['destroy'](),delete this['clearCommand'];}this[_0x42ca45(0x5d9,0x55f)]&&(this[_0x42ca45(0x58d,0x55f)][_0x42ca45(0x56e,0x577)]&&this['commandToExecute'][_0x42ca45(0x500,0x577)][_0x4ae205(0x3cc,0x364)](),this[_0x42ca45(0x548,0x55f)][_0x42ca45(0x5b2,0x527)]&&this[_0x42ca45(0x518,0x55f)][_0x4ae205(0x38b,0x34e)]['destroy'](),delete this[_0x42ca45(0x523,0x55f)]);function _0x42ca45(_0x23ac65,_0xc4fff2){return _0x4f97ab(_0x23ac65,_0xc4fff2-0x53a);}return Cesium$6['destroyObject'](this);}}const Cesium$5=mars3d__namespace[_0x4f97ab(0x4d,0x13)],Util=(function(){const _0x5ef7a7=function(){const _0x4f47a7=new Cesium$5['Geometry']({'attributes':new Cesium$5['GeometryAttributes']({'position':new Cesium$5[(_0xcc3957(0x694,0x668))]({'componentDatatype':Cesium$5['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5[(_0x507523(0x4de,0x4bb))]({'componentDatatype':Cesium$5['ComponentDatatype'][_0x507523(0x48e,0x42c)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});function _0x507523(_0x2a9d7d,_0x334f41){return _0x5435(_0x2a9d7d-0x22b,_0x334f41);}function _0xcc3957(_0x3580fc,_0xeb1a79){return _0x5435(_0x3580fc-0x3e1,_0xeb1a79);}return _0x4f47a7;},_0x4f48ce=function(_0x5b1107,_0x1e959d){if(Cesium$5[_0x3f6cf4(0x5e8,0x5c2)](_0x1e959d)){const _0x21213b={};_0x21213b['arrayBufferView']=_0x1e959d,_0x5b1107[_0x3f6cf4(0x5c1,0x5fc)]=_0x21213b;}function _0x3f6cf4(_0xc5ccc1,_0x36b6fa){return _0x5435(_0xc5ccc1-0x358,_0x36b6fa);}function _0x7af1c7(_0x27d2f0,_0x1598eb){return _0x5435(_0x27d2f0- -0x2b,_0x1598eb);}const _0x2ea4ba=new Cesium$5[(_0x7af1c7(0x25a,0x2c1))](_0x5b1107);return _0x2ea4ba;},_0x1d5713=function(_0x2d0967,_0x1f9391,_0x992f2e){const _0x3f529e={};_0x3f529e['context']=_0x2d0967,_0x3f529e[_0x277a97(0x41d,0x471)]=[_0x1f9391];function _0x17bbcc(_0x2331a7,_0x5218dc){return _0x5435(_0x2331a7-0x3df,_0x5218dc);}_0x3f529e['depthTexture']=_0x992f2e;const _0x1f5f37=new Cesium$5[(_0x277a97(0x426,0x45c))](_0x3f529e);function _0x277a97(_0x1d95d7,_0x22a94f){return _0x5435(_0x1d95d7-0x237,_0x22a94f);}return _0x1f5f37;},_0x2e51b6=function(_0x48281f){function _0x2e2f53(_0x158ba7,_0x314869){return _0x5435(_0x158ba7-0x166,_0x314869);}const _0x53f426=!![],_0x30d6c8=![];function _0x98b0f8(_0x470249,_0x5e9c8a){return _0x5435(_0x470249- -0x1a,_0x5e9c8a);}const _0x173e32={};_0x173e32['viewport']=_0x48281f['viewport'],_0x173e32['depthTest']=_0x48281f[_0x98b0f8(0x1ea,0x181)],_0x173e32['depthMask']=_0x48281f['depthMask'],_0x173e32[_0x2e2f53(0x33e,0x368)]=_0x48281f[_0x2e2f53(0x33e,0x38d)];const _0x293f21=_0x173e32,_0x22f7cc=Cesium$5['Appearance'][_0x98b0f8(0x1b3,0x1dc)](_0x53f426,_0x30d6c8,_0x293f21);return _0x22f7cc;},_0x124869=function(_0x1ca762){const _0x56721c={},_0x4371bf=Cesium$5[_0x300951(0x39e,0x359)]['mod'](_0x1ca762[_0x90612e(0x506,0x48d)],Cesium$5['Math'][_0x90612e(0x4bd,0x469)]),_0x22640f=Cesium$5[_0x90612e(0x56d,0x5fb)][_0x90612e(0x57f,0x5f1)](_0x1ca762['east'],Cesium$5['Math']['TWO_PI']),_0x5a1faf=_0x1ca762[_0x300951(0x3d4,0x371)];let _0xde43f0,_0x44d472;_0x5a1faf>Cesium$5['Math'][_0x300951(0x2ca,0x275)]?(_0xde43f0=0x0,_0x44d472=Cesium$5['Math']['TWO_PI']):_0x22640f-_0x4371bf<_0x5a1faf?(_0xde43f0=_0x4371bf,_0x44d472=_0x4371bf+_0x5a1faf):(_0xde43f0=_0x4371bf,_0x44d472=_0x22640f);_0x56721c[_0x300951(0x395,0x362)]={'min':Cesium$5['Math']['toDegrees'](_0xde43f0),'max':Cesium$5[_0x90612e(0x56d,0x5b6)]['toDegrees'](_0x44d472)};const _0x4df2a8=_0x1ca762[_0x90612e(0x5b9,0x52e)],_0x596dc2=_0x1ca762['north'],_0x4de06d=_0x1ca762['height'];function _0x90612e(_0x4188b1,_0x1ad733){return _0x5435(_0x4188b1-0x2f5,_0x1ad733);}const _0x48cf60=_0x4de06d>Cesium$5['Math']['PI']/0xc?_0x4de06d/0x2:0x0;let _0x26d6e0=Cesium$5['Math']['clampToLatitudeRange'](_0x4df2a8-_0x48cf60),_0x69a2f8=Cesium$5['Math']['clampToLatitudeRange'](_0x596dc2+_0x48cf60);_0x26d6e0<-Cesium$5['Math']['PI_OVER_THREE']&&(_0x26d6e0=-Cesium$5[_0x300951(0x39e,0x366)]['PI_OVER_TWO']);function _0x300951(_0x274167,_0x453394){return _0x5435(_0x274167-0x126,_0x453394);}return _0x69a2f8>Cesium$5['Math'][_0x300951(0x3c5,0x3f1)]&&(_0x69a2f8=Cesium$5[_0x90612e(0x56d,0x4e7)][_0x90612e(0x4ad,0x480)]),_0x56721c[_0x90612e(0x5bd,0x5bf)]={'min':Cesium$5['Math'][_0x300951(0x32d,0x29e)](_0x26d6e0),'max':Cesium$5[_0x300951(0x39e,0x334)][_0x300951(0x32d,0x33f)](_0x69a2f8)},_0x56721c;},_0x4a9b82={};_0x4a9b82['getFullscreenQuad']=_0x5ef7a7;function _0x516061(_0x41d196,_0x3160d1){return _0x4f97ab(_0x41d196,_0x3160d1-0x3e1);}_0x4a9b82[_0x516061(0x451,0x3bf)]=_0x4f48ce;function _0x28c9fe(_0x1ac851,_0x423745){return _0x72004d(_0x423745,_0x1ac851- -0x65a);}return _0x4a9b82[_0x516061(0x3c2,0x445)]=_0x1d5713,_0x4a9b82[_0x28c9fe(-0x12c,-0xd2)]=_0x2e51b6,_0x4a9b82['viewRectangleToLonLatRange']=_0x124869,_0x4a9b82;}());var fullscreenVert=_0x72004d(0x4c6,0x518),screenDrawFrag='#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20trailsColorTexture;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(trailsColorTexture,\x20textureCoordinate);\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20trailsColor;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a',segmentDrawFrag=_0x72004d(0x42d,0x476),segmentDrawVert='#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20lines\x20drawing\x0ain\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0auniform\x20vec2\x20hRange;\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0a\x0auniform\x20sampler2D\x20previousParticlesPosition;\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0astruct\x20adjacentPoints\x20{\x0a\x20\x20vec4\x20previous;\x0a\x20\x20vec4\x20current;\x0a\x20\x20vec4\x20next;\x0a};\x0a\x0aout\x20float\x20heightNormalization;\x0aout\x20float\x20speedNormalization;\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20read\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x0a\x20\x20float\x20a\x20=\x206378137.0f;\x20//\x20Semi-major\x20axis\x0a\x20\x20float\x20b\x20=\x206356752.3142f;\x20//\x20Semi-minor\x20axis\x0a\x20\x20float\x20e2\x20=\x206.69437999014e-3f;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0f\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20float\x20h\x20=\x20particleHeight\x20+\x20lonLatLev.z;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0f);\x0a\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calculateProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0f,\x20360.0f)\x20-\x20180.0f;\x0a\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0f);\x0a\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calculateOffsetOnNormalDirection(vec4\x20pointA,\x20vec4\x20pointB,\x20float\x20offsetSign)\x20{\x0a\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0f);\x0a\x20\x20vec2\x20pointA_XY\x20=\x20(pointA.xy\x20/\x20pointA.w)\x20*\x20aspectVec2;\x0a\x20\x20vec2\x20pointB_XY\x20=\x20(pointB.xy\x20/\x20pointB.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0f;\x0a\x20\x20vec2\x20direction\x20=\x20normalize(pointB_XY\x20-\x20pointA_XY);\x0a\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0f,\x200.0f);\x0a\x20\x20return\x20offset;\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(speed.z\x20-\x20wSpeedRange.x)\x20/\x20(wSpeedRange.y\x20-\x20wSpeedRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20vec3\x20previousPosition\x20=\x20texture(previousParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20currentPosition\x20=\x20texture(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20nextPosition\x20=\x20texture(postProcessingPosition,\x20particleIndex).rgb;\x0a\x0a\x20\x20float\x20isAnyRandomPointUsed\x20=\x20texture(postProcessingPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(currentParticlesPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(previousParticlesPosition,\x20particleIndex).a;\x0a\x0a\x20\x20adjacentPoints\x20projectedCoordinates;\x0a\x20\x20if(isAnyRandomPointUsed\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20projectedCoordinates.previous;\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20projectedCoordinates.previous;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20calculateProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20calculateProjectedCoordinate(nextPosition);\x0a\x20\x20}\x0a\x0a\x20\x20int\x20pointToUse\x20=\x20int(normal.x);\x0a\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x20\x20vec4\x20offset\x20=\x20vec4(0.0f);\x0a\x20\x20\x20\x20//\x20render\x20lines\x20with\x20triangles\x20and\x20miter\x20joint\x0a\x20\x20\x20\x20//\x20read\x20https://blog.scottlogic.com/2019/11/18/drawing-lines-with-webgl.html\x20for\x20detail\x0a\x20\x20if(pointToUse\x20==\x20-1)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.previous,\x20projectedCoordinates.current,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.previous\x20+\x20offset;\x0a\x20\x20}\x20else\x20if(pointToUse\x20==\x201)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.current,\x20projectedCoordinates.next,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.next\x20+\x20offset;\x0a\x20\x20}\x0a\x0a\x20\x20heightNormalization\x20=\x20(currentPosition.z\x20-\x20hRange.x)\x20/\x20(hRange.y\x20-\x20hRange.x);\x0a\x0a\x20\x20speedNormalization\x20=\x20texture(particlesSpeed,\x20particleIndex).a;\x0a}\x0a',trailDrawFrag='#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0a\x0auniform\x20sampler2D\x20segmentsColorTexture;\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0a\x0auniform\x20sampler2D\x20currentTrailsColor;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0auniform\x20float\x20fadeOpacity;\x0a\x0aout\x20vec4\x20fragColor;\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20pointsColor\x20=\x20texture(segmentsColorTexture,\x20textureCoordinate);\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(currentTrailsColor,\x20textureCoordinate);\x0a\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0f\x20*\x20trailsColor)\x20/\x20255.0f;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0a\x0a\x20\x20float\x20pointsDepth\x20=\x20texture(segmentsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20if(pointsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20pointsColor;\x0a\x20\x20}\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20trailsColor;\x0a\x20\x20}\x0a\x20\x20gl_FragDepth\x20=\x20min(pointsDepth,\x20trailsDepth);\x0a}\x0a';const Cesium$4=mars3d__namespace['Cesium'];class ParticlesRendering{constructor(_0x31672a,_0x184bb6,_0x38cb65,_0x4d758d,_0x180663){function _0x144d76(_0x1a37a7,_0x5b6a86){return _0x4f97ab(_0x5b6a86,_0x1a37a7-0x376);}this['colour']=_0x38cb65['colors']==='height';function _0x58cc76(_0x251ada,_0x410780){return _0x4f97ab(_0x251ada,_0x410780-0x4a2);}this[_0x144d76(0x371,0x3c5)](_0x31672a,_0x184bb6,_0x38cb65['colors']),this[_0x58cc76(0x51d,0x57f)](_0x31672a),this[_0x58cc76(0x4b0,0x530)](_0x31672a,_0x184bb6,_0x38cb65,_0x4d758d,_0x180663);}['createRenderingTextures'](_0x35a83b,_0x480bf8,_0x25ac5e){function _0x2c17f8(_0x3d90c8,_0x14031b){return _0x72004d(_0x14031b,_0x3d90c8-0x15d);}function _0x2f77cd(_0x5609d0,_0x1c3476){return _0x4f97ab(_0x5609d0,_0x1c3476-0x32e);}const _0x319661={};_0x319661[_0x2f77cd(0x38c,0x333)]=_0x35a83b,_0x319661['width']=_0x35a83b['drawingBufferWidth'],_0x319661[_0x2f77cd(0x32b,0x384)]=_0x35a83b[_0x2c17f8(0x5fb,0x5e0)],_0x319661['pixelFormat']=Cesium$4[_0x2f77cd(0x36f,0x3e0)]['RGBA'],_0x319661['pixelDatatype']=Cesium$4['PixelDatatype'][_0x2f77cd(0x38f,0x308)];const _0x242cd1=_0x319661,_0x8f3bf2={};_0x8f3bf2['context']=_0x35a83b,_0x8f3bf2['width']=_0x35a83b['drawingBufferWidth'],_0x8f3bf2['height']=_0x35a83b['drawingBufferHeight'],_0x8f3bf2['pixelFormat']=Cesium$4['PixelFormat']['DEPTH_COMPONENT'],_0x8f3bf2[_0x2f77cd(0x393,0x385)]=Cesium$4['PixelDatatype'][_0x2f77cd(0x36e,0x3ef)];const _0x2c40af=_0x8f3bf2,_0x5381e4=_0x25ac5e['length'],_0x41dd71=new Float32Array(_0x5381e4*0x3);for(let _0x2a1fe2=0x0;_0x2a1fe2<_0x5381e4;_0x2a1fe2++){const _0x305eaa=Cesium$4[_0x2f77cd(0x3d7,0x39f)]['fromCssColorString'](_0x25ac5e[_0x2a1fe2]);_0x41dd71[0x3*_0x2a1fe2]=_0x305eaa['red'],_0x41dd71[0x3*_0x2a1fe2+0x1]=_0x305eaa[_0x2f77cd(0x3c9,0x3d2)],_0x41dd71[0x3*_0x2a1fe2+0x2]=_0x305eaa['blue'];}const _0x6b9013={'context':_0x35a83b,'width':_0x5381e4,'height':0x1,'pixelFormat':Cesium$4['PixelFormat']['RGB'],'pixelDatatype':Cesium$4['PixelDatatype'][_0x2c17f8(0x643,0x612)],'sampler':new Cesium$4[(_0x2f77cd(0x3a9,0x41a))]({'minificationFilter':Cesium$4[_0x2c17f8(0x67e,0x70c)]['LINEAR'],'magnificationFilter':Cesium$4[_0x2f77cd(0x3ca,0x3b7)][_0x2c17f8(0x5ff,0x67f)]})};this['textures']={'segmentsColor':Util['createTexture'](_0x242cd1),'segmentsDepth':Util['createTexture'](_0x2c40af),'currentTrailsColor':Util[_0x2f77cd(0x307,0x30c)](_0x242cd1),'currentTrailsDepth':Util['createTexture'](_0x2c40af),'nextTrailsColor':Util[_0x2c17f8(0x58e,0x565)](_0x242cd1),'nextTrailsDepth':Util['createTexture'](_0x2c40af),'colorTable':Util['createTexture'](_0x6b9013,_0x41dd71)};}['createRenderingFramebuffers'](_0x4646e9){function _0x44585c(_0x280f25,_0x2cd578){return _0x4f97ab(_0x280f25,_0x2cd578-0xed);}function _0x3c7f83(_0x2ac2ed,_0x375a64){return _0x72004d(_0x375a64,_0x2ac2ed-0x39);}this[_0x44585c(0x13e,0xec)]={'segments':Util['createFramebuffer'](_0x4646e9,this['textures']['segmentsColor'],this[_0x3c7f83(0x498,0x40b)]['segmentsDepth']),'currentTrails':Util['createFramebuffer'](_0x4646e9,this[_0x3c7f83(0x498,0x4bc)]['currentTrailsColor'],this[_0x44585c(0x135,0xf9)][_0x44585c(0x12f,0x187)]),'nextTrails':Util['createFramebuffer'](_0x4646e9,this['textures']['nextTrailsColor'],this['textures']['nextTrailsDepth'])};}[_0x4f97ab(-0x42,0x22)](_0x1952e0){const _0x2a3f1b=0x4;function _0x1c138f(_0x325ec9,_0x55ceff){return _0x4f97ab(_0x325ec9,_0x55ceff- -0x125);}function _0x14f232(_0x2db3f7,_0x1d74b8){return _0x4f97ab(_0x2db3f7,_0x1d74b8- -0x189);}let _0x42ea59=[];for(let _0x4eeaa0=0x0;_0x4eeaa0<_0x1952e0['particlesTextureSize'];_0x4eeaa0++){for(let _0x14c626=0x0;_0x14c626<_0x1952e0[_0x1c138f(-0xad,-0x50)];_0x14c626++){for(let _0x1a0b3f=0x0;_0x1a0b3f<_0x2a3f1b;_0x1a0b3f++){_0x42ea59['push'](_0x4eeaa0/_0x1952e0['particlesTextureSize']),_0x42ea59[_0x1c138f(-0x6f,-0xc5)](_0x14c626/_0x1952e0[_0x1c138f(-0x33,-0x50)]);}}}_0x42ea59=new Float32Array(_0x42ea59);let _0xb657ad=[];for(let _0x488aec=0x0;_0x488aec<_0x1952e0['maxParticles'];_0x488aec++){_0xb657ad['push'](-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0);}_0xb657ad=new Float32Array(_0xb657ad);let _0x124841=[];for(let _0x4bd616=0x0,_0x398868=0x0;_0x4bd616<_0x1952e0['maxParticles'];_0x4bd616++){_0x124841['push'](_0x398868+0x0,_0x398868+0x1,_0x398868+0x2,_0x398868+0x2,_0x398868+0x1,_0x398868+0x3),_0x398868+=_0x2a3f1b;}_0x124841=new Uint32Array(_0x124841);const _0x548f94=new Cesium$4['Geometry']({'attributes':new Cesium$4[(_0x1c138f(-0x80,-0xdb))]({'st':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4['ComponentDatatype']['FLOAT'],'componentsPerAttribute':0x2,'values':_0x42ea59}),'normal':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4['ComponentDatatype'][_0x14f232(-0xe7,-0xf6)],'componentsPerAttribute':0x3,'values':_0xb657ad})}),'indices':_0x124841});return _0x548f94;}[_0x4f97ab(0xac,0x8e)](_0x4d8018,_0x59d021,_0x5e4d3d,_0x262e4c,_0x304b97){const _0x1631ba=this,_0x47c62f={};_0x47c62f['st']=0x0,_0x47c62f['normal']=0x1;const _0x2b82ef={};function _0x5716f7(_0xc12526,_0x9b9d21){return _0x72004d(_0x9b9d21,_0xc12526- -0x301);}_0x2b82ef[_0x22a649(0x332,0x33f)]=[segmentDrawVert];const _0x570a4e={};_0x570a4e[_0x5716f7(0x183,0x18d)]=[segmentDrawFrag];const _0x50d336={};_0x50d336['enabled']=!![];function _0x22a649(_0x595634,_0x245769){return _0x72004d(_0x245769,_0x595634- -0x152);}const _0x776c64={};_0x776c64[_0x22a649(0x3d4,0x458)]=undefined,_0x776c64[_0x22a649(0x335,0x2a9)]=_0x50d336,_0x776c64['depthMask']=!![];const _0x256a5e={};_0x256a5e[_0x5716f7(0x1c6,0x1ed)]=0x0,_0x256a5e['st']=0x1;const _0x3ead9f={};_0x3ead9f['defines']=['DISABLE_GL_POSITION_LOG_DEPTH'],_0x3ead9f['sources']=[fullscreenVert];const _0xc0e6c8={};_0xc0e6c8[_0x5716f7(0x1a5,0x185)]=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0xc0e6c8['sources']=[trailDrawFrag];const _0x2ef283={};_0x2ef283[_0x5716f7(0x1c6,0x252)]=0x0,_0x2ef283['st']=0x1;const _0x3d4bb0={};_0x3d4bb0[_0x22a649(0x354,0x2c8)]=[_0x22a649(0x384,0x399)],_0x3d4bb0['sources']=[fullscreenVert];const _0x557ad6={};_0x557ad6['defines']=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x557ad6['sources']=[screenDrawFrag];const _0x265359={};_0x265359['enabled']=![];const _0x540077={};_0x540077[_0x5716f7(0x127,0x147)]=!![],this['primitives']={'segments':new CustomPrimitive({'commandType':_0x5716f7(0x219,0x205),'attributeLocations':_0x47c62f,'geometry':this['createSegmentsGeometry'](_0x5e4d3d),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'previousParticlesPosition':function(){function _0x55a2da(_0x592bbd,_0x3d2981){return _0x22a649(_0x592bbd-0x174,_0x3d2981);}return _0x304b97['particlesTextures'][_0x55a2da(0x512,0x500)];},'currentParticlesPosition':function(){function _0x159fa5(_0x34f3ce,_0x133883){return _0x5716f7(_0x34f3ce- -0x19e,_0x133883);}return _0x304b97[_0x159fa5(-0x5a,-0xb)]['currentParticlesPosition'];},'postProcessingPosition':function(){return _0x304b97['particlesTextures']['postProcessingPosition'];},'particlesSpeed':function(){function _0x52939a(_0x1c56ed,_0x3b2bf9){return _0x5716f7(_0x1c56ed- -0x2ed,_0x3b2bf9);}return _0x304b97['particlesTextures'][_0x52939a(-0xdf,-0x64)];},'colorTable':function(){return _0x1631ba['textures']['colorTable'];},'aspect':function(){return _0x4d8018['drawingBufferWidth']/_0x4d8018['drawingBufferHeight'];},'H':function(){return _0x59d021['H']['array'];},'hRange':function(){function _0x377cdc(_0x4905a7,_0x3a5ce2){return _0x5716f7(_0x4905a7-0x26e,_0x3a5ce2);}return new Cesium$4['Cartesian2'](_0x59d021['H']['min'],_0x59d021['H'][_0x377cdc(0x49a,0x47f)]);},'uSpeedRange':function(){return new Cesium$4['Cartesian2'](_0x59d021['U']['min'],_0x59d021['U']['max']);},'vSpeedRange':function(){function _0x491458(_0x52e679,_0x953a9f){return _0x5716f7(_0x953a9f-0x192,_0x52e679);}return new Cesium$4[(_0x491458(0x410,0x38b))](_0x59d021['V']['min'],_0x59d021['V']['max']);},'wSpeedRange':function(){function _0x27a089(_0x10f0a7,_0x8ad7c5){return _0x5716f7(_0x8ad7c5-0x2f9,_0x10f0a7);}function _0x240a24(_0x3c625b,_0x23d86a){return _0x5716f7(_0x23d86a- -0x2e6,_0x3c625b);}return new Cesium$4[(_0x240a24(-0x123,-0xed))](_0x59d021['W']['min'],_0x59d021['W'][_0x240a24(-0x85,-0xba)]);},'pixelSize':function(){function _0x499183(_0x3c3610,_0x3ccee8){return _0x22a649(_0x3ccee8- -0xcf,_0x3c3610);}return _0x262e4c[_0x499183(0x2a1,0x2a9)];},'lineWidth':function(){return _0x5e4d3d['lineWidth'];},'particleHeight':function(){return _0x5e4d3d['particleHeight'];},'colour':function(){function _0x486366(_0x1ff411,_0x383ad6){return _0x5716f7(_0x383ad6-0x118,_0x1ff411);}return _0x1631ba[_0x486366(0x1c3,0x246)];}},'vertexShaderSource':new Cesium$4[(_0x5716f7(0x1ff,0x210))](_0x2b82ef),'fragmentShaderSource':new Cesium$4[(_0x5716f7(0x1ff,0x1e4))](_0x570a4e),'rawRenderState':Util['createRawRenderState'](_0x776c64),'framebuffer':this[_0x22a649(0x300,0x32a)][_0x5716f7(0x138,0xb5)],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x256a5e,'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4['PrimitiveType'][_0x5716f7(0x23f,0x290)],'uniformMap':{'segmentsColorTexture':function(){return _0x1631ba['textures']['segmentsColor'];},'segmentsDepthTexture':function(){function _0x4e2512(_0x254c92,_0x1ab601){return _0x5716f7(_0x1ab601-0x36b,_0x254c92);}function _0x1e2a9a(_0x53f59e,_0x35c845){return _0x5716f7(_0x53f59e- -0x225,_0x35c845);}return _0x1631ba[_0x1e2a9a(-0xc7,-0x9b)][_0x1e2a9a(-0x94,-0x2d)];},'currentTrailsColor':function(){function _0x38577a(_0x1dc19d,_0x20a7cb){return _0x5716f7(_0x20a7cb- -0x29d,_0x1dc19d);}return _0x1631ba[_0x38577a(-0x19f,-0x14c)]['currentTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){function _0x486597(_0x5a4f65,_0x365417){return _0x5716f7(_0x5a4f65-0x30e,_0x365417);}return _0x1631ba['framebuffers'][_0x486597(0x538,0x4a8)]['depthTexture'];},'fadeOpacity':function(){return _0x5e4d3d['fadeOpacity'];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x3ead9f),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0xc0e6c8),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4['DepthFunction']['ALWAYS']},'depthMask':!![]}),'framebuffer':this['framebuffers'][_0x22a649(0x2d3,0x29b)],'autoClear':!![],'preExecute':function(){if(_0x5e4d3d[_0x43be17(0x32a,0x2a0)]){const _0x1c527e=_0x1631ba['framebuffers']['currentTrails'];_0x1631ba['framebuffers'][_0x43be17(0x34d,0x2d3)]=_0x1631ba['framebuffers'][_0x4bc0a2(0x346,0x2ef)],_0x1631ba[_0x43be17(0x1ff,0x1fa)][_0x43be17(0x242,0x1cd)]=_0x1c527e;}_0x1631ba['primitives'][_0x43be17(0x2f0,0x2ee)][_0x4bc0a2(0x399,0x388)]['framebuffer']=_0x1631ba['framebuffers']['nextTrails'];function _0x43be17(_0x440df8,_0x533b7c){return _0x22a649(_0x533b7c- -0x106,_0x440df8);}function _0x4bc0a2(_0x278791,_0x5daba6){return _0x22a649(_0x278791-0x73,_0x5daba6);}_0x1631ba['primitives']['trails'][_0x4bc0a2(0x45a,0x433)][_0x43be17(0x276,0x2a7)]=_0x1631ba['framebuffers']['nextTrails'];}}),'screen':new CustomPrimitive({'commandType':_0x22a649(0x3c8,0x41f),'attributeLocations':_0x2ef283,'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4[_0x5716f7(0x201,0x1ff)]['TRIANGLES'],'uniformMap':{'trailsColorTexture':function(){function _0x2ab3dc(_0x44e8ff,_0xaab7c7){return _0x5716f7(_0xaab7c7- -0x69,_0x44e8ff);}return _0x1631ba[_0x2ab3dc(0x122,0xe8)]['nextTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){function _0x44557d(_0x3c8298,_0x54b1b9){return _0x22a649(_0x3c8298- -0x4e0,_0x54b1b9);}function _0x2b7eef(_0x45c14c,_0x3997c0){return _0x5716f7(_0x45c14c- -0x139,_0x3997c0);}return _0x1631ba[_0x2b7eef(0x18,-0x63)]['nextTrails'][_0x2b7eef(0x41,-0x44)];}},'vertexShaderSource':new Cesium$4[(_0x22a649(0x3ae,0x3be))](_0x3d4bb0),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x557ad6),'rawRenderState':Util[_0x22a649(0x3dc,0x36c)]({'viewport':undefined,'depthTest':_0x265359,'depthMask':!![],'blending':_0x540077}),'framebuffer':undefined})};}}var CalculateSpeedShader=_0x72004d(0x4f2,0x51f),PostProcessingPositionShader='#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x0a\x0auniform\x20sampler2D\x20H;\x20//\x20particles\x20height\x20textures\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0auniform\x20vec2\x20viewerLonRange;\x0auniform\x20vec2\x20viewerLatRange;\x0a\x0aconst\x20float\x20randomCoefficient\x20=\x200.1f;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0aconst\x20float\x20dropRate\x20=\x200.1f;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0aconst\x20float\x20dropRateBump\x20=\x200.1f;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0avec4\x20getTextureValue(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20vec4\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D);\x0a\x20\x20return\x20result;\x0a}\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898f,\x2078.233f,\x204375.85453f);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0f,\x201.0f);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0abool\x20particleNoSpeed(vec3\x20particle)\x20{\x0a\x20\x20vec4\x20speed\x20=\x20getTextureValue(particlesSpeed,\x20particle);\x0a\x20\x20return\x20speed.r\x20==\x200.0f\x20&&\x20speed.g\x20==\x200.0f;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0f);\x0a\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20float\x20height\x20=\x20getTextureValue(H,\x20vec3(randomLon,\x20randomLat,\x20lev)).r;\x0a\x0a\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20height);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20return\x20particle.y\x20<\x20viewerLatRange.x\x20||\x20particle.y\x20>\x20viewerLatRange.y\x20||\x20particle.x\x20<\x20viewerLonRange.x\x20||\x20particle.x\x20>\x20viewerLonRange.y;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20nextParticle\x20=\x20texture(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec4\x20nextSpeed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20float\x20speedNorm\x20=\x20nextSpeed.a;\x0a\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20speedNorm;\x0a\x0a\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20if(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(randomParticle,\x201.0f);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x0a}\x0a',UpdatePositionShader=_0x72004d(0x55e,0x51c);const Cesium$3=mars3d__namespace[_0x4f97ab(0x75,0x13)];function _0x5435(_0x512461,_0xb10eda){const _0x4df3c4=_0x4df3();return _0x5435=function(_0x543504,_0x55cae1){_0x543504=_0x543504-0x1a1;let _0x8fd73b=_0x4df3c4[_0x543504];return _0x8fd73b;},_0x5435(_0x512461,_0xb10eda);}class ParticlesComputing{constructor(_0x59b64a,_0x29d4b2,_0x2070a7,_0x68e8c8){function _0x4c2fb7(_0x43ad25,_0x51d0f8){return _0x72004d(_0x43ad25,_0x51d0f8- -0x1a5);}this[_0x58848e(0x140,0x1ab)]=_0x29d4b2;function _0x58848e(_0x352fe0,_0x23e2ab){return _0x72004d(_0x352fe0,_0x23e2ab- -0x287);}this['createWindTextures'](_0x59b64a,_0x29d4b2),this[_0x58848e(0x23f,0x261)](_0x59b64a,_0x2070a7,_0x68e8c8),this[_0x58848e(0x1db,0x1b6)](_0x29d4b2,_0x2070a7,_0x68e8c8);}[_0x4f97ab(-0x1c,-0x4)](_0x1fdf80,_0x22d047){function _0x45535a(_0x51b723,_0x48369e){return _0x72004d(_0x51b723,_0x48369e-0x13);}var _0x70af26;const _0x58b68e={'context':_0x1fdf80,'width':_0x22d047[_0x45535a(0x5ab,0x51a)]['lon'],'height':_0x22d047[_0x45535a(0x4a9,0x51a)][_0x45535a(0x5a1,0x55e)]*(_0x22d047['dimensions'][_0x45535a(0x4a7,0x4c7)]||0x1),'pixelFormat':Cesium$3['PixelFormat']['RED'],'pixelDatatype':Cesium$3[_0x45535a(0x3f8,0x47d)]['FLOAT'],'flipY':![],'sampler':new Cesium$3[(_0x41d077(0x416,0x3f3))]({'minificationFilter':Cesium$3['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium$3['TextureMagnificationFilter']['NEAREST']})};function _0x41d077(_0x1e0d21,_0x107650){return _0x4f97ab(_0x1e0d21,_0x107650-0x307);}this['windTextures']={'U':Util['createTexture'](_0x58b68e,_0x22d047['U']['array']),'V':Util['createTexture'](_0x58b68e,_0x22d047['V'][_0x41d077(0x3ac,0x33f)]),'W':Util[_0x41d077(0x336,0x2e5)](_0x58b68e,((_0x70af26=_0x22d047['W'])===null||_0x70af26===void 0x0?void 0x0:_0x70af26[_0x41d077(0x2da,0x33f)])??_0x22d047['U']['array']),'H':Util['createTexture'](_0x58b68e,_0x22d047['H']['array'])};}['createParticlesTextures'](_0x5501a6,_0x1cb036,_0x47082d){const _0x37b22f={'context':_0x5501a6,'width':_0x1cb036[_0x3dc0d8(0x614,0x681)],'height':_0x1cb036[_0x3dc0d8(0x614,0x625)],'pixelFormat':Cesium$3['PixelFormat']['RGBA'],'pixelDatatype':Cesium$3['PixelDatatype']['FLOAT'],'flipY':![],'sampler':new Cesium$3[(_0x3dc0d8(0x62b,0x5b7))]({'minificationFilter':Cesium$3[_0x3dc0d8(0x60d,0x5d6)][_0x3dc0d8(0x572,0x5d5)],'magnificationFilter':Cesium$3['TextureMagnificationFilter'][_0x3dc0d8(0x572,0x528)]})};function _0x3dc0d8(_0x461457,_0x4b6673){return _0x72004d(_0x4b6673,_0x461457-0xec);}const _0x3d703d=this['randomizeParticles'](_0x1cb036[_0x3dc0d8(0x593,0x5ca)],_0x47082d);function _0x561dc2(_0x210391,_0x5edbf3){return _0x4f97ab(_0x5edbf3,_0x210391-0x52d);}const _0x597c0b=new Float32Array(0x4*_0x1cb036['maxParticles'])['fill'](0x0);this['particlesTextures']={'previousParticlesPosition':Util['createTexture'](_0x37b22f,_0x3d703d),'currentParticlesPosition':Util[_0x3dc0d8(0x51d,0x56d)](_0x37b22f,_0x3d703d),'nextParticlesPosition':Util[_0x3dc0d8(0x51d,0x4ea)](_0x37b22f,_0x3d703d),'postProcessingPosition':Util['createTexture'](_0x37b22f,_0x3d703d),'particlesSpeed':Util['createTexture'](_0x37b22f,_0x597c0b)};}['randomizeParticles'](_0x33a714,_0x1a6a52){function _0x350eb0(_0x4b236e,_0x57ad80){return _0x4f97ab(_0x4b236e,_0x57ad80-0x3c3);}function _0x179a38(_0x1d99c5,_0x4f1363){return _0x72004d(_0x4f1363,_0x1d99c5- -0x4d);}const _0x563486=new Float32Array(0x4*_0x33a714);for(let _0x3e33d6=0x0;_0x3e33d6<_0x33a714;_0x3e33d6++){_0x563486[0x4*_0x3e33d6]=Cesium$3['Math']['randomBetween'](_0x1a6a52['lonRange']['x'],_0x1a6a52['lonRange']['y']),_0x563486[0x4*_0x3e33d6+0x1]=Cesium$3[_0x350eb0(0x427,0x46b)]['randomBetween'](_0x1a6a52['latRange']['x'],_0x1a6a52[_0x350eb0(0x431,0x464)]['y']),_0x563486[0x4*_0x3e33d6+0x2]=Cesium$3['Math']['randomBetween'](this['data'][_0x350eb0(0x397,0x424)]['min'],this['data']['lev'][_0x350eb0(0x434,0x49d)]),_0x563486[0x4*_0x3e33d6+0x3]=0x0;}return _0x563486;}['getValidRange'](_0x54d905){const _0x9fea52=[_0x54d905['dimensions']['lon'],_0x54d905[_0x5aaa84(0x54b,0x5d9)]['lat'],_0x54d905['dimensions']['lev']],_0x4af56=[_0x54d905['lon']['min'],_0x54d905[_0x5aaa84(0x68d,0x61d)][_0x5aaa84(0x53e,0x51f)],_0x54d905[_0x5aaa84(0x615,0x586)][_0x5aaa84(0x58e,0x51f)]],_0x419293=[_0x54d905[_0x5aaa84(0x573,0x5c4)]['max'],_0x54d905[_0x5d8f93(0x48c,0x505)]['max'],_0x54d905[_0x5d8f93(0x436,0x46e)]['max']],_0x1f50dd=[(_0x419293[0x0]-_0x4af56[0x0])/(_0x9fea52[0x0]-0x1),(_0x419293[0x1]-_0x4af56[0x1])/(_0x9fea52[0x1]-0x1),_0x9fea52[0x2]>0x1?(_0x419293[0x2]-_0x4af56[0x2])/(_0x9fea52[0x2]-0x1):0x1],_0x1a6b32=Math['floor'](Math['random']()*_0x54d905['U']['array'][_0x5aaa84(0x4d2,0x526)]),_0x371ea2=_0x1a6b32%(_0x9fea52[0x0]*_0x9fea52[0x1]),_0x54aa49=Math[_0x5aaa84(0x600,0x575)](_0x371ea2/_0x9fea52[0x0]),_0x59371b=_0x371ea2%_0x9fea52[0x0],_0x490c4a=Cesium$3[_0x5d8f93(0x497,0x4b5)][_0x5aaa84(0x603,0x592)](_0x4af56[0x0]+_0x59371b*_0x1f50dd[0x0],_0x4af56[0x0]+(_0x59371b+0x1)*_0x1f50dd[0x0]);function _0x5aaa84(_0x2023ea,_0x1e2429){return _0x4f97ab(_0x2023ea,_0x1e2429-0x525);}const _0x49fcac=Cesium$3['Math']['randomBetween'](_0x4af56[0x1]+(_0x54aa49-0x1)*_0x1f50dd[0x1],_0x4af56[0x1]+_0x54aa49*_0x1f50dd[0x1]),_0x5bab1d=_0x54d905['H'][_0x5aaa84(0x5c9,0x55d)][_0x1a6b32]||0x0;function _0x5d8f93(_0x1be69a,_0x46dfd){return _0x4f97ab(_0x1be69a,_0x46dfd-0x40d);}return[_0x490c4a,_0x49fcac,_0x5bab1d];}[_0x4f97ab(0x62,0x46)](){function _0x4c20a2(_0xf2c62a,_0x4d2a54){return _0x4f97ab(_0x4d2a54,_0xf2c62a-0x591);}Object['keys'](this['particlesTextures'])[_0x4c20a2(0x678,0x6f6)](_0x3a5f70=>{this['particlesTextures'][_0x3a5f70]['destroy']();});}[_0x4f97ab(-0x12,-0x16)](_0x5bb81e,_0x3acec2,_0x1011d7){const _0x562946=new Cesium$3['Cartesian3'](_0x5bb81e['dimensions'][_0x9abf53(0x25b,0x1d3)],_0x5bb81e['dimensions']['lat'],_0x5bb81e[_0x9abf53(0x270,0x2a0)]['lev']),_0x1edfff=new Cesium$3['Cartesian3'](_0x5bb81e[_0x179507(0x5d5,0x5fb)]['min'],_0x5bb81e[_0x9abf53(0x2b4,0x2b5)][_0x179507(0x530,0x51a)],_0x5bb81e['lev']['min']),_0x40b1a5=new Cesium$3['Cartesian3'](_0x5bb81e['lon'][_0x9abf53(0x296,0x293)],_0x5bb81e['lat']['max'],_0x5bb81e[_0x179507(0x597,0x50f)]['max']),_0x1547c7=new Cesium$3[(_0x179507(0x5fe,0x5f8))]((_0x40b1a5['x']-_0x1edfff['x'])/(_0x562946['x']-0x1),(_0x40b1a5['y']-_0x1edfff['y'])/(_0x562946['y']-0x1),_0x562946['z']>0x1?(_0x40b1a5['z']-_0x1edfff['z'])/(_0x562946['z']-0x1):0x1),_0x369bb9=new Cesium$3[(_0x179507(0x5dd,0x64b))](_0x5bb81e['lon'][_0x9abf53(0x1b6,0x1c6)],_0x5bb81e['lon']['max']),_0xdad75a=new Cesium$3['Cartesian2'](_0x5bb81e['lat'][_0x179507(0x530,0x5ad)],_0x5bb81e['lat'][_0x179507(0x610,0x66e)]),_0x556bd0=new Cesium$3['Cartesian2'](_0x5bb81e['U']['min'],_0x5bb81e['U'][_0x9abf53(0x296,0x22a)]),_0xbb5b28=new Cesium$3[(_0x9abf53(0x263,0x21e))](_0x5bb81e['V']['min'],_0x5bb81e['V']['max']),_0x6eac6d=new Cesium$3[(_0x9abf53(0x263,0x27e))](_0x5bb81e['W']['min'],_0x5bb81e['W'][_0x9abf53(0x296,0x2bc)]),_0x11eeaa=this,_0xe40ea2={};_0xe40ea2['U']=function(){function _0x351049(_0x403a63,_0x158ba3){return _0x179507(_0x158ba3- -0xa7,_0x403a63);}return _0x11eeaa[_0x351049(0x55d,0x51c)]['U'];},_0xe40ea2['V']=function(){function _0x4adaaa(_0x14e6db,_0x3e72d3){return _0x9abf53(_0x14e6db- -0x3f,_0x3e72d3);}return _0x11eeaa[_0x4adaaa(0x20a,0x187)]['V'];},_0xe40ea2['W']=function(){function _0x1da79a(_0x577b59,_0x14e999){return _0x9abf53(_0x577b59-0x198,_0x14e999);}return _0x11eeaa[_0x1da79a(0x3e1,0x40b)]['W'];},_0xe40ea2[_0x179507(0x61b,0x620)]=function(){function _0x3fb7b6(_0x221fc7,_0x41ea98){return _0x9abf53(_0x41ea98-0x110,_0x221fc7);}function _0x10f11b(_0x2e5177,_0x22fb14){return _0x179507(_0x2e5177- -0x2fc,_0x22fb14);}return _0x11eeaa[_0x10f11b(0x22c,0x1da)][_0x3fb7b6(0x3f7,0x3b1)];},_0xe40ea2['dimension']=function(){return _0x562946;},_0xe40ea2[_0x9abf53(0x1d6,0x1bc)]=function(){return _0x1edfff;},_0xe40ea2['maximum']=function(){return _0x40b1a5;},_0xe40ea2['interval']=function(){return _0x1547c7;},_0xe40ea2[_0x9abf53(0x1bc,0x177)]=function(){return _0x556bd0;},_0xe40ea2['vSpeedRange']=function(){return _0xbb5b28;},_0xe40ea2[_0x179507(0x5fc,0x5f9)]=function(){return _0x6eac6d;},_0xe40ea2['speedScaleFactor']=function(){return _0x1011d7['pixelSize']*_0x3acec2['speedFactor'];};const _0x6f1bf={};_0x6f1bf[_0x179507(0x567,0x560)]=[CalculateSpeedShader];const _0x339767={};_0x339767['sources']=[UpdatePositionShader];const _0x188351={};function _0x179507(_0x247e3c,_0x2390a7){return _0x4f97ab(_0x2390a7,_0x247e3c-0x536);}function _0x9abf53(_0x21482c,_0x26b1f8){return _0x4f97ab(_0x26b1f8,_0x21482c-0x1bc);}_0x188351['sources']=[PostProcessingPositionShader],this[_0x9abf53(0x199,0x150)]={'calculateSpeed':new CustomPrimitive({'commandType':'Compute','uniformMap':_0xe40ea2,'fragmentShaderSource':new Cesium$3[(_0x9abf53(0x269,0x22e))](_0x6f1bf),'outputTexture':this['particlesTextures']['particlesSpeed'],'preExecute':function(){if(_0x3acec2!==undefined&&_0x3acec2['dynamic']){const _0xb45a8f=_0x11eeaa['particlesTextures']['previousParticlesPosition'];_0x11eeaa['particlesTextures']['previousParticlesPosition']=_0x11eeaa['particlesTextures'][_0x49af1b(0x687,0x60e)],_0x11eeaa['particlesTextures'][_0x427a48(0x522,0x542)]=_0x11eeaa['particlesTextures']['postProcessingPosition'],_0x11eeaa['particlesTextures']['postProcessingPosition']=_0xb45a8f;}function _0x427a48(_0x41a6c5,_0x369e93){return _0x179507(_0x41a6c5- -0xf9,_0x369e93);}function _0x49af1b(_0x57753b,_0x3ac729){return _0x179507(_0x3ac729- -0xd,_0x57753b);}_0x11eeaa['primitives']['calculateSpeed']['commandToExecute']['outputTexture']=_0x11eeaa['particlesTextures']['particlesSpeed'];}}),'updatePosition':new CustomPrimitive({'commandType':_0x179507(0x5d8,0x64e),'uniformMap':{'currentParticlesPosition':function(){return _0x11eeaa['particlesTextures']['currentParticlesPosition'];},'particlesSpeed':function(){function _0x166f14(_0x3fefbe,_0x4b5715){return _0x9abf53(_0x3fefbe- -0x5b,_0x4b5715);}return _0x11eeaa['particlesTextures'][_0x166f14(0x21d,0x271)];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x339767),'outputTexture':this['particlesTextures']['nextParticlesPosition'],'preExecute':function(){function _0x1a343c(_0x89b498,_0x37adc1){return _0x179507(_0x37adc1- -0x60f,_0x89b498);}function _0xe6cf6a(_0x582fb1,_0x29ec76){return _0x9abf53(_0x29ec76- -0x1a5,_0x582fb1);}_0x11eeaa['primitives'][_0x1a343c(-0x98,-0x9f)][_0xe6cf6a(0x5b,0x3c)][_0x1a343c(-0xfb,-0xbd)]=_0x11eeaa['particlesTextures']['nextParticlesPosition'];}}),'postProcessingPosition':new CustomPrimitive({'commandType':'Compute','uniformMap':{'nextParticlesPosition':function(){return _0x11eeaa['particlesTextures']['nextParticlesPosition'];},'particlesSpeed':function(){function _0x4fe9e0(_0xa34eaf,_0x2e1c93){return _0x179507(_0xa34eaf- -0x60b,_0x2e1c93);}function _0x220672(_0xadd6c4,_0x4a7d62){return _0x179507(_0x4a7d62- -0x27d,_0xadd6c4);}return _0x11eeaa[_0x220672(0x29a,0x2ab)][_0x4fe9e0(-0x19,-0x53)];},'viewerLonRange':function(){return _0x1011d7['lonRange'];},'viewerLatRange':function(){return _0x1011d7['latRange'];},'lonRange':function(){return _0x369bb9;},'latRange':function(){return _0xdad75a;},'dimension':function(){return _0x562946;},'minimum':function(){return _0x1edfff;},'maximum':function(){return _0x40b1a5;},'interval':function(){return _0x1547c7;},'H':function(){return _0x11eeaa['windTextures']['H'];},'randomCoefficient':function(){const _0xbbe8ec=Math[_0x5781a3(0x255,0x234)]();function _0x5781a3(_0x7b01b1,_0x3c0c3d){return _0x179507(_0x7b01b1- -0x336,_0x3c0c3d);}return _0xbbe8ec;},'dropRate':function(){return _0x3acec2['dropRate'];},'dropRateBump':function(){function _0x183aaf(_0x270993,_0x5a5824){return _0x179507(_0x5a5824- -0x378,_0x270993);}return _0x3acec2[_0x183aaf(0x1a1,0x1df)];}},'fragmentShaderSource':new Cesium$3[(_0x179507(0x5e3,0x5ba))](_0x188351),'outputTexture':this[_0x179507(0x528,0x4ac)][_0x179507(0x5b3,0x58f)],'preExecute':function(){function _0x2f1609(_0xbc7c67,_0x31a2a2){return _0x179507(_0xbc7c67- -0x46a,_0x31a2a2);}_0x11eeaa['primitives']['postProcessingPosition'][_0x2f1609(0xf1,0xcc)]['outputTexture']=_0x11eeaa['particlesTextures']['postProcessingPosition'];}})};}}const Cesium$2=mars3d__namespace['Cesium'];class ParticleSystem{constructor(_0x264986,_0x21c429,_0x32a6d2,_0x13d7b1){this['context']=_0x264986,_0x21c429={..._0x21c429};_0x21c429['udata']&&_0x21c429['vdata']&&(_0x21c429[_0x48f4bc(0x408,0x44f)]={},_0x21c429['dimensions']['lon']=_0x21c429[_0xcdd9ec(0x242,0x2c8)],_0x21c429['dimensions'][_0xcdd9ec(0x2d3,0x340)]=_0x21c429['rows'],_0x21c429[_0x48f4bc(0x408,0x429)][_0x48f4bc(0x3b5,0x3ac)]=_0x21c429['lev']||0x1,_0x21c429[_0x48f4bc(0x3f3,0x3df)]={},_0x21c429[_0xcdd9ec(0x320,0x2e7)][_0xcdd9ec(0x2a4,0x242)]=_0x21c429['xmin'],_0x21c429[_0xcdd9ec(0x369,0x2e7)]['max']=_0x21c429[_0x48f4bc(0x43f,0x461)],_0x21c429['lat']={},_0x21c429['lat']['min']=_0x21c429['ymin'],_0x21c429[_0xcdd9ec(0x344,0x340)][_0xcdd9ec(0x311,0x322)]=_0x21c429[_0xcdd9ec(0x2cb,0x33f)],_0x21c429['lev']={},_0x21c429['lev']['min']=_0x21c429[_0x48f4bc(0x41f,0x38c)]??0x1,_0x21c429['lev'][_0xcdd9ec(0x3af,0x322)]=_0x21c429[_0xcdd9ec(0x35c,0x2d4)]??0x1,_0x21c429['U']={},_0x21c429['U']['array']=new Float32Array(_0x21c429['udata']),_0x21c429['U']['min']=_0x21c429['umin']??Math[_0x48f4bc(0x34e,0x367)](..._0x21c429['udata']),_0x21c429['U']['max']=_0x21c429['umax']??Math['max'](..._0x21c429['udata']),_0x21c429['V']={},_0x21c429['V'][_0xcdd9ec(0x2e6,0x280)]=new Float32Array(_0x21c429['vdata']),_0x21c429['V'][_0xcdd9ec(0x290,0x242)]=_0x21c429['vmin']??Math[_0xcdd9ec(0x287,0x242)](..._0x21c429[_0xcdd9ec(0x24c,0x266)]),_0x21c429['V']['max']=_0x21c429['vmax']??Math[_0xcdd9ec(0x311,0x322)](..._0x21c429['vdata']));!_0x21c429['W']&&(_0x21c429['W']={'array':new Float32Array(_0x21c429['U'][_0xcdd9ec(0x1fe,0x280)][_0xcdd9ec(0x2cc,0x249)]),'min':0x0,'max':0x0});function _0xcdd9ec(_0x3af1fa,_0x100cc0){return _0x72004d(_0x3af1fa,_0x100cc0- -0x20b);}function _0x48f4bc(_0x2aeede,_0x2aca15){return _0x72004d(_0x2aca15,_0x2aeede- -0xff);}if(!_0x21c429['H']){var _0xdf012d;_0x21c429['H']={'array':new Float32Array(_0x21c429['U'][_0xcdd9ec(0x20b,0x280)][_0xcdd9ec(0x280,0x249)]),'min':0x0,'max':0x0};if((_0xdf012d=_0x21c429['lev'])!==null&&_0xdf012d!==void 0x0&&_0xdf012d[_0x48f4bc(0x38c,0x354)]){const {lon:_0x31ed6f,lat:_0x4f9a5e,lev:_0x17f990}=_0x21c429['dimensions'];for(let _0x23a2fd=0x0;_0x23a2fd<_0x17f990;_0x23a2fd++){for(let _0xb642ac=0x0;_0xb642ac<_0x4f9a5e;_0xb642ac++){for(let _0x525ffb=0x0;_0x525ffb<_0x31ed6f;_0x525ffb++){const _0x339dc3=_0x23a2fd*(_0x31ed6f*_0x4f9a5e)+_0xb642ac*_0x31ed6f+_0x525ffb;_0x21c429['H']['array'][_0x339dc3]=_0x21c429[_0x48f4bc(0x3b5,0x34f)][_0x48f4bc(0x38c,0x38a)][_0x23a2fd];}}}_0x21c429['H']['min']=Math['min'](..._0x21c429['lev'][_0x48f4bc(0x38c,0x38c)]),_0x21c429['H'][_0xcdd9ec(0x2ca,0x322)]=Math['max'](..._0x21c429['lev']['array']);}}this['data']=_0x21c429,this['options']=_0x32a6d2,this['viewerParameters']=_0x13d7b1,this['particlesComputing']=new ParticlesComputing(this['context'],this['data'],this[_0xcdd9ec(0x2ad,0x2ee)],this[_0x48f4bc(0x3d3,0x395)]),this[_0xcdd9ec(0x212,0x2a3)]=new ParticlesRendering(this['context'],this[_0xcdd9ec(0x1ce,0x227)],this['options'],this['viewerParameters'],this['particlesComputing']);}['canvasResize'](_0x25ad9e){this['particlesComputing']['destroyParticlesTextures'](),Object['keys'](this['particlesComputing']['windTextures'])[_0x5a6b60(0x503,0x500)](_0x4755f6=>{function _0x453197(_0x408f32,_0x1db754){return _0x5a6b60(_0x408f32- -0x8,_0x1db754);}this['particlesComputing']['windTextures'][_0x4755f6][_0x453197(0x417,0x44d)]();}),this['particlesRendering'][_0x5a6b60(0x428,0x3c8)][_0x5a6b60(0x458,0x4cf)]['destroy'](),Object[_0x11f686(0x4d,0x8)](this[_0x11f686(0x78,0xa8)]['framebuffers'])['forEach'](_0x36dc4d=>{this['particlesRendering']['framebuffers'][_0x36dc4d]['destroy']();});function _0x11f686(_0x2df13c,_0x378ef0){return _0x4f97ab(_0x378ef0,_0x2df13c-0x1d);}function _0x5a6b60(_0xd955d7,_0x4aadd9){return _0x72004d(_0x4aadd9,_0xd955d7- -0x37);}this[_0x5a6b60(0x421,0x3d6)]=_0x25ad9e,this[_0x11f686(0xa4,0xb8)]=new ParticlesComputing(this[_0x5a6b60(0x421,0x3c2)],this[_0x11f686(-0x4,-0xd)],this[_0x11f686(0xc3,0xf6)],this[_0x11f686(0x9c,0x2b)]),this['particlesRendering']=new ParticlesRendering(this['context'],this['data'],this[_0x5a6b60(0x4c2,0x4f4)],this[_0x5a6b60(0x49b,0x47b)],this['particlesComputing']);}['clearFramebuffers'](){function _0x503816(_0x43b87d,_0x2d5d6f){return _0x72004d(_0x2d5d6f,_0x43b87d- -0x11e);}const _0x2bdeac=new Cesium$2[(_0x46a2da(0x2f4,0x2df))]({'color':new Cesium$2['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2['Pass'][_0x503816(0x319,0x29f)]});function _0x46a2da(_0x2bd6fe,_0x1b7aa0){return _0x72004d(_0x2bd6fe,_0x1b7aa0- -0x183);}Object[_0x503816(0x365,0x370)](this['particlesRendering'][_0x503816(0x334,0x382)])['forEach'](_0x22d784=>{function _0x1d205e(_0x335f8b,_0x343fe0){return _0x503816(_0x335f8b- -0x17d,_0x343fe0);}function _0x4d0c4b(_0x4d8b53,_0x43c430){return _0x503816(_0x43c430- -0x4a0,_0x4d8b53);}_0x2bdeac[_0x4d0c4b(-0x104,-0xbf)]=this[_0x1d205e(0x213,0x18b)]['framebuffers'][_0x22d784],_0x2bdeac['execute'](this['context']);});}[_0x4f97ab(0x90,0xa)](_0x3df2f1,_0x4174aa=!![]){_0x4174aa&&(this[_0x5cfa14(-0x156,-0x186)](),this[_0x47e000(0x628,0x615)]['destroyParticlesTextures'](),this['particlesComputing']['createParticlesTextures'](this[_0x5cfa14(-0x1fe,-0x1f1)],this[_0x47e000(0x662,0x634)],this['viewerParameters']));function _0x5cfa14(_0x53c765,_0x3a8f88){return _0x4f97ab(_0x53c765,_0x3a8f88- -0x1f6);}function _0x47e000(_0x5a105a,_0x3d6a42){return _0x72004d(_0x5a105a,_0x3d6a42-0x13b);}if(_0x3df2f1){var _0x5dbe0b;const _0x25267e=this[_0x5cfa14(-0x202,-0x19b)][_0x47e000(0x599,0x5b0)](this['options']);this['particlesRendering'][_0x5cfa14(-0x1d0,-0x219)]['segments']['geometry']=_0x25267e;const _0x5d893f=Cesium$2['VertexArray']['fromGeometry']({'context':this[_0x47e000(0x61b,0x593)],'geometry':_0x25267e,'attributeLocations':this[_0x47e000(0x61c,0x5e9)]['primitives'][_0x47e000(0x5a3,0x574)]['attributeLocations'],'bufferUsage':Cesium$2[_0x47e000(0x501,0x577)]['STATIC_DRAW']});(_0x5dbe0b=this[_0x5cfa14(-0x17f,-0x19b)][_0x47e000(0x5a9,0x56b)])!==null&&_0x5dbe0b!==void 0x0&&(_0x5dbe0b=_0x5dbe0b[_0x47e000(0x538,0x574)])!==null&&_0x5dbe0b!==void 0x0&&_0x5dbe0b[_0x47e000(0x51f,0x5b3)]&&(this[_0x47e000(0x65e,0x5e9)][_0x5cfa14(-0x216,-0x219)]['segments']['commandToExecute'][_0x47e000(0x613,0x5cb)]=_0x5d893f);}}[_0x72004d(0x40c,0x468)](_0x3cfdac){let _0x27447a=![];this[_0x394e11(0x45e,0x4b2)][_0x394e11(0x42f,0x460)]!==_0x3cfdac['maxParticles']&&(_0x27447a=!![]);function _0x5ecc75(_0x494bdf,_0x94974e){return _0x72004d(_0x494bdf,_0x94974e- -0x1be);}function _0x394e11(_0x1fc8ee,_0x11c82b){return _0x4f97ab(_0x1fc8ee,_0x11c82b-0x40c);}Object['keys'](_0x3cfdac)['forEach'](_0x2fb860=>{function _0x5cbbbb(_0x47b1c1,_0x1e8264){return _0x394e11(_0x47b1c1,_0x1e8264- -0x3a3);}this[_0x5cbbbb(0xb0,0x10f)][_0x2fb860]=_0x3cfdac[_0x2fb860];}),this['refreshParticles'](_0x27447a,_0x3cfdac['dynamic']);}['applyViewerParameters'](_0x3ab51a){function _0x26f873(_0x416a69,_0x21b6df){return _0x72004d(_0x21b6df,_0x416a69- -0x3e);}Object['keys'](_0x3ab51a)['forEach'](_0x2c8933=>{function _0x5b3eb9(_0x4a6344,_0x13bdfe){return _0x5435(_0x13bdfe- -0x227,_0x4a6344);}this[_0x5b3eb9(0x26,0x28)][_0x2c8933]=_0x3ab51a[_0x2c8933];}),this['refreshParticles'](![]);function _0x53de84(_0x3a95ea,_0x174e73){return _0x4f97ab(_0x174e73,_0x3a95ea-0x4b9);}!this[_0x53de84(0x55f,0x503)]['dynamic']&&(this[_0x26f873(0x4bb,0x463)][_0x26f873(0x4ba,0x4fa)]=!![],this['setOptions'](this['options']),setTimeout(()=>{this[_0x2f353e(0x25a,0x2b0)]['dynamic']=![];function _0x2f353e(_0x3ff632,_0x5c3083){return _0x53de84(_0x5c3083- -0x2af,_0x3ff632);}function _0x57ede8(_0x3d8745,_0x53eef1){return _0x26f873(_0x53eef1- -0x497,_0x3d8745);}this[_0x57ede8(-0xc0,-0x6d)](this['options']);},0x1f4));}[_0x4f97ab(0x5,0x3)](){clearTimeout(this['canrefresh']),this['particlesComputing']['destroyParticlesTextures'](),Object['keys'](this[_0x7af76b(0x494,0x4e6)]['windTextures'])[_0x7af76b(0x4f4,0x52a)](_0x50d805=>{function _0x581182(_0x1e2f24,_0x278b0f){return _0x7af76b(_0x1e2f24- -0x38f,_0x278b0f);}this['particlesComputing']['windTextures'][_0x50d805][_0x581182(0x81,0x91)]();}),this['particlesRendering']['textures']['colorTable']['destroy']();function _0x39a828(_0x406466,_0x130bc3){return _0x72004d(_0x406466,_0x130bc3-0xd6);}function _0x7af76b(_0x13e5f0,_0x4b63d0){return _0x72004d(_0x4b63d0,_0x13e5f0- -0x46);}Object[_0x39a828(0x569,0x559)](this['particlesRendering'][_0x7af76b(0x40c,0x3b6)])['forEach'](_0x510089=>{function _0x40fbd5(_0x943d4c,_0x274e69){return _0x39a828(_0x274e69,_0x943d4c-0x51);}this['particlesRendering'][_0x40fbd5(0x579,0x572)][_0x510089]['destroy']();});for(const _0x2e2e03 in this){delete this[_0x2e2e03];}}}const Cesium$1=mars3d__namespace[_0x4f97ab(0x78,0x13)],BaseLayer$1=mars3d__namespace['layer']['BaseLayer'],_0x4beb00={};_0x4beb00['particlesNumber']=0x1000,_0x4beb00['fixedHeight']=0x0,_0x4beb00['fadeOpacity']=0.996,_0x4beb00['dropRate']=0.003,_0x4beb00['dropRateBump']=0.01,_0x4beb00[_0x72004d(0x4be,0x4d8)]=0.5,_0x4beb00[_0x72004d(0x4c3,0x4ab)]=0x2,_0x4beb00['colors']=[_0x72004d(0x483,0x47f)],_0x4beb00['dynamic']=!![];const DEF_OPTIONS=_0x4beb00;class WindLayer extends BaseLayer$1{constructor(_0x5b8fcc={}){_0x5b8fcc={...DEF_OPTIONS,..._0x5b8fcc},super(_0x5b8fcc),this['_setOptionsHook'](_0x5b8fcc);}get[_0x72004d(0x4bf,0x448)](){function _0x5b425c(_0x2e8e4f,_0x46f7a1){return _0x72004d(_0x2e8e4f,_0x46f7a1- -0x585);}return this[_0x5b425c(-0x17c,-0x155)];}get['data'](){return this['_data'];}set[_0x4f97ab(-0x7f,-0x21)](_0x5c1afb){function _0x3a5fc0(_0x3a8407,_0x383081){return _0x4f97ab(_0x383081,_0x3a8407- -0xae);}this[_0x3a5fc0(-0xc3,-0xcc)](_0x5c1afb);}get[_0x72004d(0x4fe,0x496)](){function _0x4ed521(_0x61ae2d,_0xec77f8){return _0x4f97ab(_0xec77f8,_0x61ae2d-0x418);}return this['options'][_0x4ed521(0x45b,0x4bb)];}set[_0x4f97ab(-0x5,0x43)](_0x25bff0){this['options'][_0xcf9b62(0xa0,0x3d)]=_0x25bff0;function _0x4e1bfe(_0x4b68f6,_0x3ba32d){return _0x4f97ab(_0x4b68f6,_0x3ba32d-0x374);}function _0xcf9b62(_0x19606d,_0x1f698c){return _0x72004d(_0x1f698c,_0x19606d- -0x3f6);}if(this['particleSystem']){const _0x5953b1={};_0x5953b1['colors']=_0x25bff0,this[_0x4e1bfe(0x41e,0x42c)]['setOptions'](_0x5953b1);}this['resize']();}[_0x4f97ab(0x73,0x5e)](){}[_0x72004d(0x48b,0x47d)](){this['scene']=this['_map'][_0x266a94(0x26d,0x22e)],this['camera']=this['_map']['camera'],this[_0x266a94(0x22d,0x224)]=new Cesium$1['PrimitiveCollection'](),this['_map'][_0x266a94(0x1b2,0x22e)]['primitives'][_0x266a94(0x2ff,0x2bd)](this[_0x266a94(0x237,0x224)]),this['viewerParameters']={'lonRange':new Cesium$1['Cartesian2'](),'latRange':new Cesium$1['Cartesian2'](),'pixelSize':0x0,'lonDisplayRange':new Cesium$1['Cartesian2'](),'latDisplayRange':new Cesium$1[(_0x266a94(0x2d3,0x2ee))]()},this['globeBoundingSphere']=new Cesium$1['BoundingSphere'](Cesium$1['Cartesian3'][_0x3578fb(-0x13e,-0x18c)],Cesium$1[_0x3578fb(-0x101,-0x16f)]['WGS84'][_0x3578fb(-0x171,-0x145)]),this['updateViewerParameters'](),window['addEventListener']('resize',this[_0x3578fb(-0x159,-0x197)][_0x3578fb(-0x15d,-0x116)](this),![]);function _0x3578fb(_0x200fb1,_0x269a1b){return _0x72004d(_0x269a1b,_0x200fb1- -0x612);}this[_0x3578fb(-0x1af,-0x190)]=![],this[_0x3578fb(-0xfb,-0xa9)]=![],this['_map']['on'](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this);function _0x266a94(_0x2efa15,_0x4e2c2d){return _0x4f97ab(_0x2efa15,_0x4e2c2d-0x247);}this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x3578fb(-0x102,-0x169)],this['_onMouseUpEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x3578fb(-0x1bb,-0x1a6)],this),this['_data']&&this[_0x266a94(0x1c8,0x232)](this['_data']);}['_removedHook'](){window['removeEventListener']('resize',this[_0x4ad6d3(0x41,-0x20)]),this['_map']['off'](mars3d__namespace['EventType']['preRender'],this[_0x4ad6d3(0x14,-0x47)],this),this['_map'][_0x27821c(0x527,0x5b5)](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this['_map'][_0x27821c(0x527,0x4ca)](mars3d__namespace[_0x4ad6d3(0xd4,0xf2)]['mouseDown'],this['_onMouseDownEvent'],this);function _0x27821c(_0x2e6832,_0x13e6fb){return _0x72004d(_0x13e6fb,_0x2e6832-0x36);}function _0x4ad6d3(_0x2c7e62,_0x5d879c){return _0x72004d(_0x5d879c,_0x2c7e62- -0x478);}this[_0x27821c(0x525,0x548)]['off'](mars3d__namespace['EventType'][_0x4ad6d3(0x98,0x108)],this[_0x4ad6d3(0x57,-0x1f)],this),this['_map']['off'](mars3d__namespace['EventType'][_0x4ad6d3(0x47,0x3)],this['_onMouseMoveEvent'],this),this['primitives'][_0x27821c(0x4d6,0x487)](),this[_0x4ad6d3(0x77,0x66)]['scene']['primitives'][_0x27821c(0x55a,0x4f4)](this[_0x27821c(0x466,0x44f)]);}['resize'](){function _0x2a1aeb(_0x4f6bc1,_0x3a990b){return _0x4f97ab(_0x3a990b,_0x4f6bc1-0x564);}if(!this['show']||!this['particleSystem'])return;this['primitives'][_0x5e4886(0x58,0x55)]=![];function _0x5e4886(_0x19cb4c,_0x4d4426){return _0x4f97ab(_0x4d4426,_0x19cb4c- -0xb);}this['primitives']['removeAll'](),this[_0x5e4886(0x91,0x58)]['once'](mars3d__namespace['EventType']['preRender'],this['_onMap_preRenderEvent'],this);}['_onMap_preRenderEvent'](_0x523b94){this['particleSystem']['canvasResize'](this[_0x11c79a(-0x1be,-0x222)]['context']);function _0x11c79a(_0x4bbc7d,_0x53f015){return _0x72004d(_0x4bbc7d,_0x53f015- -0x65c);}this['addPrimitives']();function _0x3b9550(_0xf85e0,_0x1d8ef0){return _0x4f97ab(_0x1d8ef0,_0xf85e0-0x18);}this['primitives'][_0x3b9550(0x7b,0x77)]=!![];}[_0x72004d(0x422,0x42e)](_0x100341){clearTimeout(this[_0x15b0f8(0x1a0,0x1dd)]);function _0x15b0f8(_0x1bf82d,_0x29a054){return _0x72004d(_0x1bf82d,_0x29a054- -0x2d5);}if(!this[_0x5ca861(0x150,0xc7)]||!this['particleSystem'])return;this['primitives']['show']=![];function _0x5ca861(_0x17d71f,_0x351445){return _0x72004d(_0x351445,_0x17d71f- -0x366);}this['refreshTimer']=setTimeout(()=>{function _0x39e727(_0x4184c9,_0xb012a4){return _0x15b0f8(_0xb012a4,_0x4184c9- -0x194);}if(!this[_0x39e727(0x4d,0x5)])return;this['redraw']();},0xc8);}['_onMouseDownEvent'](_0x22e9d9){this['mouse_down']=!![];}[_0x72004d(0x46d,0x457)](_0x172313){if(!this['show']||!this['particleSystem'])return;function _0x5a4fba(_0x36de06,_0x20eaa7){return _0x4f97ab(_0x36de06,_0x20eaa7-0x1e9);}this['mouse_down']&&(this[_0x5a4fba(0x136,0x1c6)]['show']=![],this['mouse_move']=!![]);}['_onMouseUpEvent'](_0x24d541){if(!this[_0x22754c(0x573,0x5c4)]||!this['particleSystem'])return;this[_0x22754c(0x4e2,0x571)]&&this[_0x44cfd2(0x583,0x52f)]&&this['redraw']();function _0x44cfd2(_0x1cd5e3,_0x59458d){return _0x4f97ab(_0x59458d,_0x1cd5e3-0x4bf);}this['primitives'][_0x22754c(0x644,0x5c4)]=!![],this[_0x44cfd2(0x4cf,0x4bc)]=![];function _0x22754c(_0x27a27a,_0x310c67){return _0x72004d(_0x27a27a,_0x310c67-0x10e);}this[_0x44cfd2(0x583,0x5cf)]=![];}['redraw'](){function _0x1a117e(_0x59522a,_0x21b8fd){return _0x72004d(_0x59522a,_0x21b8fd- -0x352);}if(!this[_0x1a117e(0x1a0,0x19d)]||!this['show'])return;this[_0x1a117e(0x11e,0xd8)](),this['particleSystem']['applyViewerParameters'](this[_0x1a117e(0x140,0x180)]);function _0x23d410(_0x4bdf37,_0x14b945){return _0x72004d(_0x4bdf37,_0x14b945- -0x3d);}this[_0x1a117e(0x4e,0xde)]['show']=!![];}[_0x72004d(0x41a,0x43e)](_0x4edcb2){this['_data']=_0x4edcb2;this['particleSystem']&&this['particleSystem']['destroy']();function _0x5f04df(_0x336d40,_0x48dcd1){return _0x4f97ab(_0x336d40,_0x48dcd1- -0x12f);}function _0x3d34f3(_0x7ea0d1,_0x3f9484){return _0x4f97ab(_0x3f9484,_0x7ea0d1-0x380);}this['particleSystem']=new ParticleSystem(this['scene']['context'],_0x4edcb2,this[_0x3d34f3(0x39b,0x32a)](),this[_0x5f04df(-0xeb,-0xb0)]),this[_0x3d34f3(0x43f,0x43f)]();}['_setOptionsHook'](_0x2d739d,_0x3f85fd){if(_0x2d739d)for(const _0x47f28d in _0x2d739d){this[_0x47f28d]=_0x2d739d[_0x47f28d];}this['particleSystem']&&this['particleSystem']['setOptions'](this['getOptions']());}[_0x4f97ab(0x38,0x1b)](){const _0x536454=Math['ceil'](Math[_0x1c189f(-0xb8,-0x33)](this[_0x47236e(0x404,0x3c6)]));this['particlesNumber']=_0x536454*_0x536454;const _0x5ed895={};_0x5ed895['particlesTextureSize']=_0x536454,_0x5ed895[_0x1c189f(-0x118,-0xa2)]=this['particlesNumber'],_0x5ed895['colors']=this['colors'],_0x5ed895[_0x1c189f(-0x32,-0x6e)]=this['fixedHeight'],_0x5ed895['fadeOpacity']=this['fadeOpacity'];function _0x47236e(_0x5da80f,_0x306b99){return _0x4f97ab(_0x5da80f,_0x306b99-0x39d);}function _0x1c189f(_0x52a02c,_0x12086f){return _0x4f97ab(_0x52a02c,_0x12086f- -0xf6);}return _0x5ed895['dropRate']=this[_0x1c189f(-0xf2,-0x11d)],_0x5ed895[_0x47236e(0x344,0x3be)]=this['dropRateBump'],_0x5ed895['speedFactor']=this['speedFactor'],_0x5ed895['lineWidth']=this['lineWidth'],_0x5ed895['dynamic']=this[_0x1c189f(-0x4e,-0x51)],_0x5ed895;}['addPrimitives'](){this[_0x12fc8a(-0x34,0x27)]['add'](this['particleSystem']['particlesComputing']['primitives'][_0x41bf69(0x15f,0x129)]);function _0x12fc8a(_0x56679d,_0x37a0a0){return _0x72004d(_0x56679d,_0x37a0a0- -0x409);}this[_0x41bf69(0x5d,0x32)][_0x41bf69(0xf6,0x14e)](this['particleSystem'][_0x41bf69(0x107,0x96)][_0x41bf69(0x5d,-0x37)][_0x41bf69(0xba,0xbb)]),this['primitives'][_0x41bf69(0xf6,0x165)](this['particleSystem'][_0x41bf69(0x107,0x17e)][_0x12fc8a(0x46,0x27)]['postProcessingPosition']),this['primitives']['add'](this[_0x41bf69(0x138,0xe9)][_0x12fc8a(0x1b,0xa5)]['primitives']['segments']);function _0x41bf69(_0x598454,_0x41ab4e){return _0x4f97ab(_0x41ab4e,_0x598454-0x80);}this[_0x41bf69(0x5d,0x4c)][_0x12fc8a(0x12f,0xc0)](this['particleSystem']['particlesRendering'][_0x41bf69(0x5d,0xd8)][_0x12fc8a(0x1ab,0x13d)]),this[_0x12fc8a(0x3a,0x27)]['add'](this['particleSystem'][_0x12fc8a(0x12f,0xa5)]['primitives']['screen']);}[_0x4f97ab(-0xaa,-0x29)](){let _0x4e4077=this['camera'][_0x4830f4(0x15e,0x101)](this['scene'][_0x4830f4(0xd4,0x157)][_0x4f9442(0x2ae,0x225)]);function _0x4830f4(_0x464597,_0x38538e){return _0x4f97ab(_0x38538e,_0x464597-0xae);}if(!_0x4e4077){const _0x497848=this[_0x4830f4(0x14a,0x1ab)]['getExtent']();_0x4e4077=Cesium$1['Rectangle']['fromDegrees'](_0x497848['xmin'],_0x497848['ymin'],_0x497848['xmax'],_0x497848[_0x4830f4(0x1a5,0x181)]);}const _0xa50360=Util['viewRectangleToLonLatRange'](_0x4e4077);this['_data']?(this[_0x4f9442(0x326,0x2a2)]['lonRange']['x']=Math['max'](_0xa50360['lon']['min'],this['_data'][_0x4f9442(0x32b,0x2e4)]),this['viewerParameters']['lonRange']['y']=Math['min'](_0xa50360['lon']['max'],this[_0x4830f4(0x84,0x5f)]['xmax']),this[_0x4830f4(0x12d,0x16e)][_0x4f9442(0x348,0x368)]['x']=Math[_0x4f9442(0x381,0x2ff)](_0xa50360['lat']['min'],this['_data'][_0x4f9442(0x390,0x32b)]),this['viewerParameters']['latRange']['y']=Math['min'](_0xa50360['lat'][_0x4830f4(0x188,0x179)],this[_0x4830f4(0x84,0x18)]['ymax'])):(this['viewerParameters']['lonRange']['x']=_0xa50360[_0x4f9442(0x346,0x2ee)]['min'],this[_0x4f9442(0x326,0x29e)][_0x4f9442(0x398,0x37a)]['y']=_0xa50360['lon']['max'],this[_0x4830f4(0x12d,0x181)]['latRange']['x']=_0xa50360[_0x4f9442(0x39f,0x36b)]['min'],this[_0x4f9442(0x326,0x385)][_0x4830f4(0x14f,0x13e)]['y']=_0xa50360[_0x4830f4(0x1a6,0x190)][_0x4f9442(0x381,0x3ab)]);let _0x73dc2b=this['camera'][_0x4f9442(0x2f9,0x268)](this[_0x4830f4(0xd5,0x46)],this['scene'][_0x4f9442(0x2ad,0x287)],this[_0x4f9442(0x28e,0x280)][_0x4830f4(0xf9,0x13b)]);function _0x4f9442(_0xad9eb7,_0x4d583a){return _0x72004d(_0x4d583a,_0xad9eb7- -0x1ac);}const _0x5f255d=this['scene'][_0x4830f4(0xf9,0x165)]*0.3;_0x73dc2b<_0x5f255d&&(_0x73dc2b=_0x5f255d),this['viewerParameters'][_0x4f9442(0x31e,0x311)]=_0x73dc2b;}}mars3d__namespace[_0x72004d(0x520,0x549)][_0x4f97ab(0xf7,0x79)](_0x4f97ab(0x11,-0x28),WindLayer),mars3d__namespace[_0x4f97ab(0x3d,-0xb)][_0x72004d(0x4e2,0x525)]=WindLayer;class CanvasParticle{constructor(){function _0x3d2e7b(_0x1c273e,_0x30f095){return _0x72004d(_0x1c273e,_0x30f095-0x109);}this[_0x3d2e7b(0x5b5,0x5d7)]=null,this[_0x3c20ae(0x600,0x5f2)]=null,this['tlng']=null,this[_0x3d2e7b(0x604,0x592)]=null;function _0x3c20ae(_0x3762bc,_0x5ea892){return _0x72004d(_0x5ea892,_0x3762bc-0xb5);}this['age']=null,this['speed']=null;}[_0x4f97ab(-0x53,0x3)](){for(const _0x3310a3 in this){delete this[_0x3310a3];}}}class CanvasWindField{constructor(_0x173828){this['setOptions'](_0x173828);}get['speedRate'](){return this['_speedRate'];}set[_0x72004d(0x48a,0x4d1)](_0x386470){function _0x28df1b(_0x383107,_0x4dd2a8){return _0x4f97ab(_0x383107,_0x4dd2a8-0x1ad);}this['_speedRate']=(0x64-(_0x386470>0x63?0x63:_0x386470))*0x64;function _0x4fb831(_0x15f573,_0x57b69e){return _0x72004d(_0x57b69e,_0x15f573- -0x28e);}this[_0x4fb831(0x1de,0x21b)]=[(this['xmax']-this[_0x28df1b(0x298,0x231)])/this['_speedRate'],(this[_0x28df1b(0x21c,0x2a4)]-this['ymin'])/this[_0x28df1b(0x2ce,0x29b)]];}get[_0x4f97ab(0x95,0x90)](){function _0x4451f9(_0x547abd,_0x4a93c1){return _0x72004d(_0x547abd,_0x4a93c1-0xa3);}return this[_0x4451f9(0x511,0x528)];}set[_0x72004d(0x47b,0x4e3)](_0x494459){this['_maxAge']=_0x494459;}['setOptions'](_0xaed696){this[_0x3ea239(0x625,0x5b1)]=_0xaed696,this['maxAge']=_0xaed696['maxAge']||0x78,this['speedRate']=_0xaed696['speedRate']||0x32,this[_0x3ea239(0x5d9,0x575)]=[];function _0x1f10df(_0x4e3247,_0x3c37cf){return _0x4f97ab(_0x4e3247,_0x3c37cf- -0xd);}function _0x3ea239(_0xfe90ef,_0xbecb00){return _0x4f97ab(_0xbecb00,_0xfe90ef-0x57f);}const _0xb73460=_0xaed696[_0x3ea239(0x5a8,0x593)]||0x1000;for(let _0x775920=0x0;_0x775920<_0xb73460;_0x775920++){const _0x2f3662=this[_0x3ea239(0x5ba,0x583)](new CanvasParticle());this['particles']['push'](_0x2f3662);}}['setDate'](_0x4962da){this[_0x246cc0(0x56c,0x5f2)]=_0x4962da['rows'],this[_0x246cc0(0x5fc,0x626)]=_0x4962da['cols'];function _0x34bddf(_0x485647,_0x5f3b07){return _0x72004d(_0x485647,_0x5f3b07-0x7d);}this[_0x34bddf(0x4cf,0x554)]=_0x4962da[_0x34bddf(0x559,0x554)],this['xmax']=_0x4962da['xmax'],this['ymin']=_0x4962da['ymin'],this[_0x34bddf(0x657,0x5c7)]=_0x4962da[_0x246cc0(0x683,0x69d)],this['grid']=[];const _0x1fd098=_0x4962da['udata'],_0x5332fb=_0x4962da[_0x246cc0(0x5ad,0x5c4)];function _0x246cc0(_0x248c2f,_0x50cbaf){return _0x4f97ab(_0x248c2f,_0x50cbaf-0x5a6);}let _0x5144a0=![];_0x1fd098['length']===this['rows']&&_0x1fd098[0x0][_0x34bddf(0x556,0x4d1)]===this['cols']&&(_0x5144a0=!![]);let _0x2d32d9=0x0,_0xffb146=null,_0xc953f2=null;for(let _0x3bdf7c=0x0;_0x3bdf7c<this[_0x246cc0(0x5be,0x5f2)];_0x3bdf7c++){_0xffb146=[];for(let _0x327f4a=0x0;_0x327f4a<this[_0x34bddf(0x5bf,0x550)];_0x327f4a++,_0x2d32d9++){_0x5144a0?_0xc953f2=this['_calcUV'](_0x1fd098[_0x3bdf7c][_0x327f4a],_0x5332fb[_0x3bdf7c][_0x327f4a]):_0xc953f2=this['_calcUV'](_0x1fd098[_0x2d32d9],_0x5332fb[_0x2d32d9]),_0xffb146['push'](_0xc953f2);}this[_0x34bddf(0x513,0x566)]['push'](_0xffb146);}this['options']['reverseY']&&this['grid']['reverse']();}['clear'](){delete this['rows'],delete this[_0x4255e1(0x46b,0x4a1)],delete this['xmin'],delete this[_0x1a174e(0x60a,0x5b3)],delete this['ymin'],delete this['ymax'];function _0x4255e1(_0x353901,_0x1986b1){return _0x4f97ab(_0x1986b1,_0x353901-0x3eb);}delete this['grid'];function _0x1a174e(_0x483647,_0x3a9e15){return _0x72004d(_0x483647,_0x3a9e15-0x75);}delete this['particles'];}[_0x72004d(0x574,0x4f6)](_0x38fd11,_0x25cea7){const _0x5a3816=(_0x38fd11-this['xmin'])/(this[_0x4d5e49(0x27c,0x269)]-this['xmin'])*(this[_0xa5f888(0xff,0x10d)]-0x1);function _0x4d5e49(_0xee3d0f,_0x208e28){return _0x72004d(_0x208e28,_0xee3d0f- -0x2c2);}function _0xa5f888(_0x148e53,_0x58f66a){return _0x72004d(_0x148e53,_0x58f66a- -0x3c6);}const _0x348ea5=(this[_0x4d5e49(0x288,0x2bd)]-_0x25cea7)/(this['ymax']-this['ymin'])*(this['rows']-0x1);return[_0x5a3816,_0x348ea5];}['getUVByXY'](_0x55edf8,_0x14d551){if(_0x55edf8<0x0||_0x55edf8>=this[_0x391ab3(0x4b8,0x505)]||_0x14d551>=this['rows'])return[0x0,0x0,0x0];const _0x18d9ee=Math['floor'](_0x55edf8),_0x2b5e79=Math['floor'](_0x14d551);if(_0x18d9ee===_0x55edf8&&_0x2b5e79===_0x14d551)return this['grid'][_0x14d551][_0x55edf8];const _0x1780c3=_0x18d9ee+0x1,_0x1db153=_0x2b5e79+0x1,_0x469b81=this[_0x391ab3(0x4eb,0x46c)](_0x18d9ee,_0x2b5e79),_0x2b99e1=this['getUVByXY'](_0x1780c3,_0x2b5e79);function _0x4c3c8c(_0x8e0292,_0x5bd6a5){return _0x72004d(_0x5bd6a5,_0x8e0292-0xe2);}function _0x391ab3(_0x21ce11,_0x103ef2){return _0x72004d(_0x103ef2,_0x21ce11- -0x1b);}const _0x1b370a=this['getUVByXY'](_0x18d9ee,_0x1db153),_0x2923dd=this[_0x4c3c8c(0x5e8,0x5c4)](_0x1780c3,_0x1db153);let _0x2d06cb=null;try{_0x2d06cb=this['_bilinearInterpolation'](_0x55edf8-_0x18d9ee,_0x14d551-_0x2b5e79,_0x469b81,_0x2b99e1,_0x1b370a,_0x2923dd);}catch(_0x2dd353){console['log'](_0x55edf8,_0x14d551);}return _0x2d06cb;}[_0x4f97ab(0x9e,0x86)](_0x243be9,_0x485467,_0x336f2c,_0x579402,_0x43abcc,_0x4fc9b8){const _0x49b207=0x1-_0x243be9,_0x120293=0x1-_0x485467,_0x5bcdc6=_0x49b207*_0x120293,_0x3e559c=_0x243be9*_0x120293,_0x5dde39=_0x49b207*_0x485467,_0x4d09e6=_0x243be9*_0x485467,_0x22d150=_0x336f2c[0x0]*_0x5bcdc6+_0x579402[0x0]*_0x3e559c+_0x43abcc[0x0]*_0x5dde39+_0x4fc9b8[0x0]*_0x4d09e6,_0x466f91=_0x336f2c[0x1]*_0x5bcdc6+_0x579402[0x1]*_0x3e559c+_0x43abcc[0x1]*_0x5dde39+_0x4fc9b8[0x1]*_0x4d09e6;return this['_calcUV'](_0x22d150,_0x466f91);}['_calcUV'](_0x1b6b46,_0x1642c0){function _0x186e4a(_0x29fa14,_0x4d1711){return _0x4f97ab(_0x29fa14,_0x4d1711- -0x11c);}return[+_0x1b6b46,+_0x1642c0,Math[_0x186e4a(-0x88,-0x59)](_0x1b6b46*_0x1b6b46+_0x1642c0*_0x1642c0)];}[_0x4f97ab(0x11d,0xb9)](_0x46e84f,_0x1fcfb1){if(!this[_0x125805(0x29c,0x272)](_0x46e84f,_0x1fcfb1))return null;const _0x59f292=this['toGridXY'](_0x46e84f,_0x1fcfb1),_0x35083e=this[_0x125805(0x324,0x30c)](_0x59f292[0x0],_0x59f292[0x1]);function _0x1d72c2(_0x106377,_0x4a88ff){return _0x72004d(_0x106377,_0x4a88ff- -0x192);}function _0x125805(_0x1e640f,_0xf49a0c){return _0x72004d(_0xf49a0c,_0x1e640f- -0x1e2);}return _0x35083e;}['isInExtent'](_0x28120f,_0xac227f){function _0x2f20b8(_0x8035ba,_0xe44a09){return _0x72004d(_0x8035ba,_0xe44a09-0x83);}return _0x28120f>=this['xmin']&&_0x28120f<=this['xmax']&&_0xac227f>=this[_0x2f20b8(0x58e,0x5bf)]&&_0xac227f<=this['ymax']?!![]:![];}['getRandomLatLng'](){const _0x215158=fRandomByfloat(this[_0x56b1c9(0x506,0x474)],this['xmax']),_0x550aae=fRandomByfloat(this[_0x1e0df2(-0x8a,-0x5d)],this['ymax']);function _0x56b1c9(_0x279eae,_0x1c915e){return _0x72004d(_0x279eae,_0x1c915e- -0x63);}function _0x1e0df2(_0x2a2689,_0x3e2961){return _0x4f97ab(_0x2a2689,_0x3e2961- -0x146);}const _0x5874ef={};return _0x5874ef[_0x56b1c9(0x476,0x4e8)]=_0x550aae,_0x5874ef['lng']=_0x215158,_0x5874ef;}['getParticles'](){let _0x7405fc,_0x5e0855,_0x2e391f;for(let _0x1816d5=0x0,_0xd8b5a6=this[_0x24fdd3(0x1fd,0x177)][_0x110fa0(0x165,0x1f6)];_0x1816d5<_0xd8b5a6;_0x1816d5++){let _0x156197=this[_0x24fdd3(0x1fd,0x25e)][_0x1816d5];_0x156197[_0x24fdd3(0x293,0x2d7)]<=0x0&&(_0x156197=this['_randomParticle'](_0x156197));if(_0x156197['age']>0x0){const _0x2d67c8=_0x156197['tlng'],_0x1de1d1=_0x156197[_0x24fdd3(0x1d9,0x218)];_0x2e391f=this[_0x24fdd3(0x25c,0x2e0)](_0x2d67c8,_0x1de1d1),_0x2e391f?(_0x7405fc=_0x2d67c8+this['_calc_speedRate'][0x0]*_0x2e391f[0x0],_0x5e0855=_0x1de1d1+this[_0x110fa0(0x17d,0x14c)][0x1]*_0x2e391f[0x1],_0x156197['lng']=_0x2d67c8,_0x156197[_0x24fdd3(0x29b,0x302)]=_0x1de1d1,_0x156197[_0x24fdd3(0x24c,0x1f5)]=_0x7405fc,_0x156197['tlat']=_0x5e0855,_0x156197[_0x110fa0(0x171,0x1b7)]=_0x2e391f[0x2],_0x156197['age']--):_0x156197['age']=0x0;}}function _0x24fdd3(_0x555de0,_0xecde2){return _0x4f97ab(_0xecde2,_0x555de0-0x1a3);}function _0x110fa0(_0x5f20d3,_0x31d5fc){return _0x4f97ab(_0x31d5fc,_0x5f20d3-0x164);}return this['particles'];}[_0x72004d(0x4bf,0x48e)](_0x55e06e){let _0x2fb659,_0x48575c;for(let _0x228062=0x0;_0x228062<0x1e;_0x228062++){_0x2fb659=this[_0x5921dd(0x2e7,0x294)](),_0x48575c=this['getUVByPoint'](_0x2fb659['lng'],_0x2fb659[_0x5579dd(0x2e3,0x31d)]);if(_0x48575c&&_0x48575c[0x2]>0x0)break;}if(!_0x48575c)return _0x55e06e;const _0x267f37=_0x2fb659[_0x5921dd(0x31b,0x342)]+this[_0x5579dd(0x204,0x27d)][0x0]*_0x48575c[0x0],_0x52e4d4=_0x2fb659[_0x5579dd(0x2e3,0x328)]+this['_calc_speedRate'][0x1]*_0x48575c[0x1];_0x55e06e[_0x5921dd(0x31b,0x343)]=_0x2fb659['lng'],_0x55e06e['lat']=_0x2fb659[_0x5579dd(0x2e3,0x2c0)],_0x55e06e[_0x5921dd(0x349,0x2cc)]=_0x267f37,_0x55e06e['tlat']=_0x52e4d4,_0x55e06e['age']=Math['round'](Math['random']()*this['maxAge']);function _0x5579dd(_0x4906c2,_0x556014){return _0x4f97ab(_0x556014,_0x4906c2-0x1eb);}function _0x5921dd(_0x1f517e,_0x38859e){return _0x4f97ab(_0x38859e,_0x1f517e-0x2a0);}return _0x55e06e['speed']=_0x48575c[0x2],_0x55e06e;}[_0x4f97ab(0x89,0x3)](){for(const _0xc8b254 in this){delete this[_0xc8b254];}}}function fRandomByfloat(_0x45c19f,_0x5c0cbe){function _0x3e5234(_0x2c7787,_0x1ca17f){return _0x72004d(_0x1ca17f,_0x2c7787- -0x49);}return _0x45c19f+Math[_0x3e5234(0x45f,0x4b5)]()*(_0x5c0cbe-_0x45c19f);}const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class CanvasWindLayer extends BaseLayer{constructor(_0x105999={}){super(_0x105999);function _0x57f4c6(_0x4e1f1e,_0x310d2c){return _0x72004d(_0x4e1f1e,_0x310d2c- -0x104);}this['_setOptionsHook'](_0x105999),this[_0x57f4c6(0x323,0x3ac)]=null,_0x105999['colors']&&_0x105999['steps']&&(this['_colorRamp']=new mars3d__namespace['ColorRamp'](_0x105999));}['_setOptionsHook'](_0x13cd71,_0x592623){this[_0x88b4f(-0x168,-0x1f6)]=0x3e8/(_0x13cd71[_0x5c0a35(0x37f,0x35e)]||0xa),this['_pointerEvents']=this['options']['pointerEvents']??![],this['color']=_0x13cd71[_0x88b4f(-0x181,-0x1ca)]||_0x5c0a35(0x414,0x3b4),this[_0x88b4f(-0x13d,-0x1b0)]=_0x13cd71['lineWidth']||0x1,this['fixedHeight']=_0x13cd71['fixedHeight']??0x0;function _0x5c0a35(_0x1403eb,_0x516653){return _0x72004d(_0x516653,_0x1403eb- -0x101);}this[_0x88b4f(-0x1e1,-0x199)]=_0x13cd71[_0x88b4f(-0x1bf,-0x199)]??![];function _0x88b4f(_0x38fb91,_0x4defac){return _0x4f97ab(_0x38fb91,_0x4defac- -0x208);}this['windField']&&this['windField']['setOptions'](_0x13cd71);}get['layer'](){function _0x2d68cb(_0x14e477,_0x70863e){return _0x72004d(_0x70863e,_0x14e477- -0x59f);}return this[_0x2d68cb(-0xef,-0xb5)];}get[_0x4f97ab(0x57,0xd0)](){function _0x53d426(_0x52ead3,_0xd8002a){return _0x4f97ab(_0x52ead3,_0xd8002a-0x129);}function _0x3d15af(_0x1e6c09,_0x153374){return _0x72004d(_0x1e6c09,_0x153374- -0x668);}return this['_map'][_0x3d15af(-0x221,-0x22e)][_0x53d426(0x145,0x186)]['clientWidth'];}get['canvasHeight'](){function _0xb368da(_0x309508,_0x10810d){return _0x4f97ab(_0x309508,_0x10810d-0x1e2);}return this['_map'][_0xb368da(0x1c8,0x1c9)]['canvas']['clientHeight'];}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x101822){this[_0x143873(0x33e,0x3a0)]=_0x101822;if(!this['canvas'])return;function _0x143873(_0x537d4e,_0x4d0597){return _0x72004d(_0x537d4e,_0x4d0597- -0xe2);}function _0x10fc82(_0x454150,_0x3183aa){return _0x4f97ab(_0x3183aa,_0x454150- -0x31);}_0x101822?this['canvas']['style'][_0x143873(0x3a1,0x365)]='all':this[_0x10fc82(0x2c,0x1f)]['style']['pointer-events']='none';}get[_0x4f97ab(-0x68,0x29)](){return this['options']['particlesNumber'];}set[_0x4f97ab(0x7f,0x29)](_0x3784de){this['options'][_0x4dd010(-0x3f,0x46)]=_0x3784de;function _0x4dd010(_0x52793f,_0x2d8b1a){return _0x4f97ab(_0x2d8b1a,_0x52793f- -0x68);}clearTimeout(this['_canrefresh']),this['_canrefresh']=setTimeout(()=>{this['redraw']();},0x1f4);}get['speedRate'](){function _0xd097f9(_0x2fb74d,_0x272078){return _0x72004d(_0x2fb74d,_0x272078- -0x112);}return this[_0xd097f9(0x420,0x3e7)]['speedRate'];}set['speedRate'](_0x373e76){function _0x456749(_0x16bd86,_0x15090b){return _0x72004d(_0x16bd86,_0x15090b- -0x57a);}function _0x203eca(_0x978291,_0x33e980){return _0x72004d(_0x33e980,_0x978291- -0x3fe);}this[_0x203eca(0xfb,0x10a)][_0x203eca(0xd3,0x133)]=_0x373e76,this['windField']&&(this['windField']['speedRate']=_0x373e76);}get['maxAge'](){return this['options']['maxAge'];}set['maxAge'](_0x383d66){this['options'][_0x1bcaac(0x322,0x2f2)]=_0x383d66;function _0x5e5fc9(_0x229360,_0x49e312){return _0x4f97ab(_0x229360,_0x49e312-0x11a);}function _0x1bcaac(_0x51515a,_0x14f8ba){return _0x72004d(_0x14f8ba,_0x51515a- -0x1c1);}this['windField']&&(this[_0x5e5fc9(0x194,0x183)][_0x5e5fc9(0x232,0x1aa)]=_0x383d66);}get['data'](){function _0x2c90cc(_0xf8dfe0,_0x38967b){return _0x4f97ab(_0x38967b,_0xf8dfe0-0x2a4);}return this[_0x2c90cc(0x2e8,0x2a6)];}set[_0x4f97ab(-0x6e,-0x21)](_0x21be1f){this['setData'](_0x21be1f);}get[_0x72004d(0x4be,0x4e4)](){let _0x191b64=this[_0x4ec87c(0x15c,0x142)][_0x36e47d(0x14e,0xf6)],_0x346d60=this['windData'][_0x4ec87c(0x203,0x296)],_0x2dfb55=this[_0x4ec87c(0x15c,0x1dc)]['ymin'],_0x5414b6=this[_0x36e47d(0xa0,0xb6)][_0x36e47d(0x1b1,0x169)];_0x346d60>=0x167&&_0x191b64===0x0&&(_0x191b64=-0xb4,_0x346d60=0xb4);_0x191b64=Math[_0x4ec87c(0x1f2,0x194)](_0x191b64,-0xb4);function _0x4ec87c(_0x25d559,_0x9ed34e){return _0x72004d(_0x9ed34e,_0x25d559- -0x33b);}_0x346d60=Math['min'](_0x346d60,0xb4),_0x2dfb55=Math['max'](_0x2dfb55,-0x5a);function _0x36e47d(_0x536771,_0x212b59){return _0x72004d(_0x536771,_0x212b59- -0x3e1);}return _0x5414b6=Math['min'](_0x5414b6,0x5a),Cesium[_0x4ec87c(0x106,0x97)][_0x36e47d(0xe8,0x129)](_0x191b64,_0x2dfb55,_0x346d60,_0x5414b6);}['_showHook'](_0x3ce596){function _0x27ec49(_0x2df8f9,_0x3ed800){return _0x4f97ab(_0x2df8f9,_0x3ed800-0x302);}function _0x3b2395(_0x49f547,_0x3486d1){return _0x72004d(_0x49f547,_0x3486d1- -0x231);}_0x3ce596?this['_addedHook']():(this[_0x27ec49(0x391,0x346)]&&(this[_0x27ec49(0x3bc,0x3a8)]['data']=this[_0x27ec49(0x3a7,0x346)]),this['_removedHook']());}[_0x72004d(0x4a2,0x4b1)](){function _0xe753ad(_0x58b078,_0x34a785){return _0x72004d(_0x58b078,_0x34a785- -0x523);}this['options']['worker']?this[_0xe753ad(-0x34,-0xb3)]():this['windField']=new CanvasWindField(this['options']);}[_0x4f97ab(0x6f,0x2a)](){function _0x55348f(_0x86ace1,_0x14fe97){return _0x4f97ab(_0x86ace1,_0x14fe97- -0x1a3);}this[_0x536a14(-0x5e,-0x25)]=this['_createCanvas']();function _0x536a14(_0x181016,_0x40e074){return _0x72004d(_0x181016,_0x40e074- -0x4d5);}const _0x57da01={};_0x57da01[_0x536a14(-0xac,-0x1a)]=!![],this[_0x536a14(0x3a,0x55)]=this['canvas'][_0x55348f(-0x100,-0x163)]('2d',_0x57da01),this['bindEvent'](),this['options'][_0x55348f(-0x24f,-0x1c4)]&&this['setData'](this['options']['data']);}[_0x4f97ab(0xef,0xab)](){this['clear']();function _0x336794(_0x2b54dd,_0x551479){return _0x4f97ab(_0x2b54dd,_0x551479-0x38e);}this['unbindEvent']();function _0x5925fc(_0x4659b8,_0x4aa7ec){return _0x72004d(_0x4659b8,_0x4aa7ec- -0x1f7);}this[_0x336794(0x3d5,0x3eb)]&&(this['_map'][_0x336794(0x36e,0x37f)][_0x336794(0x3f3,0x3ae)](this['canvas']),delete this[_0x336794(0x35c,0x3eb)]);}['_createCanvas'](){function _0x5823ea(_0x19afc8,_0xb1f518){return _0x72004d(_0xb1f518,_0x19afc8- -0x4ac);}const _0x5ade86=mars3d__namespace['DomUtil']['create'](_0x63d1c6(0x36b,0x3f2),_0x5823ea(0xe,0x9e),this['_map'][_0x63d1c6(0x2fc,0x386)]);_0x5ade86['style']['position']='absolute',_0x5ade86['style'][_0x5823ea(-0x2b,0x2b)]='0px',_0x5ade86[_0x63d1c6(0x4af,0x462)][_0x63d1c6(0x472,0x450)]='0px';function _0x63d1c6(_0x450a08,_0x13ebdd){return _0x72004d(_0x450a08,_0x13ebdd- -0xbe);}return _0x5ade86[_0x5823ea(0x74,0x29)][_0x63d1c6(0x505,0x473)]=this[_0x5823ea(0x43,-0x41)][_0x5823ea(-0x72,-0x5f)]['canvas']['clientWidth']+'px',_0x5ade86['style']['height']=this['_map']['scene']['canvas'][_0x5823ea(0x31,0x4a)]+'px',_0x5ade86[_0x63d1c6(0x46c,0x462)]['pointerEvents']=this['_pointerEvents']?_0x63d1c6(0x39d,0x40f):_0x63d1c6(0x3ec,0x40d),_0x5ade86['style']['zIndex']=this[_0x63d1c6(0x410,0x43b)][_0x63d1c6(0x4e7,0x477)]??0x9,_0x5ade86[_0x5823ea(0x85,0xa6)]=this[_0x5823ea(0x43,0x1e)]['scene']['canvas']['clientWidth'],_0x5ade86[_0x63d1c6(0x43c,0x3eb)]=this['_map']['scene'][_0x5823ea(0x4,0x29)]['clientHeight'],_0x5ade86;}['resize'](){function _0x397772(_0x381b42,_0x2f588a){return _0x4f97ab(_0x2f588a,_0x381b42-0x576);}function _0x5bff62(_0x41fa3d,_0x27efe4){return _0x4f97ab(_0x27efe4,_0x41fa3d-0x36c);}this['canvas']&&(this['canvas'][_0x397772(0x643,0x5e3)][_0x397772(0x654,0x6ae)]=this['_map'][_0x397772(0x55d,0x50b)][_0x397772(0x5d3,0x5a5)][_0x5bff62(0x390,0x34e)]+'px',this['canvas']['style']['height']=this['_map']['scene'][_0x5bff62(0x3c9,0x3e7)][_0x5bff62(0x3f6,0x3c2)]+'px',this['canvas'][_0x397772(0x654,0x6cd)]=this[_0x397772(0x612,0x653)][_0x5bff62(0x353,0x3d8)]['canvas'][_0x5bff62(0x390,0x3c0)],this['canvas']['height']=this[_0x5bff62(0x408,0x434)]['scene'][_0x397772(0x5d3,0x591)]['clientHeight']);}['bindEvent'](){const _0x496d40=this;function _0x4ab3d4(_0x5e2db9,_0x55fbe5){return _0x72004d(_0x55fbe5,_0x5e2db9- -0x8e);}let _0x229ec4=Date['now']();(function _0x78e4b8(){function _0x13bd80(_0x4e299b,_0x4689c8){return _0x5435(_0x4689c8-0x296,_0x4e299b);}if(_0x496d40['isDestroy'])return;function _0x48be02(_0x44a8ad,_0x38d7d6){return _0x5435(_0x38d7d6-0x121,_0x44a8ad);}_0x496d40['_animateFrame']=window[_0x13bd80(0x496,0x45c)](_0x78e4b8);if(_0x496d40[_0x13bd80(0x547,0x4c9)]&&_0x496d40['windField']){const _0x12bac3=Date['now'](),_0x5b3fb4=_0x12bac3-_0x229ec4;_0x5b3fb4>_0x496d40['frameTime']&&(_0x229ec4=_0x12bac3-_0x5b3fb4%_0x496d40['frameTime'],_0x496d40[_0x48be02(0x3bb,0x363)]());}}(),window[_0x4ab3d4(0x3a8,0x3fa)](_0x4ab3d4(0x42b,0x49b),this[_0x4ab3d4(0x42b,0x3a7)]['bind'](this),![]));function _0x428cfb(_0x241d60,_0x1dcfde){return _0x4f97ab(_0x1dcfde,_0x241d60-0x4df);}this[_0x4ab3d4(0x3d5,0x3c4)]=![],this['mouse_move']=![],this['options']['mouseHidden']&&(this['_map']['on'](mars3d__namespace['EventType'][_0x428cfb(0x4cb,0x47e)],this['_onMapWhellEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x4ab3d4(0x4a1,0x4ed)],this),this[_0x428cfb(0x57b,0x512)]['on'](mars3d__namespace[_0x4ab3d4(0x4be,0x543)]['mouseUp'],this[_0x428cfb(0x55b,0x599)],this));}['unbindEvent'](){window[_0x172547(0x16c,0x1f9)](this['_animateFrame']);function _0x48d8b3(_0x737ff9,_0x30973e){return _0x4f97ab(_0x30973e,_0x737ff9- -0xba);}function _0x172547(_0xf1dc3e,_0x31828e){return _0x72004d(_0xf1dc3e,_0x31828e- -0x2c8);}delete this[_0x48d8b3(-0x4f,0xa)],window['removeEventListener']('resize',this[_0x172547(0x16f,0x1f1)]),this['options']['mouseHidden']&&(this[_0x172547(0x29d,0x227)]['off'](mars3d__namespace[_0x48d8b3(0x3f,0x6b)]['wheel'],this[_0x48d8b3(-0xdf,-0x86)],this),this['_map'][_0x172547(0x2a2,0x229)](mars3d__namespace['EventType'][_0x48d8b3(0x26,0xa5)],this['_onMouseDownEvent'],this),this['_map'][_0x172547(0x2a8,0x229)](mars3d__namespace['EventType']['mouseUp'],this[_0x48d8b3(-0x3e,0x15)],this),this['_map']['off'](mars3d__namespace['EventType'][_0x48d8b3(-0x4e,-0x7b)],this[_0x48d8b3(-0xb6,-0x12e)],this));}[_0x72004d(0x39d,0x42e)](_0x4d250e){clearTimeout(this['refreshTimer']);if(!this['show']||!this['canvas'])return;this['canvas'][_0x3b5256(0x35d,0x32d)][_0x32df9c(0x3af,0x3e5)]='hidden';function _0x32df9c(_0x163f1f,_0x291d5d){return _0x72004d(_0x291d5d,_0x163f1f- -0x86);}function _0x3b5256(_0x25cabe,_0x36d3ff){return _0x4f97ab(_0x36d3ff,_0x25cabe-0x290);}this[_0x3b5256(0x2ef,0x352)]=setTimeout(()=>{function _0x42e940(_0x175f23,_0x54158c){return _0x32df9c(_0x54158c-0x11e,_0x175f23);}if(!this['show'])return;this['redraw']();function _0x4bc3d7(_0x3092b1,_0x26a0c9){return _0x32df9c(_0x3092b1- -0x36f,_0x26a0c9);}this['canvas'][_0x42e940(0x555,0x5b8)][_0x42e940(0x4a1,0x4cd)]='visible';},0xc8);}['_onMouseDownEvent'](_0x266c3a){function _0x4be3ca(_0x48b8fd,_0x5067cd){return _0x4f97ab(_0x5067cd,_0x48b8fd-0x143);}function _0x5b8829(_0xf3dbeb,_0x2c7499){return _0x72004d(_0xf3dbeb,_0x2c7499- -0x354);}this['mouse_down']=!![],this[_0x5b8829(0x1fe,0x19b)]['off'](mars3d__namespace[_0x5b8829(0x17e,0x1f8)]['mouseMove'],this[_0x4be3ca(0x147,0x144)],this),this[_0x4be3ca(0x1df,0x21f)]['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x4be3ca(0x147,0x1d5)],this);}['_onMouseMoveEvent'](_0x4ef8de){function _0x509da2(_0x572fea,_0x3ae508){return _0x4f97ab(_0x572fea,_0x3ae508-0x282);}if(!this['show']||!this[_0x51fcdb(-0x14a,-0x164)])return;function _0x51fcdb(_0x47aff4,_0x5ba8cb){return _0x72004d(_0x47aff4,_0x5ba8cb- -0x614);}this['mouse_down']&&(this[_0x51fcdb(-0x12f,-0x164)]['style']['visibility']='hidden',this[_0x51fcdb(-0x14e,-0xfd)]=!![]);}[_0x4f97ab(-0x1,0x7c)](_0x3cdee2){if(!this[_0x4e3ca8(0x1f4,0x1b5)]||!this[_0x55cb23(0x1b5,0x231)])return;function _0x4e3ca8(_0x2ff4f5,_0x28b742){return _0x4f97ab(_0x28b742,_0x2ff4f5-0x191);}function _0x55cb23(_0xf26f69,_0x5d76b3){return _0x72004d(_0x5d76b3,_0xf26f69- -0x2fb);}this[_0x55cb23(0x1f4,0x204)]['off'](mars3d__namespace[_0x4e3ca8(0x28a,0x213)]['mouseMove'],this['_onMouseMoveEvent'],this),this['mouse_down']&&this['mouse_move']&&this['redraw'](),this['canvas']['style']['visibility']=_0x55cb23(0x242,0x209),this['mouse_down']=![],this[_0x4e3ca8(0x255,0x298)]=![];}['setData'](_0x5e1099){this['clear'](),this[_0xf702b8(-0x210,-0x181)]=_0x5e1099;function _0x22b69b(_0x25ed13,_0x3d0e75){return _0x4f97ab(_0x25ed13,_0x3d0e75- -0x13f);}function _0xf702b8(_0x487844,_0x3cb201){return _0x72004d(_0x487844,_0x3cb201- -0x618);}this[_0x22b69b(-0x77,-0xd6)]['setDate'](_0x5e1099),this['redraw']();}['redraw'](){if(!this['show'])return;function _0x3e2def(_0x2cc01e,_0x56235c){return _0x72004d(_0x56235c,_0x2cc01e- -0x16e);}function _0x188f80(_0x3cfbec,_0x3b04a3){return _0x4f97ab(_0x3cfbec,_0x3b04a3-0x42f);}this[_0x3e2def(0x34e,0x32b)][_0x3e2def(0x2fa,0x267)](this['options']),this['update']();}['update'](){if(this['_updateIng'])return;this['_updateIng']=!![];function _0x4b5a3d(_0x4f0071,_0x58321d){return _0x72004d(_0x4f0071,_0x58321d- -0x649);}function _0x1beef9(_0x60e569,_0x30f5b0){return _0x72004d(_0x60e569,_0x30f5b0- -0x355);}if(this['worker'])this[_0x4b5a3d(-0x21e,-0x18d)]['update']();else{const _0x4d0b22=this[_0x4b5a3d(-0x20d,-0x18d)]['getParticles']();this['_drawLines'](_0x4d0b22);}this['_updateIng']=![];}['_drawLines'](_0x418bdf){function _0x58c7be(_0x2e5643,_0x1a1bfe){return _0x4f97ab(_0x1a1bfe,_0x2e5643-0x1af);}function _0x1f9465(_0x4394a4,_0x6fd4b1){return _0x72004d(_0x4394a4,_0x6fd4b1- -0x383);}this['_canvasParticles']=_0x418bdf,this[_0x58c7be(0x286,0x25c)][_0x1f9465(0xb8,0x135)]=_0x1f9465(0x134,0xce),this['canvasContext'][_0x1f9465(0x11a,0xa3)](0x0,0x0,this['canvasWidth'],this['canvasHeight']),this['canvasContext']['globalCompositeOperation']=_0x1f9465(0x174,0x162),this['canvasContext']['globalAlpha']=0.9;const _0xf8cd60=this['_map'][_0x1f9465(0x13f,0xb7)][_0x1f9465(0x180,0x16b)]!==Cesium[_0x1f9465(0x92,0x119)][_0x58c7be(0x265,0x2cf)],_0x17ccf0=this[_0x1f9465(0x16b,0x1a0)]*0.25;if(this['_colorRamp'])for(let _0x420add=0x0,_0x42b8bf=_0x418bdf['length'];_0x420add<_0x42b8bf;_0x420add++){const _0x1bad9d=_0x418bdf[_0x420add],_0x3f0cb4=this['_tomap'](_0x1bad9d,_0x1bad9d[_0x58c7be(0x22a,0x24c)],_0x1bad9d['lat'],_0x1bad9d['alt']),_0x412b21=this[_0x1f9465(0x1f5,0x19a)](_0x1bad9d,_0x1bad9d[_0x1f9465(0x16c,0x179)],_0x1bad9d['tlat'],_0x1bad9d[_0x58c7be(0x1bd,0x236)]);if(!_0x3f0cb4||!_0x412b21)continue;if(_0xf8cd60&&Math[_0x1f9465(0xed,0xc0)](_0x3f0cb4[0x0]-_0x412b21[0x0])>=_0x17ccf0)continue;this[_0x58c7be(0x286,0x310)][_0x58c7be(0x297,0x30d)](),this['canvasContext']['lineWidth']=this['lineWidth'],this[_0x1f9465(0x154,0x1a7)]['strokeStyle']=this['_colorRamp']['getColor'](_0x1bad9d['speed']),this[_0x1f9465(0x1a0,0x1a7)]['moveTo'](_0x3f0cb4[0x0],_0x3f0cb4[0x1]),this[_0x58c7be(0x286,0x20c)]['lineTo'](_0x412b21[0x0],_0x412b21[0x1]),this[_0x1f9465(0x176,0x1a7)]['stroke']();}else{this['canvasContext'][_0x1f9465(0x191,0x1b8)](),this[_0x1f9465(0x15b,0x1a7)]['lineWidth']=this[_0x1f9465(0x197,0x128)],this[_0x58c7be(0x286,0x2c6)][_0x58c7be(0x219,0x239)]=this['color'];for(let _0x1449af=0x0,_0x35f555=_0x418bdf[_0x58c7be(0x1b0,0x225)];_0x1449af<_0x35f555;_0x1449af++){const _0x5a633a=_0x418bdf[_0x1449af],_0x56c43f=this['_tomap'](_0x5a633a,_0x5a633a[_0x58c7be(0x22a,0x25e)],_0x5a633a['lat'],_0x5a633a['alt']),_0x3aad53=this['_tomap'](_0x5a633a,_0x5a633a[_0x1f9465(0x11e,0x179)],_0x5a633a[_0x58c7be(0x1e5,0x172)],_0x5a633a['talt']);if(!_0x56c43f||!_0x3aad53)continue;if(_0xf8cd60&&Math['abs'](_0x56c43f[0x0]-_0x3aad53[0x0])>=_0x17ccf0)continue;this[_0x58c7be(0x286,0x26e)]['moveTo'](_0x56c43f[0x0],_0x56c43f[0x1]),this[_0x58c7be(0x286,0x222)][_0x58c7be(0x190,0x18c)](_0x3aad53[0x0],_0x3aad53[0x1]);}this['canvasContext']['stroke']();}}[_0x4f97ab(0x14b,0xca)](_0x337e5f,_0x5f4c03,_0x1d9ef7,_0x36fd54){const _0xb65f66=Cesium['Cartesian3']['fromDegrees'](_0x5f4c03,_0x1d9ef7,_0x36fd54??this[_0x45338(-0x20a,-0x1f2)]);function _0x45338(_0x555955,_0x3fcd4b){return _0x4f97ab(_0x3fcd4b,_0x555955- -0x201);}const _0x2e9ef5=this['_map']['scene'];if(_0x2e9ef5[_0x45338(-0x166,-0x1d6)]===Cesium['SceneMode'][_0x45338(-0x14b,-0x1ba)]){const _0x5594d2=new Cesium[(_0x41b562(0x300,0x2a8))](_0x2e9ef5['globe']['ellipsoid'],_0x2e9ef5['camera']['positionWC']),_0x49b1da=_0x5594d2['isPointVisible'](_0xb65f66);if(!_0x49b1da)return _0x337e5f['age']=0x0,null;}const _0x4ac67f=mars3d__namespace['PointTrans'][_0x45338(-0x1a8,-0x1bd)](this[_0x45338(-0x165,-0x144)]['scene'],_0xb65f66);function _0x41b562(_0x26dd8f,_0x257454){return _0x4f97ab(_0x26dd8f,_0x257454-0x2b5);}return _0x4ac67f?[_0x4ac67f['x'],_0x4ac67f['y']]:null;}[_0x4f97ab(-0x4c,0x45)](){this['windField']['clear'](),delete this['windData'];}['initWorker'](){this['worker']=new Worker(this['options'][_0x1b231c(-0x2,0x1)]),this['worker']['onmessage']=_0x4fe617=>{function _0x1cb97b(_0x29ca18,_0x19c0a6){return _0x1b231c(_0x19c0a6-0x5db,_0x29ca18);}this['_drawLines'](_0x4fe617['data']['particles']),this[_0x1cb97b(0x613,0x5d3)]=![];};function _0x1b231c(_0x565f77,_0x18bf9d){return _0x72004d(_0x18bf9d,_0x565f77- -0x49d);}function _0x3bf60e(_0x4fb10c,_0x19f7ce){return _0x4f97ab(_0x19f7ce,_0x4fb10c- -0x139);}this['windField']={'init':_0x3aef73=>{const _0x28318b={};function _0x22ed27(_0xa63269,_0x26e3ff){return _0x1b231c(_0xa63269- -0x150,_0x26e3ff);}_0x28318b['type']=_0x1a5273(0x114,0xae),_0x28318b[_0x1a5273(0x14f,0xbd)]=_0x3aef73;function _0x1a5273(_0x26c942,_0x359a90){return _0x1b231c(_0x359a90-0x61,_0x26c942);}this[_0x22ed27(-0x152,-0x110)]['postMessage'](_0x28318b);},'setOptions':_0x260f41=>{function _0x5ae383(_0x17b73b,_0x1b127c){return _0x1b231c(_0x1b127c-0x197,_0x17b73b);}function _0x16e05c(_0x172b84,_0x55fc3){return _0x1b231c(_0x172b84-0x4c,_0x55fc3);}const _0x474346={};_0x474346[_0x16e05c(0xd8,0xc3)]=_0x16e05c(0x17,-0x60),_0x474346[_0x16e05c(0xa8,0xbf)]=_0x260f41,this[_0x5ae383(0x18c,0x195)]['postMessage'](_0x474346);},'setDate':_0x1bd649=>{const _0x4d9366={};_0x4d9366['type']='setDate',_0x4d9366['data']=_0x1bd649;function _0x541515(_0x5bd5e3,_0x2e57ab){return _0x1b231c(_0x2e57ab-0x1cf,_0x5bd5e3);}function _0xac85e1(_0x177f89,_0x4626e7){return _0x1b231c(_0x4626e7- -0x12a,_0x177f89);}this[_0xac85e1(-0x12c,-0x12c)][_0x541515(0x14c,0x199)](_0x4d9366);},'update':()=>{if(this[_0x2dd99e(0x15c,0xf1)])return;function _0x2dd99e(_0x377582,_0x514ab2){return _0x1b231c(_0x377582-0x164,_0x514ab2);}this[_0x45456b(0x36c,0x381)]=!![];const _0x1de1bf={};_0x1de1bf['type']='update';function _0x45456b(_0x311657,_0x1e8f22){return _0x1b231c(_0x1e8f22-0x389,_0x311657);}this['worker'][_0x2dd99e(0x12e,0xe9)](_0x1de1bf);},'clear':()=>{const _0x53dce7={};_0x53dce7['type']='clear',this['worker']['postMessage'](_0x53dce7);}},this[_0x1b231c(0x1f,-0x29)]['init'](this[_0x3bf60e(-0x93,-0x93)]);}}mars3d__namespace['LayerUtil'][_0x4f97ab(0x9c,0x79)]('canvasWind',CanvasWindLayer),mars3d__namespace[_0x72004d(0x494,0x448)][_0x72004d(0x459,0x464)]=CanvasWindLayer,mars3d__namespace['CanvasWindField']=CanvasWindField,mars3d__namespace['WindUtil']=WindUtil,exports['CanvasWindField']=CanvasWindField,exports[_0x4f97ab(-0x37,0x11)]=CanvasWindLayer;function _0x72004d(_0x31bf43,_0x11aa22){return _0x5435(_0x11aa22-0x283,_0x31bf43);}exports['WindLayer']=WindLayer,exports['WindUtil']=WindUtil;const _0xa0ea94={};_0xa0ea94['value']=!![],Object['defineProperty'](exports,_0x72004d(0x491,0x4c6),_0xa0ea94);
}));
