/**
 * Mars3D平台插件,支持气象 风向图 功能插件  mars3d-wind
 *
 * 版本信息：v3.8.7
 * 编译日期：2024-11-14 18:38
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2024-08-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-wind"] = {}, global.mars3d));
})(this, (function (exports, mars3d) { 
'use strict';(function(_0x12ffa5,_0x308107){function _0x406326(_0x47e506,_0x141bed){return _0x196a(_0x47e506-0x13e,_0x141bed);}const _0x519439=_0x12ffa5();function _0xd4cad5(_0x2a4ab7,_0x570172){return _0x196a(_0x2a4ab7-0x2a4,_0x570172);}while(!![]){try{const _0x280b94=-parseInt(_0x406326(0x27b,0x2a3))/0x1+-parseInt(_0x406326(0x2bf,0x23c))/0x2*(-parseInt(_0x406326(0x27d,0x26d))/0x3)+parseInt(_0x406326(0x305,0x2fe))/0x4+parseInt(_0xd4cad5(0x39e,0x335))/0x5+parseInt(_0x406326(0x319,0x311))/0x6+-parseInt(_0x406326(0x226,0x1de))/0x7*(-parseInt(_0xd4cad5(0x3c0,0x419))/0x8)+-parseInt(_0x406326(0x2fc,0x2ba))/0x9;if(_0x280b94===_0x308107)break;else _0x519439['push'](_0x519439['shift']());}catch(_0x44ed99){_0x519439['push'](_0x519439['shift']());}}}(_0x33ef,0x79621));function _interopNamespace(_0x3574cf){function _0x2e0916(_0xdf2a57,_0x50ca19){return _0x196a(_0x50ca19-0x46,_0xdf2a57);}if(_0x3574cf&&_0x3574cf[_0x2e0916(0x257,0x1d1)])return _0x3574cf;var _0x34eab6=Object['create'](null);function _0x5d13a7(_0x29e727,_0x12693a){return _0x196a(_0x29e727- -0x297,_0x12693a);}return _0x3574cf&&Object['keys'](_0x3574cf)['forEach'](function(_0x59951b){function _0x7c1b72(_0x16510c,_0x56fa2d){return _0x2e0916(_0x16510c,_0x56fa2d-0x32a);}if(_0x59951b!=='default'){var _0x541a9b=Object['getOwnPropertyDescriptor'](_0x3574cf,_0x59951b);Object['defineProperty'](_0x34eab6,_0x59951b,_0x541a9b[_0x7c1b72(0x561,0x4fc)]?_0x541a9b:{'enumerable':!![],'get':function(){return _0x3574cf[_0x59951b];}});}}),_0x34eab6[_0x2e0916(0x1a0,0x1e6)]=_0x3574cf,_0x34eab6;}var mars3d__namespace=_interopNamespace(mars3d);const Cesium$7=mars3d__namespace[_0x40fcd4(0x519,0x4ae)];function getU(_0x8e4c95,_0x25a41b){const _0x5b413f=_0x8e4c95*Math['cos'](Cesium$7['Math']['toRadians'](_0x25a41b));return _0x5b413f;}function getV(_0x5bf0ea,_0x43ae65){const _0x3f01e1=_0x5bf0ea*Math[_0x1d5b0f(0x52f,0x537)](Cesium$7['Math'][_0x1d5b0f(0x470,0x453)](_0x43ae65));function _0x1d5b0f(_0x56f814,_0x301f1d){return _0x40fcd4(_0x301f1d,_0x56f814- -0x53);}function _0x1e8406(_0x5a07e0,_0x27b9e1){return _0x40fcd4(_0x27b9e1,_0x5a07e0- -0x5ef);}return _0x3f01e1;}function getSpeed(_0xfe959c,_0x347326){const _0x19acd2=Math['sqrt'](Math['pow'](_0xfe959c,0x2)+Math['pow'](_0x347326,0x2));return _0x19acd2;}function getDirection(_0x1e1b71,_0x437347){function _0x1b5e02(_0x2024ba,_0x3454bc){return _0x40fcd4(_0x2024ba,_0x3454bc-0x21);}function _0x42be42(_0x3754e7,_0x85e2e4){return _0x40fcd4(_0x3754e7,_0x85e2e4- -0x61c);}let _0x124365=Cesium$7['Math'][_0x42be42(-0x16f,-0x155)](Math[_0x1b5e02(0x418,0x4a9)](_0x437347,_0x1e1b71));return _0x124365+=_0x124365<0x0?0x168:0x0,_0x124365;}const _0x189a0d={};function _0x196a(_0x3a1123,_0x59ceef){const _0x33ef39=_0x33ef();return _0x196a=function(_0x196a5c,_0x2455e5){_0x196a5c=_0x196a5c-0xe8;let _0x2e3bc5=_0x33ef39[_0x196a5c];return _0x2e3bc5;},_0x196a(_0x3a1123,_0x59ceef);}_0x189a0d[_0x40fcd4(0x5ac,0x5a3)]=null,_0x189a0d[_0x40fcd4(0x532,0x4f3)]=getU,_0x189a0d['getV']=getV,_0x189a0d['getSpeed']=getSpeed,_0x189a0d['getDirection']=getDirection;var WindUtil=_0x189a0d;const Cesium$6=mars3d__namespace['Cesium'];class CustomPrimitive{constructor(_0x3894e4){this[_0x28c716(0x51,0x8d)]=_0x3894e4['commandType'],this[_0x28c716(0x7,0x68)]=_0x3894e4['geometry'];function _0x35afda(_0x24aea5,_0x2e8863){return _0x13fce6(_0x24aea5- -0x517,_0x2e8863);}this[_0x28c716(-0x1d,-0x8c)]=_0x3894e4['attributeLocations'],this['primitiveType']=_0x3894e4['primitiveType'],this[_0x35afda(0x2b,-0x5d)]=_0x3894e4['uniformMap'],this['vertexShaderSource']=_0x3894e4['vertexShaderSource'],this[_0x35afda(0x1b,0x14)]=_0x3894e4['fragmentShaderSource'],this['rawRenderState']=_0x3894e4['rawRenderState'],this['framebuffer']=_0x3894e4['framebuffer'],this['outputTexture']=_0x3894e4['outputTexture'],this['autoClear']=_0x3894e4['autoClear']??![],this['preExecute']=_0x3894e4['preExecute'],this[_0x28c716(0x33,0x2d)]=!![],this[_0x35afda(-0x79,-0xec)]=undefined,this['clearCommand']=undefined;function _0x28c716(_0x537a09,_0x490386){return _0x40fcd4(_0x490386,_0x537a09- -0x4ef);}this['autoClear']&&(this['clearCommand']=new Cesium$6[(_0x35afda(0x64,0x3c))]({'color':new Cesium$6['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0x28c716(0x2e,0xaa)],'pass':Cesium$6[_0x28c716(-0xf,-0x60)]['OPAQUE']}));}[_0x13fce6(0x573,0x5a9)](_0x1d851d){function _0x542c29(_0x56ea42,_0x5eb29f){return _0x13fce6(_0x56ea42- -0x599,_0x5eb29f);}function _0x4869ff(_0x10afe2,_0x3d289d){return _0x40fcd4(_0x3d289d,_0x10afe2- -0x463);}switch(this[_0x542c29(-0x85,-0x6e)]){case'Draw':{const _0x23ecd2=Cesium$6[_0x4869ff(0x53,-0x3f)]['fromGeometry']({'context':_0x1d851d,'geometry':this['geometry'],'attributeLocations':this[_0x4869ff(0x6f,0x78)],'bufferUsage':Cesium$6[_0x542c29(-0xce,-0x128)]['STATIC_DRAW']}),_0x57d484={};_0x57d484['context']=_0x1d851d,_0x57d484['attributeLocations']=this['attributeLocations'],_0x57d484[_0x4869ff(0x43,0x2a)]=this[_0x542c29(-0x11f,-0x111)],_0x57d484[_0x542c29(-0x67,-0x48)]=this['fragmentShaderSource'];const _0x1efb39=Cesium$6['ShaderProgram'][_0x4869ff(0x4c,0xd9)](_0x57d484),_0x30890c=Cesium$6[_0x4869ff(0xfd,0x156)]['fromCache'](this[_0x4869ff(0x2f,0x3e)]);return new Cesium$6['DrawCommand']({'owner':this,'vertexArray':_0x23ecd2,'primitiveType':this['primitiveType'],'uniformMap':this['uniformMap'],'modelMatrix':Cesium$6['Matrix4']['IDENTITY'],'shaderProgram':_0x1efb39,'framebuffer':this['framebuffer'],'renderState':_0x30890c,'pass':Cesium$6[_0x4869ff(0x7d,0x60)]['OPAQUE']});}case'Compute':{const _0x564b0f={};return _0x564b0f['owner']=this,_0x564b0f[_0x4869ff(0xfb,0x139)]=this['fragmentShaderSource'],_0x564b0f['uniformMap']=this[_0x4869ff(0x10b,0x16c)],_0x564b0f['outputTexture']=this[_0x542c29(-0x87,0x2)],_0x564b0f['persists']=!![],new Cesium$6['ComputeCommand'](_0x564b0f);}}}[_0x40fcd4(0x4eb,0x4f9)](_0x4a50d6,_0x494a57){function _0x42188c(_0x187739,_0x157ab7){return _0x40fcd4(_0x187739,_0x157ab7- -0x1ec);}this['geometry']=_0x494a57;const _0x439fa7=Cesium$6['VertexArray'][_0x42188c(0x39d,0x37f)]({'context':_0x4a50d6,'geometry':this['geometry'],'attributeLocations':this['attributeLocations'],'bufferUsage':Cesium$6['BufferUsage'][_0x42188c(0x37d,0x2f9)]});function _0x533877(_0x125ca9,_0x43c2a9){return _0x13fce6(_0x125ca9- -0x4d7,_0x43c2a9);}this['commandToExecute'][_0x42188c(0x2c5,0x2e0)]=_0x439fa7;}[_0x40fcd4(0x44f,0x48a)](_0x414c08){if(!this['show'])return;if(_0x414c08[_0x2c1765(0x2d6,0x250)]!==Cesium$6['SceneMode']['SCENE3D'])return;!Cesium$6[_0x2c1765(0x294,0x213)](this['commandToExecute'])&&(this['commandToExecute']=this['createCommand'](_0x414c08['context']));Cesium$6['defined'](this[_0x2c1765(0x227,0x20c)])&&this[_0x2c1765(0x227,0x1ef)]();Cesium$6['defined'](this['clearCommand'])&&_0x414c08['commandList'][_0x2c1765(0x1ce,0x235)](this['clearCommand']);function _0x2b250f(_0x2404b7,_0xe9111b){return _0x13fce6(_0x2404b7- -0xb1,_0xe9111b);}function _0x2c1765(_0x4743a6,_0xd8ccb9){return _0x13fce6(_0x4743a6- -0x293,_0xd8ccb9);}_0x414c08['commandList'][_0x2b250f(0x3b0,0x33e)](this['commandToExecute']);}[_0x40fcd4(0x5bc,0x579)](){return![];}['destroy'](){if(this['clearCommand']){var _0x5b5088,_0x4807cd;(_0x5b5088=this['clearCommand'])!==null&&_0x5b5088!==void 0x0&&_0x5b5088['vertexArray']&&this[_0x34b403(-0x1d,-0xa9)][_0x34b403(-0x59,-0x26)][_0x3bb2df(0xef,0xf6)](),(_0x4807cd=this[_0x34b403(-0x1d,-0x63)])!==null&&_0x4807cd!==void 0x0&&_0x4807cd[_0x34b403(-0x27,0x3b)]&&this['clearCommand'][_0x34b403(-0x27,-0xba)][_0x34b403(-0x78,-0x74)](),delete this['clearCommand'];}function _0x3bb2df(_0x1d7860,_0x215643){return _0x13fce6(_0x215643- -0x38b,_0x1d7860);}function _0x34b403(_0x17c1d1,_0x45e71f){return _0x13fce6(_0x17c1d1- -0x4f9,_0x45e71f);}return this['commandToExecute']&&(this['commandToExecute'][_0x34b403(-0x59,-0xab)]&&this['commandToExecute']['vertexArray'][_0x34b403(-0x78,-0x3b)](),this['commandToExecute']['shaderProgram']&&this['commandToExecute'][_0x3bb2df(0x186,0x147)]['destroy'](),delete this['commandToExecute']),Cesium$6['destroyObject'](this);}}const Cesium$5=mars3d__namespace['Cesium'],Util=(function(){const _0x14a948=function(){function _0x25ada7(_0x49eed9,_0x75801e){return _0x196a(_0x49eed9- -0x392,_0x75801e);}function _0x440984(_0x357f6d,_0x1fbaa7){return _0x196a(_0x357f6d-0x104,_0x1fbaa7);}const _0xccb855=new Cesium$5['Geometry']({'attributes':new Cesium$5['GeometryAttributes']({'position':new Cesium$5[(_0x25ada7(-0x1a5,-0x193))]({'componentDatatype':Cesium$5[_0x25ada7(-0x2a1,-0x260)]['FLOAT'],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new Cesium$5['GeometryAttribute']({'componentDatatype':Cesium$5[_0x440984(0x1f5,0x1b9)]['FLOAT'],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});return _0xccb855;},_0x3340d0=function(_0x4b44ad,_0x4520d0){if(Cesium$5['defined'](_0x4520d0)){const _0x241101={};_0x241101[_0x4b17ac(0x32d,0x29c)]=_0x4520d0,_0x4b44ad['source']=_0x241101;}const _0x49e7f9=new Cesium$5[(_0x64fc73(0x138,0x114))](_0x4b44ad);function _0x4b17ac(_0x5b24a5,_0x644516){return _0x196a(_0x644516-0x12d,_0x5b24a5);}function _0x64fc73(_0xe257f3,_0x472c38){return _0x196a(_0x472c38- -0x75,_0xe257f3);}return _0x49e7f9;},_0xe54077=function(_0x3aab6a,_0xfb051e,_0x587d16){const _0x33bf8d={};_0x33bf8d['context']=_0x3aab6a,_0x33bf8d['colorTextures']=[_0xfb051e],_0x33bf8d['depthTexture']=_0x587d16;const _0xb605ac=new Cesium$5['Framebuffer'](_0x33bf8d);return _0xb605ac;},_0x313a2e=function(_0x1c593a){const _0x3c52f7=!![],_0x5763ae=![],_0x215823={};_0x215823['viewport']=_0x1c593a['viewport'],_0x215823['depthTest']=_0x1c593a[_0x332c66(-0xf,0x7d)];function _0x52eebf(_0x533034,_0x5c4378){return _0x196a(_0x533034-0x5d,_0x5c4378);}function _0x332c66(_0x46b488,_0x2b72ef){return _0x196a(_0x46b488- -0x1c8,_0x2b72ef);}_0x215823[_0x52eebf(0x243,0x277)]=_0x1c593a[_0x52eebf(0x243,0x1ee)],_0x215823[_0x332c66(-0x1b,-0x2c)]=_0x1c593a['blending'];const _0x570ed6=_0x215823,_0x262154=Cesium$5['Appearance'][_0x332c66(-0x55,-0xac)](_0x3c52f7,_0x5763ae,_0x570ed6);return _0x262154;};function _0x270924(_0x8a7010,_0x25ca7c){return _0x13fce6(_0x25ca7c- -0x279,_0x8a7010);}const _0x57c589=function(_0x281a8a){const _0x3954fb={},_0x5f5c05=Cesium$5['Math'][_0x5eaa98(0x211,0x22c)](_0x281a8a['west'],Cesium$5['Math'][_0x1f17d0(-0x47,-0xaf)]),_0x2e3bb4=Cesium$5[_0x1f17d0(-0x85,-0x4a)]['mod'](_0x281a8a[_0x1f17d0(-0x12c,-0xb8)],Cesium$5[_0x5eaa98(0x254,0x1f8)]['TWO_PI']),_0x294a64=_0x281a8a['width'];function _0x1f17d0(_0x2bcdee,_0x4d1c60){return _0x196a(_0x4d1c60- -0x1da,_0x2bcdee);}let _0x144963,_0x39d157;_0x294a64>Cesium$5['Math'][_0x5eaa98(0x1ae,0x1f2)]?(_0x144963=0x0,_0x39d157=Cesium$5[_0x5eaa98(0x249,0x1f8)][_0x1f17d0(-0x13a,-0xaf)]):_0x2e3bb4-_0x5f5c05<_0x294a64?(_0x144963=_0x5f5c05,_0x39d157=_0x5f5c05+_0x294a64):(_0x144963=_0x5f5c05,_0x39d157=_0x2e3bb4);_0x3954fb[_0x1f17d0(-0x1c,0x5)]={'min':Cesium$5['Math']['toDegrees'](_0x144963),'max':Cesium$5['Math']['toDegrees'](_0x39d157)};function _0x5eaa98(_0x1e4fd1,_0x35d1c2){return _0x196a(_0x35d1c2-0x68,_0x1e4fd1);}const _0x634b7f=_0x281a8a['south'],_0x52102d=_0x281a8a[_0x5eaa98(0x263,0x263)],_0x457ed4=_0x281a8a['height'],_0x96e70a=_0x457ed4>Cesium$5['Math']['PI']/0xc?_0x457ed4/0x2:0x0;let _0x1a070f=Cesium$5[_0x1f17d0(-0x89,-0x4a)]['clampToLatitudeRange'](_0x634b7f-_0x96e70a),_0x3e61b8=Cesium$5[_0x5eaa98(0x1d3,0x1f8)]['clampToLatitudeRange'](_0x52102d+_0x96e70a);return _0x1a070f<-Cesium$5[_0x5eaa98(0x20c,0x1f8)][_0x5eaa98(0x216,0x1b4)]&&(_0x1a070f=-Cesium$5['Math'][_0x1f17d0(0x9,-0x6)]),_0x3e61b8>Cesium$5[_0x1f17d0(0x9,-0x4a)][_0x1f17d0(-0xf3,-0x8e)]&&(_0x3e61b8=Cesium$5['Math']['PI_OVER_TWO']),_0x3954fb[_0x1f17d0(-0xc1,-0x75)]={'min':Cesium$5[_0x1f17d0(-0x71,-0x4a)]['toDegrees'](_0x1a070f),'max':Cesium$5[_0x5eaa98(0x217,0x1f8)][_0x1f17d0(-0x65,-0xb0)](_0x3e61b8)},_0x3954fb;},_0x4f0403={};_0x4f0403[_0xb748aa(0x319,0x2f8)]=_0x14a948,_0x4f0403['createTexture']=_0x3340d0,_0x4f0403[_0xb748aa(0x2ea,0x346)]=_0xe54077;function _0xb748aa(_0x3fcdf9,_0x2a7d53){return _0x13fce6(_0x3fcdf9- -0x201,_0x2a7d53);}return _0x4f0403['createRawRenderState']=_0x313a2e,_0x4f0403['viewRectangleToLonLatRange']=_0x57c589,_0x4f0403;}());var fullscreenVert='#version\x20300\x20es\x0a\x0ain\x20vec3\x20position;\x0ain\x20vec2\x20st;\x0a\x0aout\x20vec2\x20textureCoordinate;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20textureCoordinate\x20=\x20st;\x0a\x20\x20gl_Position\x20=\x20vec4(position,\x201.0f);\x0a}\x0a',screenDrawFrag='#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20trailsColorTexture;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(trailsColorTexture,\x20textureCoordinate);\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20trailsColor;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a',segmentDrawFrag='#version\x20300\x20es\x0a\x0auniform\x20sampler2D\x20colorTable;\x0auniform\x20bool\x20colour;\x0a\x0ain\x20float\x20heightNormalization;\x0ain\x20float\x20speedNormalization;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20const\x20float\x20zero\x20=\x200.0f;\x0a\x20\x20if(speedNormalization\x20>\x20zero)\x20{\x0a\x20\x20\x20\x20if(colour)\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(heightNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20fragColor\x20=\x20texture(colorTable,\x20vec2(speedNormalization,\x20zero));\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(zero);\x0a\x20\x20}\x0a}\x0a',segmentDrawVert='#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20lines\x20drawing\x0ain\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0auniform\x20vec2\x20hRange;\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0a\x0auniform\x20sampler2D\x20previousParticlesPosition;\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0astruct\x20adjacentPoints\x20{\x0a\x20\x20vec4\x20previous;\x0a\x20\x20vec4\x20current;\x0a\x20\x20vec4\x20next;\x0a};\x0a\x0aout\x20float\x20heightNormalization;\x0aout\x20float\x20speedNormalization;\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20read\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x0a\x20\x20float\x20a\x20=\x206378137.0f;\x20//\x20Semi-major\x20axis\x0a\x20\x20float\x20b\x20=\x206356752.3142f;\x20//\x20Semi-minor\x20axis\x0a\x20\x20float\x20e2\x20=\x206.69437999014e-3f;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0f\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20float\x20h\x20=\x20particleHeight\x20+\x20lonLatLev.z;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0f);\x0a\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calculateProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0f,\x20360.0f)\x20-\x20180.0f;\x0a\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0f);\x0a\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calculateOffsetOnNormalDirection(vec4\x20pointA,\x20vec4\x20pointB,\x20float\x20offsetSign)\x20{\x0a\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0f);\x0a\x20\x20vec2\x20pointA_XY\x20=\x20(pointA.xy\x20/\x20pointA.w)\x20*\x20aspectVec2;\x0a\x20\x20vec2\x20pointB_XY\x20=\x20(pointB.xy\x20/\x20pointB.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0f;\x0a\x20\x20vec2\x20direction\x20=\x20normalize(pointB_XY\x20-\x20pointA_XY);\x0a\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0f,\x200.0f);\x0a\x20\x20return\x20offset;\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(speed.z\x20-\x20wSpeedRange.x)\x20/\x20(wSpeedRange.y\x20-\x20wSpeedRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20vec3\x20previousPosition\x20=\x20texture(previousParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20currentPosition\x20=\x20texture(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20vec3\x20nextPosition\x20=\x20texture(postProcessingPosition,\x20particleIndex).rgb;\x0a\x0a\x20\x20float\x20isAnyRandomPointUsed\x20=\x20texture(postProcessingPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(currentParticlesPosition,\x20particleIndex).a\x20+\x0a\x20\x20\x20\x20texture(previousParticlesPosition,\x20particleIndex).a;\x0a\x0a\x20\x20adjacentPoints\x20projectedCoordinates;\x0a\x20\x20if(isAnyRandomPointUsed\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20projectedCoordinates.previous;\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20projectedCoordinates.previous;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20projectedCoordinates.previous\x20=\x20calculateProjectedCoordinate(previousPosition);\x0a\x20\x20\x20\x20projectedCoordinates.current\x20=\x20calculateProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20projectedCoordinates.next\x20=\x20calculateProjectedCoordinate(nextPosition);\x0a\x20\x20}\x0a\x0a\x20\x20int\x20pointToUse\x20=\x20int(normal.x);\x0a\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x20\x20vec4\x20offset\x20=\x20vec4(0.0f);\x0a\x20\x20\x20\x20//\x20render\x20lines\x20with\x20triangles\x20and\x20miter\x20joint\x0a\x20\x20\x20\x20//\x20read\x20https://blog.scottlogic.com/2019/11/18/drawing-lines-with-webgl.html\x20for\x20detail\x0a\x20\x20if(pointToUse\x20==\x20-1)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.previous,\x20projectedCoordinates.current,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.previous\x20+\x20offset;\x0a\x20\x20}\x20else\x20if(pointToUse\x20==\x201)\x20{\x0a\x20\x20\x20\x20offset\x20=\x20pixelSize\x20*\x20calculateOffsetOnNormalDirection(projectedCoordinates.current,\x20projectedCoordinates.next,\x20offsetSign);\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectedCoordinates.next\x20+\x20offset;\x0a\x20\x20}\x0a\x0a\x20\x20heightNormalization\x20=\x20(currentPosition.z\x20-\x20hRange.x)\x20/\x20(hRange.y\x20-\x20hRange.x);\x0a\x0a\x20\x20speedNormalization\x20=\x20texture(particlesSpeed,\x20particleIndex).a;\x0a}\x0a',trailDrawFrag='#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0ain\x20vec2\x20textureCoordinate;\x0a\x0auniform\x20sampler2D\x20segmentsColorTexture;\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0a\x0auniform\x20sampler2D\x20currentTrailsColor;\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0a\x0auniform\x20float\x20fadeOpacity;\x0a\x0aout\x20vec4\x20fragColor;\x0avoid\x20main()\x20{\x0a\x20\x20vec4\x20pointsColor\x20=\x20texture(segmentsColorTexture,\x20textureCoordinate);\x0a\x20\x20vec4\x20trailsColor\x20=\x20texture(currentTrailsColor,\x20textureCoordinate);\x0a\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0f\x20*\x20trailsColor)\x20/\x20255.0f;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0a\x0a\x20\x20float\x20pointsDepth\x20=\x20texture(segmentsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20trailsDepth\x20=\x20texture(trailsDepthTexture,\x20textureCoordinate).r;\x0a\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture(czm_globeDepthTexture,\x20textureCoordinate));\x0a\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20if(pointsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20pointsColor;\x0a\x20\x20}\x0a\x20\x20if(trailsDepth\x20<\x20globeDepth)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20fragColor\x20+\x20trailsColor;\x0a\x20\x20}\x0a\x20\x20gl_FragDepth\x20=\x20min(pointsDepth,\x20trailsDepth);\x0a}\x0a';const Cesium$4=mars3d__namespace[_0x13fce6(0x482,0x4fe)];class ParticlesRendering{constructor(_0x5ad095,_0x1491b6,_0x40d534,_0x9f47b3,_0x2fe6f1){this['colour']=_0x40d534[_0x3caebc(0x4ba,0x507)]===_0x3caebc(0x578,0x522),this[_0x4df5cf(0x22,0x7b)](_0x5ad095,_0x1491b6,_0x40d534[_0x3caebc(0x4ba,0x4d5)]),this[_0x4df5cf(-0x79,-0x3e)](_0x5ad095);function _0x3caebc(_0x5c7bec,_0x49621d){return _0x13fce6(_0x5c7bec-0x4c,_0x49621d);}function _0x4df5cf(_0x5f0404,_0x5aecea){return _0x40fcd4(_0x5f0404,_0x5aecea- -0x50b);}this['createRenderingPrimitives'](_0x5ad095,_0x1491b6,_0x40d534,_0x9f47b3,_0x2fe6f1);}[_0x13fce6(0x55a,0x541)](_0x32740d,_0xc32d00,_0x4f142c){const _0x29e5a1={};_0x29e5a1[_0x4a285a(-0x259,-0x1d6)]=_0x32740d;function _0x4a285a(_0x34c9ba,_0x3dfa2e){return _0x40fcd4(_0x3dfa2e,_0x34c9ba- -0x740);}_0x29e5a1[_0x21a328(-0x217,-0x223)]=_0x32740d[_0x21a328(-0x137,-0x176)],_0x29e5a1['height']=_0x32740d['drawingBufferHeight'],_0x29e5a1[_0x4a285a(-0x251,-0x1d0)]=Cesium$4[_0x4a285a(-0x22d,-0x1cd)][_0x4a285a(-0x1b2,-0x194)],_0x29e5a1['pixelDatatype']=Cesium$4['PixelDatatype'][_0x4a285a(-0x1a5,-0x203)];const _0x5e1240=_0x29e5a1,_0x1b389a={};_0x1b389a['context']=_0x32740d,_0x1b389a['width']=_0x32740d['drawingBufferWidth'],_0x1b389a[_0x21a328(-0x148,-0x1a1)]=_0x32740d[_0x21a328(-0x204,-0x1e9)],_0x1b389a['pixelFormat']=Cesium$4[_0x4a285a(-0x22d,-0x274)]['DEPTH_COMPONENT'],_0x1b389a['pixelDatatype']=Cesium$4[_0x21a328(-0xf2,-0x185)][_0x21a328(-0x181,-0x12e)];function _0x21a328(_0x4a3b24,_0x1224bc){return _0x13fce6(_0x4a3b24- -0x674,_0x1224bc);}const _0x3883b4=_0x1b389a,_0x4013db=_0x4f142c['length'],_0x5342be=new Float32Array(_0x4013db*0x3);for(let _0xe6bf05=0x0;_0xe6bf05<_0x4013db;_0xe6bf05++){const _0x39b37e=Cesium$4[_0x21a328(-0x147,-0xe5)][_0x21a328(-0x122,-0x19b)](_0x4f142c[_0xe6bf05]);_0x5342be[0x3*_0xe6bf05]=_0x39b37e['red'],_0x5342be[0x3*_0xe6bf05+0x1]=_0x39b37e['green'],_0x5342be[0x3*_0xe6bf05+0x2]=_0x39b37e['blue'];}const _0x466c3a={'context':_0x32740d,'width':_0x4013db,'height':0x1,'pixelFormat':Cesium$4[_0x21a328(-0x18d,-0x189)]['RGB'],'pixelDatatype':Cesium$4['PixelDatatype'][_0x21a328(-0x144,-0x1a8)],'sampler':new Cesium$4['Sampler']({'minificationFilter':Cesium$4[_0x4a285a(-0x233,-0x287)]['LINEAR'],'magnificationFilter':Cesium$4['TextureMagnificationFilter']['LINEAR']})};this['textures']={'segmentsColor':Util['createTexture'](_0x5e1240),'segmentsDepth':Util[_0x4a285a(-0x245,-0x210)](_0x3883b4),'currentTrailsColor':Util['createTexture'](_0x5e1240),'currentTrailsDepth':Util['createTexture'](_0x3883b4),'nextTrailsColor':Util['createTexture'](_0x5e1240),'nextTrailsDepth':Util[_0x4a285a(-0x245,-0x2a6)](_0x3883b4),'colorTable':Util['createTexture'](_0x466c3a,_0x5342be)};}['createRenderingFramebuffers'](_0x6783bd){function _0x411a87(_0x31500b,_0x2555cf){return _0x13fce6(_0x2555cf- -0x36f,_0x31500b);}function _0x71ec5(_0x48f88d,_0x268a99){return _0x13fce6(_0x268a99- -0x126,_0x48f88d);}this[_0x411a87(0x190,0x17f)]={'segments':Util[_0x71ec5(0x3af,0x3c5)](_0x6783bd,this['textures']['segmentsColor'],this['textures']['segmentsDepth']),'currentTrails':Util['createFramebuffer'](_0x6783bd,this['textures']['currentTrailsColor'],this['textures'][_0x71ec5(0x439,0x440)]),'nextTrails':Util['createFramebuffer'](_0x6783bd,this['textures'][_0x411a87(0x16c,0x110)],this['textures'][_0x71ec5(0x415,0x3ea)])};}['createSegmentsGeometry'](_0x35fec7){const _0x37282f=0x4;function _0x1acffe(_0x1508bd,_0x5cd16f){return _0x40fcd4(_0x5cd16f,_0x1508bd- -0x3d3);}function _0x2bae80(_0x58c65c,_0x5bbf45){return _0x40fcd4(_0x58c65c,_0x5bbf45- -0x137);}let _0x4380ac=[];for(let _0x50fca5=0x0;_0x50fca5<_0x35fec7['particlesTextureSize'];_0x50fca5++){for(let _0x772970=0x0;_0x772970<_0x35fec7['particlesTextureSize'];_0x772970++){for(let _0x118fa6=0x0;_0x118fa6<_0x37282f;_0x118fa6++){_0x4380ac['push'](_0x50fca5/_0x35fec7[_0x1acffe(0xf8,0x182)]),_0x4380ac['push'](_0x772970/_0x35fec7['particlesTextureSize']);}}}_0x4380ac=new Float32Array(_0x4380ac);let _0x47a397=[];for(let _0x473d7a=0x0;_0x473d7a<_0x35fec7['maxParticles'];_0x473d7a++){_0x47a397[_0x1acffe(0xba,0x30)](-0x1,-0x1,0x0,-0x1,0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0);}_0x47a397=new Float32Array(_0x47a397);let _0x3fe75b=[];for(let _0x483971=0x0,_0x1ead38=0x0;_0x483971<_0x35fec7[_0x2bae80(0x390,0x367)];_0x483971++){_0x3fe75b['push'](_0x1ead38+0x0,_0x1ead38+0x1,_0x1ead38+0x2,_0x1ead38+0x2,_0x1ead38+0x1,_0x1ead38+0x3),_0x1ead38+=_0x37282f;}_0x3fe75b=new Uint32Array(_0x3fe75b);const _0x2ecf4c=new Cesium$4['Geometry']({'attributes':new Cesium$4['GeometryAttributes']({'st':new Cesium$4['GeometryAttribute']({'componentDatatype':Cesium$4[_0x2bae80(0x2ee,0x357)]['FLOAT'],'componentsPerAttribute':0x2,'values':_0x4380ac}),'normal':new Cesium$4[(_0x2bae80(0x40f,0x453))]({'componentDatatype':Cesium$4[_0x1acffe(0xbb,0x11b)][_0x2bae80(0x402,0x425)],'componentsPerAttribute':0x3,'values':_0x47a397})}),'indices':_0x3fe75b});return _0x2ecf4c;}['createRenderingPrimitives'](_0x48a5b8,_0x51245c,_0x38f98d,_0x358014,_0x141c0f){const _0x53766a=this,_0x3bbbbc={};_0x3bbbbc['st']=0x0,_0x3bbbbc[_0x36efe1(0x4f,0x11)]=0x1;const _0x4f005f={};_0x4f005f[_0x36efe1(0x78,0x4c)]=[segmentDrawVert];const _0x59cbc1={};_0x59cbc1[_0x573aff(0x2aa,0x255)]=[segmentDrawFrag];const _0x52cb7e={};_0x52cb7e[_0x36efe1(0xc4,0x125)]=!![];const _0x1849da={};_0x1849da['viewport']=undefined;function _0x573aff(_0x4ec945,_0x36e90c){return _0x13fce6(_0x36e90c- -0x285,_0x4ec945);}_0x1849da[_0x573aff(0x251,0x2a5)]=_0x52cb7e,_0x1849da['depthMask']=!![];const _0x53258d={};_0x53258d[_0x573aff(0x30b,0x300)]=0x0,_0x53258d['st']=0x1;const _0x200703={};_0x200703[_0x36efe1(0x24,-0x1d)]=[_0x36efe1(0x13,0x37)],_0x200703[_0x36efe1(0x78,0xf7)]=[fullscreenVert];const _0x2064cd={};_0x2064cd['defines']=['DISABLE_LOG_DEPTH_FRAGMENT_WRITE'],_0x2064cd['sources']=[trailDrawFrag];const _0x261d4e={};_0x261d4e[_0x36efe1(0x123,0xe8)]=0x0,_0x261d4e['st']=0x1;const _0x14e21b={};_0x14e21b[_0x36efe1(0x24,-0x19)]=['DISABLE_GL_POSITION_LOG_DEPTH'],_0x14e21b[_0x36efe1(0x78,0x6a)]=[fullscreenVert];const _0x59dca7={};_0x59dca7[_0x573aff(0x24a,0x201)]=[_0x36efe1(0x11a,0x159)],_0x59dca7[_0x36efe1(0x78,0x7c)]=[screenDrawFrag];const _0x2ebe72={};function _0x36efe1(_0x57f9a1,_0x441bfc){return _0x40fcd4(_0x441bfc,_0x57f9a1- -0x48e);}_0x2ebe72['enabled']=![];const _0x40ec59={};_0x40ec59['enabled']=!![],this['primitives']={'segments':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x3bbbbc,'geometry':this['createSegmentsGeometry'](_0x38f98d),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'previousParticlesPosition':function(){function _0x15ceef(_0x130876,_0x4d1a7d){return _0x36efe1(_0x4d1a7d- -0xaf,_0x130876);}return _0x141c0f['particlesTextures'][_0x15ceef(0x41,-0xb)];},'currentParticlesPosition':function(){function _0x7fe13d(_0x1aa009,_0x164203){return _0x573aff(_0x1aa009,_0x164203-0x11b);}return _0x141c0f[_0x7fe13d(0x332,0x352)]['currentParticlesPosition'];},'postProcessingPosition':function(){return _0x141c0f['particlesTextures']['postProcessingPosition'];},'particlesSpeed':function(){function _0xdbdbb2(_0x35f04a,_0x3ed503){return _0x573aff(_0x3ed503,_0x35f04a- -0x49b);}return _0x141c0f[_0xdbdbb2(-0x264,-0x2b5)]['particlesSpeed'];},'colorTable':function(){return _0x53766a['textures']['colorTable'];},'aspect':function(){function _0x424d86(_0x27390a,_0x374413){return _0x573aff(_0x27390a,_0x374413-0xcf);}function _0x5a2947(_0x5b71a1,_0x37013b){return _0x573aff(_0x5b71a1,_0x37013b-0x2b9);}return _0x48a5b8[_0x5a2947(0x4f8,0x571)]/_0x48a5b8[_0x424d86(0x233,0x2ba)];},'H':function(){return _0x51245c['H']['array'];},'hRange':function(){function _0x57cee4(_0x2e5aca,_0x4ac6a9){return _0x573aff(_0x4ac6a9,_0x2e5aca-0x169);}return new Cesium$4['Cartesian2'](_0x51245c['H']['min'],_0x51245c['H'][_0x57cee4(0x42c,0x488)]);},'uSpeedRange':function(){function _0x28e88b(_0x5662e0,_0x1ed185){return _0x573aff(_0x5662e0,_0x1ed185-0xaa);}return new Cesium$4['Cartesian2'](_0x51245c['U']['min'],_0x51245c['U'][_0x28e88b(0x386,0x36d)]);},'vSpeedRange':function(){return new Cesium$4['Cartesian2'](_0x51245c['V']['min'],_0x51245c['V']['max']);},'wSpeedRange':function(){return new Cesium$4['Cartesian2'](_0x51245c['W']['min'],_0x51245c['W']['max']);},'pixelSize':function(){function _0x516a54(_0x59775b,_0x5d90e3){return _0x573aff(_0x59775b,_0x5d90e3-0x232);}return _0x358014[_0x516a54(0x43a,0x48f)];},'lineWidth':function(){function _0x492177(_0x2c4440,_0x219c8d){return _0x573aff(_0x2c4440,_0x219c8d-0x1d6);}return _0x38f98d[_0x492177(0x3f5,0x440)];},'particleHeight':function(){return _0x38f98d['particleHeight'];},'colour':function(){function _0x4eac10(_0x1a7417,_0x3df545){return _0x573aff(_0x1a7417,_0x3df545- -0x7e);}return _0x53766a[_0x4eac10(0x177,0x1f4)];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x4f005f),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x59cbc1),'rawRenderState':Util['createRawRenderState'](_0x1849da),'framebuffer':this[_0x36efe1(0x8c,0x70)]['segments'],'autoClear':!![]}),'trails':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x53258d,'geometry':Util[_0x573aff(0x287,0x295)](),'primitiveType':Cesium$4['PrimitiveType']['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){function _0x451577(_0x56bdbf,_0x1a6e39){return _0x573aff(_0x1a6e39,_0x56bdbf- -0x469);}return _0x53766a['textures'][_0x451577(-0x19a,-0x1c4)];},'segmentsDepthTexture':function(){return _0x53766a['textures']['segmentsDepth'];},'currentTrailsColor':function(){return _0x53766a['framebuffers']['currentTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){function _0x38e121(_0x1d8f4e,_0x3ad357){return _0x573aff(_0x1d8f4e,_0x3ad357- -0x38c);}function _0x42708f(_0x3181c6,_0x50340f){return _0x573aff(_0x3181c6,_0x50340f- -0x3ea);}return _0x53766a[_0x38e121(-0xd7,-0x123)][_0x38e121(-0x132,-0x18d)]['depthTexture'];},'fadeOpacity':function(){function _0x1e521b(_0x3c7eb5,_0x1c7bd){return _0x573aff(_0x1c7bd,_0x3c7eb5-0x219);}return _0x38f98d[_0x1e521b(0x4fb,0x487)];}},'vertexShaderSource':new Cesium$4['ShaderSource'](_0x200703),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x2064cd),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':{'enabled':!![],'func':Cesium$4['DepthFunction']['ALWAYS']},'depthMask':!![]}),'framebuffer':this[_0x36efe1(0x8c,0xe0)]['nextTrails'],'autoClear':!![],'preExecute':function(){if(_0x38f98d[_0xfb255c(-0x1e,0x37)]){const _0x222b54=_0x53766a[_0x5dd02d(0x41,0x10)]['currentTrails'];_0x53766a['framebuffers']['currentTrails']=_0x53766a['framebuffers'][_0xfb255c(0x62,0x82)],_0x53766a['framebuffers']['nextTrails']=_0x222b54;}function _0x5dd02d(_0x365d55,_0x483f05){return _0x573aff(_0x483f05,_0x365d55- -0x228);}function _0xfb255c(_0x36ac38,_0x1c3386){return _0x573aff(_0x36ac38,_0x1c3386- -0x1bf);}_0x53766a['primitives']['trails']['commandToExecute']['framebuffer']=_0x53766a['framebuffers'][_0xfb255c(0x1,0x82)],_0x53766a['primitives'][_0xfb255c(0x125,0x13f)][_0x5dd02d(0x2f,0x1c)]['framebuffer']=_0x53766a[_0xfb255c(0xcf,0xaa)]['nextTrails'];}}),'screen':new CustomPrimitive({'commandType':'Draw','attributeLocations':_0x261d4e,'geometry':Util['getFullscreenQuad'](),'primitiveType':Cesium$4[_0x36efe1(0x11c,0x120)][_0x36efe1(0x108,0x140)],'uniformMap':{'trailsColorTexture':function(){function _0x432132(_0x14c167,_0x2cf58c){return _0x573aff(_0x14c167,_0x2cf58c-0xb6);}return _0x53766a['framebuffers'][_0x432132(0x2ef,0x2f7)]['getColorTexture'](0x0);},'trailsDepthTexture':function(){function _0x4fece9(_0x1d21a0,_0x484cc0){return _0x36efe1(_0x484cc0- -0x4f,_0x1d21a0);}return _0x53766a['framebuffers']['nextTrails'][_0x4fece9(0x82,0xd)];}},'vertexShaderSource':new Cesium$4[(_0x36efe1(0x60,0x22))](_0x14e21b),'fragmentShaderSource':new Cesium$4['ShaderSource'](_0x59dca7),'rawRenderState':Util['createRawRenderState']({'viewport':undefined,'depthTest':_0x2ebe72,'depthMask':!![],'blending':_0x40ec59}),'framebuffer':undefined})};}}var CalculateSpeedShader=_0x40fcd4(0x4c4,0x515),PostProcessingPositionShader='#version\x20300\x20es\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x0a\x0auniform\x20sampler2D\x20H;\x20//\x20particles\x20height\x20textures\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0auniform\x20vec2\x20viewerLonRange;\x0auniform\x20vec2\x20viewerLatRange;\x0a\x0aconst\x20float\x20randomCoefficient\x20=\x200.1f;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0aconst\x20float\x20dropRate\x20=\x200.1f;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0aconst\x20float\x20dropRateBump\x20=\x200.1f;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0avec4\x20getTextureValue(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20vec4\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D);\x0a\x20\x20return\x20result;\x0a}\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898f,\x2078.233f,\x204375.85453f);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0f,\x201.0f);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0abool\x20particleNoSpeed(vec3\x20particle)\x20{\x0a\x20\x20vec4\x20speed\x20=\x20getTextureValue(particlesSpeed,\x20particle);\x0a\x20\x20return\x20speed.r\x20==\x200.0f\x20&&\x20speed.g\x20==\x200.0f;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0f);\x0a\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20float\x20height\x20=\x20getTextureValue(H,\x20vec3(randomLon,\x20randomLat,\x20lev)).r;\x0a\x0a\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20height);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20return\x20particle.y\x20<\x20viewerLatRange.x\x20||\x20particle.y\x20>\x20viewerLatRange.y\x20||\x20particle.x\x20<\x20viewerLonRange.x\x20||\x20particle.x\x20>\x20viewerLonRange.y;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20vec3\x20nextParticle\x20=\x20texture(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec4\x20nextSpeed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20float\x20speedNorm\x20=\x20nextSpeed.a;\x0a\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20speedNorm;\x0a\x0a\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20if(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(randomParticle,\x201.0f);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x0a}\x0a',UpdatePositionShader=_0x13fce6(0x561,0x575);const Cesium$3=mars3d__namespace[_0x40fcd4(0x50d,0x4ae)];class ParticlesComputing{constructor(_0x9b27ae,_0x4a6aee,_0x548310,_0x41aed1){function _0x170c71(_0x1ebc79,_0xf35fe7){return _0x13fce6(_0xf35fe7- -0x4ce,_0x1ebc79);}function _0x2c592d(_0x377ece,_0x451cce){return _0x13fce6(_0x377ece-0x63,_0x451cce);}this['data']=_0x4a6aee,this['createWindTextures'](_0x9b27ae,_0x4a6aee),this[_0x170c71(-0x9c,-0x46)](_0x9b27ae,_0x548310,_0x41aed1),this[_0x170c71(-0x7c,-0x58)](_0x4a6aee,_0x548310,_0x41aed1);}[_0x40fcd4(0x485,0x4ac)](_0x43455c,_0x20c27c){var _0x2acf45;function _0x4dd123(_0x587dee,_0x12ac04){return _0x40fcd4(_0x587dee,_0x12ac04- -0x3a);}function _0x4c83ad(_0x4e94f6,_0x318676){return _0x40fcd4(_0x4e94f6,_0x318676- -0x11);}const _0x469a67={'context':_0x43455c,'width':_0x20c27c['dimensions'][_0x4c83ad(0x598,0x56b)],'height':_0x20c27c['dimensions']['lat']*(_0x20c27c['dimensions'][_0x4dd123(0x502,0x532)]||0x1),'pixelFormat':Cesium$3[_0x4dd123(0x487,0x4d9)]['RED'],'pixelDatatype':Cesium$3['PixelDatatype']['FLOAT'],'flipY':![],'sampler':new Cesium$3[(_0x4c83ad(0x4d7,0x4a2))]({'minificationFilter':Cesium$3['TextureMinificationFilter'][_0x4dd123(0x454,0x4d1)],'magnificationFilter':Cesium$3[_0x4c83ad(0x559,0x4c7)][_0x4c83ad(0x533,0x4fa)]})};this['windTextures']={'U':Util['createTexture'](_0x469a67,_0x20c27c['U'][_0x4dd123(0x517,0x48c)]),'V':Util['createTexture'](_0x469a67,_0x20c27c['V']['array']),'W':Util[_0x4c83ad(0x4c5,0x4ea)](_0x469a67,((_0x2acf45=_0x20c27c['W'])===null||_0x2acf45===void 0x0?void 0x0:_0x2acf45['array'])??_0x20c27c['U']['array']),'H':Util[_0x4c83ad(0x4d9,0x4ea)](_0x469a67,_0x20c27c['H']['array'])};}[_0x40fcd4(0x523,0x4b4)](_0x51d3dd,_0x3208cc,_0x3c01ee){const _0x144493={'context':_0x51d3dd,'width':_0x3208cc[_0x2e50a2(-0x2b4,-0x288)],'height':_0x3208cc['particlesTextureSize'],'pixelFormat':Cesium$3['PixelFormat'][_0xde56cd(0x2ca,0x2e9)],'pixelDatatype':Cesium$3['PixelDatatype']['FLOAT'],'flipY':![],'sampler':new Cesium$3['Sampler']({'minificationFilter':Cesium$3['TextureMinificationFilter']['NEAREST'],'magnificationFilter':Cesium$3['TextureMagnificationFilter']['NEAREST']})};function _0xde56cd(_0x1517de,_0x504b71){return _0x13fce6(_0x1517de- -0x298,_0x504b71);}const _0x5dd908=this['randomizeParticles'](_0x3208cc['maxParticles'],_0x3c01ee),_0x2b181f=new Float32Array(0x4*_0x3208cc[_0x2e50a2(-0x2e1,-0x325)])[_0x2e50a2(-0x269,-0x2e4)](0x0);function _0x2e50a2(_0x63a954,_0x9fb64f){return _0x40fcd4(_0x9fb64f,_0x63a954- -0x77f);}this['particlesTextures']={'previousParticlesPosition':Util['createTexture'](_0x144493,_0x5dd908),'currentParticlesPosition':Util[_0x2e50a2(-0x284,-0x28f)](_0x144493,_0x5dd908),'nextParticlesPosition':Util[_0xde56cd(0x237,0x1bd)](_0x144493,_0x5dd908),'postProcessingPosition':Util['createTexture'](_0x144493,_0x5dd908),'particlesSpeed':Util['createTexture'](_0x144493,_0x2b181f)};}['randomizeParticles'](_0x2435e2,_0x39fe23){function _0x1b6c9a(_0x2950e6,_0x72c4f9){return _0x13fce6(_0x2950e6- -0x92,_0x72c4f9);}const _0x1542c2=new Float32Array(0x4*_0x2435e2);for(let _0xffc187=0x0;_0xffc187<_0x2435e2;_0xffc187++){_0x1542c2[0x4*_0xffc187]=Cesium$3['Math']['randomBetween'](_0x39fe23['lonRange']['x'],_0x39fe23['lonRange']['y']),_0x1542c2[0x4*_0xffc187+0x1]=Cesium$3[_0x1b6c9a(0x46f,0x4ff)]['randomBetween'](_0x39fe23['latRange']['x'],_0x39fe23['latRange']['y']),_0x1542c2[0x4*_0xffc187+0x2]=Cesium$3[_0x33176c(0x18f,0x17f)]['randomBetween'](this['data']['lev'][_0x1b6c9a(0x425,0x475)],this['data']['lev']['max']),_0x1542c2[0x4*_0xffc187+0x3]=0x0;}function _0x33176c(_0x579b70,_0x43e4e9){return _0x40fcd4(_0x579b70,_0x43e4e9- -0x3ae);}return _0x1542c2;}[_0x40fcd4(0x485,0x4d0)](_0x55b20e){function _0x3eb487(_0xa36a6a,_0x14c710){return _0x13fce6(_0x14c710- -0x4bf,_0xa36a6a);}const _0x3530ef=[_0x55b20e[_0x3eb487(0xf6,0x82)]['lon'],_0x55b20e['dimensions']['lat'],_0x55b20e['dimensions'][_0x3eb487(0x117,0x81)]],_0x7d7605=[_0x55b20e['lon']['min'],_0x55b20e[_0x3eb487(0x2d,0x17)][_0x3eb487(0x63,-0x8)],_0x55b20e['lev']['min']],_0x2e6680=[_0x55b20e['lon']['max'],_0x55b20e[_0x3eb487(-0x59,0x17)][_0x3f6dd8(0x5b6,0x641)],_0x55b20e['lev']['max']];function _0x3f6dd8(_0x314983,_0x3e0368){return _0x13fce6(_0x314983-0x6e,_0x3e0368);}const _0x700d82=[(_0x2e6680[0x0]-_0x7d7605[0x0])/(_0x3530ef[0x0]-0x1),(_0x2e6680[0x1]-_0x7d7605[0x1])/(_0x3530ef[0x1]-0x1),_0x3530ef[0x2]>0x1?(_0x2e6680[0x2]-_0x7d7605[0x2])/(_0x3530ef[0x2]-0x1):0x1],_0x1b9f79=Math['floor'](Math['random']()*_0x55b20e['U']['array']['length']),_0x39fe85=_0x1b9f79%(_0x3530ef[0x0]*_0x3530ef[0x1]),_0x540370=Math[_0x3f6dd8(0x5ed,0x5db)](_0x39fe85/_0x3530ef[0x0]),_0x4c4920=_0x39fe85%_0x3530ef[0x0],_0xf36832=Cesium$3['Math']['randomBetween'](_0x7d7605[0x0]+_0x4c4920*_0x700d82[0x0],_0x7d7605[0x0]+(_0x4c4920+0x1)*_0x700d82[0x0]),_0x1749a6=Cesium$3['Math'][_0x3eb487(0x1a,-0x48)](_0x7d7605[0x1]+(_0x540370-0x1)*_0x700d82[0x1],_0x7d7605[0x1]+_0x540370*_0x700d82[0x1]),_0x1b2890=_0x55b20e['H']['array'][_0x1b9f79]||0x0;return[_0xf36832,_0x1749a6,_0x1b2890];}[_0x40fcd4(0x488,0x48b)](){function _0x1f4560(_0x572678,_0x4e28a6){return _0x13fce6(_0x4e28a6- -0x30a,_0x572678);}function _0x1d9a7f(_0x74d4c6,_0x502191){return _0x13fce6(_0x74d4c6- -0x431,_0x502191);}Object[_0x1f4560(0x253,0x227)](this[_0x1f4560(0x22d,0x1b2)])[_0x1d9a7f(0x65,-0x11)](_0x57493c=>{function _0x630133(_0x548036,_0x1f199d){return _0x1d9a7f(_0x548036-0x321,_0x1f199d);}this[_0x630133(0x3ac,0x3d7)][_0x57493c]['destroy']();});}['createComputingPrimitives'](_0x5d255a,_0x2c0056,_0xac942){const _0x54d9fd=new Cesium$3['Cartesian3'](_0x5d255a['dimensions'][_0x253d99(0x3e5,0x3b5)],_0x5d255a['dimensions']['lat'],_0x5d255a[_0x8ee49d(0xd8,0x83)][_0x8ee49d(0xd7,0x103)]),_0x40997e=new Cesium$3['Cartesian3'](_0x5d255a['lon'][_0x8ee49d(0x4e,-0x3a)],_0x5d255a['lat']['min'],_0x5d255a['lev']['min']),_0x4b7900=new Cesium$3['Cartesian3'](_0x5d255a[_0x253d99(0x3e5,0x3a1)]['max'],_0x5d255a['lat']['max'],_0x5d255a[_0x253d99(0x3d5,0x3be)][_0x8ee49d(0xdf,0x14f)]),_0x250fdf=new Cesium$3[(_0x253d99(0x3c8,0x443))]((_0x4b7900['x']-_0x40997e['x'])/(_0x54d9fd['x']-0x1),(_0x4b7900['y']-_0x40997e['y'])/(_0x54d9fd['y']-0x1),_0x54d9fd['z']>0x1?(_0x4b7900['z']-_0x40997e['z'])/(_0x54d9fd['z']-0x1):0x1),_0x1d1533=new Cesium$3['Cartesian2'](_0x5d255a[_0x253d99(0x3e5,0x3f0)][_0x253d99(0x34c,0x3b9)],_0x5d255a['lon'][_0x8ee49d(0xdf,0x13a)]),_0x330dec=new Cesium$3[(_0x253d99(0x306,0x2a8))](_0x5d255a[_0x8ee49d(0x6d,0xf8)][_0x253d99(0x34c,0x32c)],_0x5d255a[_0x253d99(0x36b,0x3ec)][_0x8ee49d(0xdf,0x81)]),_0xb53faa=new Cesium$3['Cartesian2'](_0x5d255a['U']['min'],_0x5d255a['U']['max']),_0x4ac610=new Cesium$3['Cartesian2'](_0x5d255a['V'][_0x253d99(0x34c,0x33c)],_0x5d255a['V'][_0x253d99(0x3dd,0x388)]),_0x4fd6dc=new Cesium$3[(_0x8ee49d(0x8,-0x3))](_0x5d255a['W']['min'],_0x5d255a['W'][_0x8ee49d(0xdf,0x153)]),_0x38ef49=this,_0x59ad03={};function _0x253d99(_0x157921,_0x42c329){return _0x13fce6(_0x157921- -0x16b,_0x42c329);}_0x59ad03['U']=function(){return _0x38ef49['windTextures']['U'];},_0x59ad03['V']=function(){function _0x3120a0(_0x3cdbff,_0x177727){return _0x8ee49d(_0x3cdbff- -0x89,_0x177727);}return _0x38ef49[_0x3120a0(0x6,0x1e)]['V'];},_0x59ad03['W']=function(){function _0x27cccd(_0x44f070,_0x359c75){return _0x8ee49d(_0x44f070-0x11a,_0x359c75);}return _0x38ef49[_0x27cccd(0x1a9,0x1ef)]['W'];},_0x59ad03[_0x253d99(0x3ee,0x472)]=function(){function _0x52a80a(_0x1bb7cf,_0x5de6d9){return _0x8ee49d(_0x5de6d9- -0xa1,_0x1bb7cf);}return _0x38ef49['particlesTextures'][_0x52a80a(-0x2c,0x4f)];},_0x59ad03[_0x8ee49d(0xe1,0x15c)]=function(){return _0x54d9fd;},_0x59ad03[_0x253d99(0x3c0,0x438)]=function(){return _0x40997e;},_0x59ad03['maximum']=function(){return _0x4b7900;};function _0x8ee49d(_0x47f214,_0x1479e7){return _0x40fcd4(_0x1479e7,_0x47f214- -0x495);}_0x59ad03['interval']=function(){return _0x250fdf;},_0x59ad03[_0x8ee49d(0x8b,0x3d)]=function(){return _0xb53faa;},_0x59ad03[_0x8ee49d(0xe2,0x12c)]=function(){return _0x4ac610;},_0x59ad03[_0x253d99(0x403,0x46a)]=function(){return _0x4fd6dc;},_0x59ad03['speedScaleFactor']=function(){function _0x233f3d(_0x34e882,_0x2b31e5){return _0x8ee49d(_0x2b31e5- -0x54,_0x34e882);}return _0xac942[_0x233f3d(0x6e,0x25)]*_0x2c0056['speedFactor'];};const _0x67019d={};_0x67019d[_0x8ee49d(0x71,0x28)]=[CalculateSpeedShader];const _0x2b35df={};_0x2b35df[_0x253d99(0x36f,0x317)]=[UpdatePositionShader];const _0xa6c5d2={};_0xa6c5d2[_0x8ee49d(0x71,0x1a)]=[PostProcessingPositionShader],this[_0x253d99(0x2fd,0x2aa)]={'calculateSpeed':new CustomPrimitive({'commandType':'Compute','uniformMap':_0x59ad03,'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x67019d),'outputTexture':this[_0x253d99(0x351,0x353)][_0x8ee49d(0xb2,0x78)],'preExecute':function(){if(_0x2c0056!==undefined&&_0x2c0056['dynamic']){const _0x3acaf2=_0x38ef49['particlesTextures']['previousParticlesPosition'];_0x38ef49[_0x349e83(0x1dc,0x23c)][_0x349e83(0x226,0x196)]=_0x38ef49['particlesTextures']['currentParticlesPosition'],_0x38ef49['particlesTextures']['currentParticlesPosition']=_0x38ef49[_0x1a388b(0x30b,0x352)][_0x1a388b(0x3cc,0x43f)],_0x38ef49[_0x1a388b(0x30b,0x309)]['postProcessingPosition']=_0x3acaf2;}function _0x1a388b(_0x19e95b,_0x245873){return _0x253d99(_0x19e95b- -0x46,_0x245873);}function _0x349e83(_0x5c926f,_0x4bac9c){return _0x253d99(_0x5c926f- -0x175,_0x4bac9c);}_0x38ef49[_0x349e83(0x188,0x1f5)]['calculateSpeed']['commandToExecute'][_0x1a388b(0x361,0x3c2)]=_0x38ef49[_0x349e83(0x1dc,0x270)]['particlesSpeed'];}}),'updatePosition':new CustomPrimitive({'commandType':_0x8ee49d(0x44,0x2a),'uniformMap':{'currentParticlesPosition':function(){function _0x52bc9e(_0x4fefe2,_0x34b2b0){return _0x8ee49d(_0x4fefe2-0x4ba,_0x34b2b0);}function _0x132cd5(_0x5aaeb1,_0x9e66cd){return _0x8ee49d(_0x9e66cd-0x104,_0x5aaeb1);}return _0x38ef49[_0x132cd5(0x152,0x157)][_0x132cd5(0x25b,0x1f4)];},'particlesSpeed':function(){function _0x3c0b62(_0x2ebe35,_0x36251e){return _0x8ee49d(_0x2ebe35- -0x21,_0x36251e);}return _0x38ef49['particlesTextures'][_0x3c0b62(0x91,0xae)];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0x2b35df),'outputTexture':this['particlesTextures']['nextParticlesPosition'],'preExecute':function(){function _0x295e4c(_0xc0975b,_0x630b20){return _0x8ee49d(_0x630b20-0x2b0,_0xc0975b);}function _0x830f99(_0x2ff703,_0x56933a){return _0x8ee49d(_0x2ff703- -0x134,_0x56933a);}_0x38ef49['primitives'][_0x295e4c(0x35f,0x37e)][_0x295e4c(0x355,0x2e5)]['outputTexture']=_0x38ef49[_0x295e4c(0x369,0x303)]['nextParticlesPosition'];}}),'postProcessingPosition':new CustomPrimitive({'commandType':_0x8ee49d(0x44,0x16),'uniformMap':{'nextParticlesPosition':function(){function _0x2bc150(_0x86122b,_0x5dab7c){return _0x8ee49d(_0x86122b- -0x176,_0x5dab7c);}return _0x38ef49[_0x2bc150(-0x123,-0x195)]['nextParticlesPosition'];},'particlesSpeed':function(){return _0x38ef49['particlesTextures']['particlesSpeed'];},'viewerLonRange':function(){return _0xac942['lonRange'];},'viewerLatRange':function(){function _0x3451ea(_0x6b15f9,_0x3735b8){return _0x253d99(_0x3735b8- -0x38c,_0x6b15f9);}return _0xac942[_0x3451ea(-0x1d,-0x5e)];},'lonRange':function(){return _0x1d1533;},'latRange':function(){return _0x330dec;},'dimension':function(){return _0x54d9fd;},'minimum':function(){return _0x40997e;},'maximum':function(){return _0x4b7900;},'interval':function(){return _0x250fdf;},'H':function(){return _0x38ef49['windTextures']['H'];},'randomCoefficient':function(){const _0x247373=Math['random']();return _0x247373;},'dropRate':function(){return _0x2c0056['dropRate'];},'dropRateBump':function(){return _0x2c0056['dropRateBump'];}},'fragmentShaderSource':new Cesium$3['ShaderSource'](_0xa6c5d2),'outputTexture':this['particlesTextures']['postProcessingPosition'],'preExecute':function(){function _0x1e676d(_0x57f0a1,_0x111005){return _0x8ee49d(_0x57f0a1-0x1a6,_0x111005);}_0x38ef49[_0x1e676d(0x1a5,0x207)]['postProcessingPosition']['commandToExecute']['outputTexture']=_0x38ef49['particlesTextures']['postProcessingPosition'];}})};}}function _0x33ef(){const _0x117e71=['getDefaultRenderState','preRender','strokeStyle','PixelFormat','_animateFrame','#version\x20300\x20es\x0a\x0a//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0auniform\x20sampler2D\x20W;\x20//\x20upward\x20wind\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20vec2\x20wSpeedRange;\x0auniform\x20float\x20speedScaleFactor;\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20lonLatLev.x\x20=\x20clamp(lonLatLev.x,\x20minimum.x,\x20maximum.x);\x0a\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20minimum.y,\x20maximum.y);\x0a\x20\x20lonLatLev.z\x20=\x20clamp(lonLatLev.z,\x20minimum.z,\x20maximum.z);\x0a\x0a\x20\x20vec3\x20index3D\x20=\x20vec3(0.0f);\x0a\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20//\x20map\x20the\x20z-axis\x20value\x20to\x20the\x20nearest\x20bit\x20plane\x20to\x20ensure\x20that\x20the\x20result\x20is\x20an\x20integer\x0a\x20\x20index3D.z\x20=\x20ceil((lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z);\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205,\x207,\x208,\x209],\x20width\x20=\x202,\x20height\x20=\x202,\x20level\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x206\x207\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x202\x203\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWindComponent(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20float\x20result\x20=\x20texture(componentTexture,\x20normalizedIndex2D).r;\x0a\x20\x20return\x20result;\x0a}\x0a\x0afloat\x20interpolateTexture(sampler2D\x20componentTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20float\x20lon0\x20=\x20floor(lon\x20/\x20interval.x)\x20*\x20interval.x;\x0a\x20\x20float\x20lon1\x20=\x20lon0\x20+\x201.0f\x20*\x20interval.x;\x0a\x20\x20float\x20lat0\x20=\x20floor(lat\x20/\x20interval.y)\x20*\x20interval.y;\x0a\x20\x20float\x20lat1\x20=\x20lat0\x20+\x201.0f\x20*\x20interval.y;\x0a\x0a\x20\x20float\x20lon0_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon1_lat0\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat0,\x20lev));\x0a\x20\x20float\x20lon0_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon0,\x20lat1,\x20lev));\x0a\x20\x20float\x20lon1_lat1\x20=\x20getWindComponent(componentTexture,\x20vec3(lon1,\x20lat1,\x20lev));\x0a\x0a\x20\x20float\x20lon_lat0\x20=\x20mix(lon0_lat0,\x20lon1_lat0,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat1\x20=\x20mix(lon0_lat1,\x20lon1_lat1,\x20lon\x20-\x20lon0);\x0a\x20\x20float\x20lon_lat\x20=\x20mix(lon_lat0,\x20lon_lat1,\x20lat\x20-\x20lat0);\x0a\x20\x20return\x20lon_lat;\x0a}\x0a\x0avec3\x20linearInterpolation(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bilinear_interpolation\x0a\x20\x20float\x20u\x20=\x20interpolateTexture(U,\x20lonLatLev);\x0a\x20\x20float\x20v\x20=\x20interpolateTexture(V,\x20lonLatLev);\x0a\x20\x20float\x20w\x20=\x20interpolateTexture(W,\x20lonLatLev);\x0a\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20float\x20term1\x20=\x20111132.92f;\x0a\x20\x20float\x20term2\x20=\x20559.82f\x20*\x20cos(2.0f\x20*\x20latitude);\x0a\x20\x20float\x20term3\x20=\x201.175f\x20*\x20cos(4.0f\x20*\x20latitude);\x0a\x20\x20float\x20term4\x20=\x200.0023f\x20*\x20cos(6.0f\x20*\x20latitude);\x0a\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20float\x20term5\x20=\x20111412.84f\x20*\x20cos(latitude);\x0a\x20\x20float\x20term6\x20=\x2093.5f\x20*\x20cos(3.0f\x20*\x20latitude);\x0a\x20\x20float\x20term7\x20=\x200.118f\x20*\x20cos(5.0f\x20*\x20latitude);\x0a\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avec3\x20convertSpeedUnitToLonLat(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20float\x20w\x20=\x20speed.z;\x0a\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20return\x20windVectorInLonLatLev;\x0a}\x0a\x0avec3\x20calculateSpeedByRungeKutta2(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods#Second-order_methods_with_two_stages\x20for\x20detail\x0a\x20\x20const\x20float\x20h\x20=\x200.5f;\x0a\x0a\x20\x20vec3\x20y_n\x20=\x20lonLatLev;\x0a\x20\x20vec3\x20f_n\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20midpoint\x20=\x20y_n\x20+\x200.5f\x20*\x20h\x20*\x20convertSpeedUnitToLonLat(y_n,\x20f_n)\x20*\x20speedScaleFactor;\x0a\x20\x20vec3\x20speed\x20=\x20h\x20*\x20linearInterpolation(midpoint)\x20*\x20speedScaleFactor;\x0a\x0a\x20\x20return\x20speed;\x0a}\x0a\x0avec2\x20getRange(vec2\x20range)\x20{\x0a\x20\x20float\x20x1\x20=\x200.0f\x20-\x20range.x;\x0a\x20\x20float\x20x2\x20=\x20range.y\x20-\x200.0f;\x0a\x20\x20if(x1\x20<\x200.0f\x20||\x20x2\x20<\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x20vec2(abs(x1),\x20abs(x2));\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20return\x20vec2(0.0f,\x20abs(max(x1,\x20x2)));\x0a\x20\x20}\x0a}\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20vec3\x20percent\x20=\x20vec3(0.0f);\x0a\x20\x20vec2\x20uRange\x20=\x20getRange(uSpeedRange);\x0a\x20\x20vec2\x20vRange\x20=\x20getRange(vSpeedRange);\x0a\x20\x20vec2\x20wRange\x20=\x20getRange(wSpeedRange);\x0a\x20\x20if(length(speed.xyz)\x20==\x200.0f)\x20{\x0a\x20\x20\x20\x20return\x200.0f;\x0a\x20\x20}\x0a\x0a\x20\x20percent.x\x20=\x20(abs(speed.x)\x20-\x20uRange.x)\x20/\x20(uRange.y\x20-\x20uRange.x);\x0a\x20\x20percent.y\x20=\x20(abs(speed.y)\x20-\x20vRange.x)\x20/\x20(vRange.y\x20-\x20vRange.x);\x0a\x20\x20if(wSpeedRange.y\x20==\x20wSpeedRange.x)\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x200.0f;\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20percent.z\x20=\x20(abs(speed.z)\x20-\x20wRange.x)\x20/\x20(wRange.y\x20-\x20wRange.x);\x0a\x20\x20}\x0a\x20\x20float\x20norm\x20=\x20length(percent);\x0a\x0a\x20\x20return\x20norm;\x0a}\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speedOrigin\x20=\x20linearInterpolation(lonLatLev);\x0a\x20\x20vec3\x20speed\x20=\x20calculateSpeedByRungeKutta2(lonLatLev);\x0a\x20\x20vec3\x20speedInLonLat\x20=\x20convertSpeedUnitToLonLat(lonLatLev,\x20speed);\x0a\x0a\x20\x20vec4\x20particleSpeed\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speed\x20/\x20speedScaleFactor));\x0a\x20\x20\x20\x20//\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20fragColor\x20=\x20vec4(speedInLonLat,\x20calculateWindNorm(speedOrigin));\x0a}\x0a','fill','createFramebuffer','speedFactor','EventType','framebuffers','lineWidth','lonRange','framebuffer','1916412BpZJNv','UNSIGNED_INT','uSpeedRange','_onMapWhellEvent','show','colour','windTextures','create','Texture','THREE_PI_OVER_TWO','__esModule','get','isInExtent','ceil','mars3d-canvasWind','Math','xmax','lng','_map','canvasContext','previousParticlesPosition','postMessage','rows','canvasHeight','type','camera','tlat','alt','_onMap_preRenderEvent','particleHeight','nextTrailsDepth','default','outputTexture','positionWC','commandType','mouse_down','clear','_setOptionsHook','getParticles','redraw','getFullscreenQuad','particlesSpeed','xmin','BaseLayer','blending','ellipsoid','isPointVisible','hidden','once','WindLayer','mouseMove','add','enabled','defined','ymax','windData','depthTest','minimum','height','Color','_pointerEvents','10106208jNfogo','FLOAT','keys','fragmentShaderSource','Cartesian3','RenderState','mod','BoundingSphere','updatePosition','421548LWyCyI','fixedHeight','particlesRendering','fromDegrees','removeEventListener','drawingBufferWidth','_removedHook','fromGeometry','lev','dimensions','uniformMap','PointTrans','globalCompositeOperation','PI_OVER_TWO','initWorker','ymin','max','_drawLines','dimension','vSpeedRange','3894792KsBnwe','isDestroyed','segments','_onMouseUpEvent','lon','absolute','fromCssColorString','visible','segmentsColor','textures','sin','depthMask','_onMouseMoveEvent','currentParticlesPosition','createRenderingTextures','refreshTimer','maxAge','_createCanvas','GeometryAttribute','levmin','toWindowCoordinates','#version\x20300\x20es\x0a\x0aprecision\x20highp\x20float;\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20particlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20norm)\x20Unit\x20converted\x20to\x20degrees\x20of\x20longitude\x20and\x20latitude\x0a\x0ain\x20vec2\x20v_textureCoordinates;\x0a\x0aout\x20vec4\x20fragColor;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20vec3\x20lonLatLev\x20=\x20texture(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20speed\x20=\x20texture(particlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20speed;\x0a\x20\x20if(length(speed.rgb)\x20>\x200.0f)\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(nextParticle,\x200.0f);\x0a\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20fragColor\x20=\x20vec4(0.0f);\x0a\x20\x20}\x0a}\x0a','RGBA','visibility','off','particlesNumber','currentTrailsDepth','fadeOpacity','udata','mode','TRIANGLES','data','north','cancelAnimationFrame','wSpeedRange','UNSIGNED_BYTE','left','cols','mouseUp','createCommand','viewerParameters','removeAll','_addedHook','__proto__','color','clientHeight','worker','ClearCommand','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','postProcessingPosition','PrimitiveType','floor','options','zIndex','PixelDatatype','trails','dropRate','position','406434bSKahD','#ffffff','unbindEvent','atan2','width','update','destroyParticlesTextures','container','push','ComponentDatatype','_updateIng2','speed','round','rawRenderState','CanvasWindLayer','primitives','frameRate','style','3216580wMRSJG','execute','layer','colors','stroke','drawingBufferHeight','Cartesian2','maxParticles','_speedRate','SCENE3D','DISABLE_GL_POSITION_LOG_DEPTH','createComputingPrimitives','randomBetween','resize','grid','vertexShaderSource','dynamic','age','scene','_tomap','nextTrailsColor','createWindTextures','destroy','Cesium','fromCache','currentTrails','now','defines','Sampler','createParticlesTextures','toGridXY','VertexArray','talt','mouseDown','8imrTMM','canvas','Rectangle','getUVByXY','none','wheel','east','setDate','speedRate','forEach','toRadians','pointerEvents','latRange','array','toDegrees','TWO_PI','ColorRamp','commandToExecute','particlesTextureSize','vertexArray','createRenderingFramebuffers','_calc_speedRate','canvasWidth','getValidRange','isDestroy','attributeLocations','mouse_move','WGS84','addEventListener','vdata','addPrimitives','TextureMagnificationFilter','Compute','794006qbwoSV','clientWidth','3JsgKXS','normal','canrefresh','rectangle','Pass','particlesComputing','_mountedHook','min','setOptions','STATIC_DRAW','preExecute','context','particlesTextures','PI_OVER_THREE','depthTexture','lighter','getExtent','moveTo','ShaderSource','pixelFormat','_data','clearFramebuffers','nextTrails','getU','windField','reverseY','geometry','BufferUsage','bindEvent','setGeometry','_calcUV','createTexture','abs','register','shaderProgram','particleSystem','mouseHidden','getOptions','lat','top','_bilinearInterpolation','particles','sources','frameTime','clearCommand','remove','SceneMode','NEAREST','arrayBufferView','TextureMinificationFilter','pixelSize','setData'];_0x33ef=function(){return _0x117e71;};return _0x33ef();}const Cesium$2=mars3d__namespace['Cesium'];class ParticleSystem{constructor(_0x5337c3,_0x53515b,_0x58dbfc,_0x445de2){this[_0x5e4f6c(0x3d5,0x33e)]=_0x5337c3;function _0x20304f(_0x422a52,_0x2f9e22){return _0x13fce6(_0x422a52-0xc,_0x2f9e22);}_0x53515b={..._0x53515b};_0x53515b['udata']&&_0x53515b[_0x20304f(0x4b6,0x44a)]&&(_0x53515b['dimensions']={},_0x53515b[_0x20304f(0x54d,0x4c9)]['lon']=_0x53515b[_0x20304f(0x57d,0x521)],_0x53515b['dimensions']['lat']=_0x53515b['rows'],_0x53515b[_0x5e4f6c(0x45b,0x40c)][_0x20304f(0x54c,0x5e3)]=_0x53515b['lev']||0x1,_0x53515b['lon']={},_0x53515b[_0x5e4f6c(0x46a,0x42e)]['min']=_0x53515b['xmin'],_0x53515b[_0x5e4f6c(0x46a,0x4c1)][_0x20304f(0x554,0x4c1)]=_0x53515b['xmax'],_0x53515b[_0x20304f(0x4e2,0x523)]={},_0x53515b['lat']['min']=_0x53515b['ymin'],_0x53515b['lat'][_0x5e4f6c(0x462,0x422)]=_0x53515b['ymax'],_0x53515b['lev']={},_0x53515b[_0x20304f(0x54c,0x504)][_0x20304f(0x4c3,0x496)]=_0x53515b[_0x20304f(0x56b,0x602)]??0x1,_0x53515b[_0x20304f(0x54c,0x4f1)]['max']=_0x53515b['levmax']??0x1,_0x53515b['U']={},_0x53515b['U']['array']=new Float32Array(_0x53515b['udata']),_0x53515b['U'][_0x5e4f6c(0x3d1,0x3b7)]=_0x53515b['umin']??Math['min'](..._0x53515b['udata']),_0x53515b['U'][_0x20304f(0x554,0x518)]=_0x53515b['umax']??Math[_0x20304f(0x554,0x5e1)](..._0x53515b[_0x20304f(0x574,0x509)]),_0x53515b['V']={},_0x53515b['V']['array']=new Float32Array(_0x53515b[_0x20304f(0x4b6,0x4dd)]),_0x53515b['V'][_0x20304f(0x4c3,0x546)]=_0x53515b['vmin']??Math['min'](..._0x53515b['vdata']),_0x53515b['V']['max']=_0x53515b['vmax']??Math['max'](..._0x53515b['vdata']));function _0x5e4f6c(_0x23d06d,_0x23676a){return _0x13fce6(_0x23d06d- -0xe6,_0x23676a);}!_0x53515b['W']&&(_0x53515b['W']={'array':new Float32Array(_0x53515b['U']['array']['length']),'min':0x0,'max':0x0});if(!_0x53515b['H']){var _0x184afb;_0x53515b['H']={'array':new Float32Array(_0x53515b['U']['array']['length']),'min':0x0,'max':0x0};if((_0x184afb=_0x53515b[_0x20304f(0x54c,0x570)])!==null&&_0x184afb!==void 0x0&&_0x184afb[_0x20304f(0x4a6,0x4c4)]){const {lon:_0x1e9618,lat:_0x5157f9,lev:_0x562e2}=_0x53515b[_0x20304f(0x54d,0x5b7)];for(let _0x45bf4c=0x0;_0x45bf4c<_0x562e2;_0x45bf4c++){for(let _0x52cce0=0x0;_0x52cce0<_0x5157f9;_0x52cce0++){for(let _0x3e59e2=0x0;_0x3e59e2<_0x1e9618;_0x3e59e2++){const _0x3ac94a=_0x45bf4c*(_0x1e9618*_0x5157f9)+_0x52cce0*_0x1e9618+_0x3e59e2;_0x53515b['H'][_0x5e4f6c(0x3b4,0x3dd)][_0x3ac94a]=_0x53515b['lev']['array'][_0x45bf4c];}}}_0x53515b['H']['min']=Math[_0x5e4f6c(0x3d1,0x42f)](..._0x53515b[_0x5e4f6c(0x45a,0x491)][_0x20304f(0x4a6,0x48a)]),_0x53515b['H']['max']=Math[_0x5e4f6c(0x462,0x430)](..._0x53515b[_0x5e4f6c(0x45a,0x3db)]['array']);}}this[_0x20304f(0x577,0x523)]=_0x53515b,this[_0x20304f(0x58c,0x5a8)]=_0x58dbfc,this['viewerParameters']=_0x445de2,this['particlesComputing']=new ParticlesComputing(this['context'],this[_0x20304f(0x577,0x53a)],this['options'],this['viewerParameters']),this['particlesRendering']=new ParticlesRendering(this[_0x20304f(0x4c7,0x472)],this['data'],this['options'],this[_0x5e4f6c(0x48e,0x496)],this['particlesComputing']);}['canvasResize'](_0x4f2cdd){this[_0x11cafb(0x493,0x4ad)]['destroyParticlesTextures'](),Object['keys'](this[_0x4e541a(0xa,-0xc)]['windTextures'])[_0x4e541a(-0x15,-0x3)](_0x23c89c=>{function _0x1749f8(_0x2f7130,_0x5bbe4e){return _0x4e541a(_0x2f7130- -0xa0,_0x5bbe4e);}this['particlesComputing']['windTextures'][_0x23c89c][_0x1749f8(-0xca,-0x142)]();}),this[_0x4e541a(0x8f,-0x6)]['textures']['colorTable'][_0x11cafb(0x45f,0x4b6)](),Object[_0x4e541a(0x86,0xe5)](this['particlesRendering']['framebuffers'])['forEach'](_0x106bf7=>{function _0x271d29(_0x15dbe3,_0x36415f){return _0x11cafb(_0x15dbe3- -0x1be,_0x36415f);}function _0x41dd3c(_0x37a382,_0xa2f8c9){return _0x11cafb(_0x37a382- -0x3c4,_0xa2f8c9);}this[_0x271d29(0x35a,0x386)]['framebuffers'][_0x106bf7][_0x271d29(0x2a1,0x27d)]();}),this['context']=_0x4f2cdd,this[_0x4e541a(0xa,-0x74)]=new ParticlesComputing(this['context'],this[_0x4e541a(0xc0,0x12a)],this[_0x4e541a(0xd5,0x117)],this['viewerParameters']);function _0x4e541a(_0x56ebd9,_0x5ddc3e){return _0x40fcd4(_0x5ddc3e,_0x56ebd9- -0x4d7);}function _0x11cafb(_0x241de2,_0x567572){return _0x40fcd4(_0x567572,_0x241de2- -0x4e);}this['particlesRendering']=new ParticlesRendering(this['context'],this['data'],this[_0x4e541a(0xd5,0x76)],this['viewerParameters'],this['particlesComputing']);}[_0x40fcd4(0x4d2,0x4f1)](){const _0x44ffcc=new Cesium$2[(_0x1ef314(0x443,0x43f))]({'color':new Cesium$2[(_0x1c22ba(0x37a,0x39a))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':undefined,'pass':Cesium$2[_0x1ef314(0x382,0x378)]['OPAQUE']});function _0x1ef314(_0x29b876,_0x5bb4a3){return _0x13fce6(_0x5bb4a3- -0x13c,_0x29b876);}function _0x1c22ba(_0x1eba02,_0x380075){return _0x13fce6(_0x380075- -0x193,_0x1eba02);}Object['keys'](this['particlesRendering']['framebuffers'])[_0x1ef314(0x2e2,0x35a)](_0x139e08=>{_0x44ffcc[_0x47c900(0x3d4,0x445)]=this[_0x47c900(0x513,0x48e)]['framebuffers'][_0x139e08];function _0x47c900(_0x115199,_0x92c8ae){return _0x1ef314(_0x115199,_0x92c8ae-0x90);}function _0x5c8f17(_0x3373fc,_0x84af98){return _0x1ef314(_0x84af98,_0x3373fc- -0x4e4);}_0x44ffcc[_0x5c8f17(-0x1b4,-0x153)](this['context']);});}['refreshParticles'](_0x3a339f,_0x2cb3ee=!![]){_0x2cb3ee&&(this['clearFramebuffers'](),this['particlesComputing']['destroyParticlesTextures'](),this['particlesComputing'][_0x106884(0x2c6,0x34c)](this[_0x106884(0x2f9,0x381)],this['options'],this['viewerParameters']));function _0x106884(_0x5ddd9c,_0x8f7671){return _0x40fcd4(_0x8f7671,_0x5ddd9c- -0x1ee);}function _0x22f2c5(_0x58f6a3,_0x57f837){return _0x13fce6(_0x57f837- -0x408,_0x58f6a3);}if(_0x3a339f){var _0x2c0e58;const _0x174c10=this['particlesRendering']['createSegmentsGeometry'](this['options']);this['particlesRendering']['primitives'][_0x22f2c5(0x10d,0x146)]['geometry']=_0x174c10;const _0x27a17e=Cesium$2['VertexArray']['fromGeometry']({'context':this[_0x106884(0x2f9,0x2b5)],'geometry':_0x174c10,'attributeLocations':this['particlesRendering']['primitives'][_0x106884(0x38c,0x35a)]['attributeLocations'],'bufferUsage':Cesium$2['BufferUsage']['STATIC_DRAW']});(_0x2c0e58=this['particlesRendering']['primitives'])!==null&&_0x2c0e58!==void 0x0&&(_0x2c0e58=_0x2c0e58['segments'])!==null&&_0x2c0e58!==void 0x0&&_0x2c0e58['commandToExecute']&&(this['particlesRendering']['primitives']['segments']['commandToExecute']['vertexArray']=_0x27a17e);}}['setOptions'](_0x4a33e9){function _0x5a5c13(_0x49f4f6,_0x51e67c){return _0x13fce6(_0x49f4f6- -0x308,_0x51e67c);}function _0x462b1e(_0x3fdd72,_0x309c18){return _0x40fcd4(_0x309c18,_0x3fdd72- -0x28b);}let _0x54df46=![];this['options'][_0x462b1e(0x213,0x1b8)]!==_0x4a33e9['maxParticles']&&(_0x54df46=!![]),Object['keys'](_0x4a33e9)[_0x5a5c13(0x18e,0x115)](_0x587525=>{function _0x40da3d(_0x53a1c8,_0x14949f){return _0x5a5c13(_0x14949f-0x1fa,_0x53a1c8);}this[_0x40da3d(0x43e,0x472)][_0x587525]=_0x4a33e9[_0x587525];}),this['refreshParticles'](_0x54df46,_0x4a33e9['dynamic']);}['applyViewerParameters'](_0x7a5d7){Object['keys'](_0x7a5d7)[_0x19302e(-0x214,-0x2a1)](_0x56405d=>{function _0x1f69a6(_0x53f002,_0xab3d6){return _0x19302e(_0xab3d6-0x711,_0x53f002);}this[_0x1f69a6(0x593,0x5db)][_0x56405d]=_0x7a5d7[_0x56405d];});function _0x31505a(_0x47492e,_0x249a13){return _0x40fcd4(_0x249a13,_0x47492e- -0x4d);}this['refreshParticles'](![]);function _0x19302e(_0x4b7b80,_0x1e32d1){return _0x13fce6(_0x4b7b80- -0x6aa,_0x1e32d1);}!this[_0x19302e(-0x12a,-0xd8)]['dynamic']&&(this['options'][_0x19302e(-0x22f,-0x22d)]=!![],this['setOptions'](this[_0x31505a(0x55f,0x58a)]),setTimeout(()=>{function _0x4bb51e(_0x4fec7b,_0x14642d){return _0x31505a(_0x4fec7b- -0x377,_0x14642d);}function _0x2546d1(_0x5b8d14,_0x2e526d){return _0x19302e(_0x5b8d14-0x385,_0x2e526d);}this[_0x2546d1(0x25b,0x1c9)]['dynamic']=![],this['setOptions'](this[_0x4bb51e(0x1e8,0x1d1)]);},0x1f4));}[_0x13fce6(0x481,0x46a)](){function _0x3221f4(_0x3c837b,_0x4b9d6b){return _0x13fce6(_0x4b9d6b- -0x581,_0x3c837b);}clearTimeout(this[_0x3221f4(-0x165,-0xcf)]),this['particlesComputing'][_0xa8271(-0x25b,-0x26b)](),Object['keys'](this['particlesComputing'][_0x3221f4(-0x2,-0x89)])['forEach'](_0x28196b=>{function _0x1fbea1(_0x439c63,_0x4991ed){return _0xa8271(_0x439c63,_0x4991ed-0x6c2);}this['particlesComputing'][_0x1fbea1(0x4ec,0x4f0)][_0x28196b]['destroy']();}),this['particlesRendering'][_0x3221f4(-0x3e,-0x2c)]['colorTable'][_0x3221f4(-0xbb,-0x100)]();function _0xa8271(_0x3c12a4,_0x2e642d){return _0x13fce6(_0x2e642d- -0x6ca,_0x3c12a4);}Object['keys'](this['particlesRendering'][_0xa8271(-0x246,-0x1dc)])['forEach'](_0x54b66f=>{this['particlesRendering']['framebuffers'][_0x54b66f]['destroy']();});for(const _0x365493 in this){delete this[_0x365493];}}}const Cesium$1=mars3d__namespace['Cesium'],BaseLayer$1=mars3d__namespace['layer'][_0x13fce6(0x51d,0x495)],_0x11a5be={};_0x11a5be[_0x40fcd4(0x561,0x591)]=0x1000,_0x11a5be[_0x40fcd4(0x5e3,0x565)]=0x0,_0x11a5be['fadeOpacity']=0.996,_0x11a5be[_0x13fce6(0x584,0x586)]=0.003,_0x11a5be['dropRateBump']=0.01,_0x11a5be[_0x40fcd4(0x5a0,0x518)]=0.5,_0x11a5be['lineWidth']=0x2,_0x11a5be[_0x40fcd4(0x418,0x49a)]=['rgb(206,255,255)'],_0x11a5be[_0x40fcd4(0x53a,0x4a7)]=!![];const DEF_OPTIONS=_0x11a5be;class WindLayer extends BaseLayer$1{constructor(_0x10ada0={}){_0x10ada0={...DEF_OPTIONS,..._0x10ada0},super(_0x10ada0);function _0x5737f6(_0x57d212,_0xd9808c){return _0x13fce6(_0x57d212- -0x164,_0xd9808c);}this[_0x5737f6(0x3b3,0x322)](_0x10ada0);}get[_0x13fce6(0x46d,0x493)](){return this['primitives'];}get['data'](){return this['_data'];}set['data'](_0x31b967){this['setData'](_0x31b967);}get['colors'](){function _0x1b56a6(_0x1749f1,_0x52aa48){return _0x13fce6(_0x52aa48- -0x5d1,_0x1749f1);}return this['options'][_0x1b56a6(-0x118,-0x163)];}set[_0x40fcd4(0x4a1,0x49a)](_0x5949c9){this['options'][_0x52d596(-0xb7,-0x8b)]=_0x5949c9;if(this['particleSystem']){const _0x26e1da={};_0x26e1da[_0x52d596(-0x33,-0x8b)]=_0x5949c9,this[_0x5efe58(-0x278,-0x27d)]['setOptions'](_0x26e1da);}function _0x5efe58(_0x262d90,_0x49dcb5){return _0x13fce6(_0x49dcb5- -0x750,_0x262d90);}function _0x52d596(_0x1924c0,_0x12f1b9){return _0x13fce6(_0x12f1b9- -0x4f9,_0x1924c0);}this[_0x5efe58(-0x352,-0x2d8)]();}[_0x13fce6(0x4b6,0x510)](){}['_addedHook'](){this[_0x42b85c(-0x221,-0x210)]=this[_0x438ffb(0x3e8,0x45e)][_0x438ffb(0x3c9,0x3d7)];function _0x438ffb(_0x437ad8,_0x118171){return _0x13fce6(_0x118171- -0xa6,_0x437ad8);}this[_0x42b85c(-0x193,-0x212)]=this[_0x438ffb(0x474,0x45e)]['camera'],this[_0x438ffb(0x423,0x3c2)]=new Cesium$1['PrimitiveCollection'](),this['_map'][_0x42b85c(-0x221,-0x296)]['primitives']['add'](this['primitives']),this[_0x438ffb(0x4b2,0x4ce)]={'lonRange':new Cesium$1['Cartesian2'](),'latRange':new Cesium$1[(_0x438ffb(0x37e,0x3cb))](),'pixelSize':0x0,'lonDisplayRange':new Cesium$1[(_0x438ffb(0x3f9,0x3cb))](),'latDisplayRange':new Cesium$1['Cartesian2']()},this['globeBoundingSphere']=new Cesium$1[(_0x438ffb(0x4d8,0x490))](Cesium$1['Cartesian3']['ZERO'],Cesium$1['Ellipsoid'][_0x438ffb(0x44d,0x402)]['minimumRadius']),this['updateViewerParameters'](),window[_0x438ffb(0x468,0x403)]('resize',this[_0x438ffb(0x43c,0x3d2)]['bind'](this),![]);function _0x42b85c(_0x543f2f,_0x2572e1){return _0x13fce6(_0x543f2f- -0x69e,_0x2572e1);}this['mouse_down']=![],this[_0x438ffb(0x41b,0x401)]=![],this[_0x438ffb(0x4e8,0x45e)]['on'](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this[_0x42b85c(-0x19a,-0x18e)]['on'](mars3d__namespace['EventType'][_0x42b85c(-0x212,-0x22a)],this['_onMouseDownEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0x42b85c(-0x12c,-0xff)],this[_0x42b85c(-0x14f,-0xff)],this),this['_map']['on'](mars3d__namespace[_0x42b85c(-0x1b1,-0x121)][_0x438ffb(0x50f,0x47e)],this['_onMouseMoveEvent'],this),this[_0x438ffb(0x44d,0x41e)]&&this[_0x438ffb(0x425,0x43d)](this[_0x42b85c(-0x1da,-0x1f9)]);}['_removedHook'](){window['removeEventListener'](_0x4aace1(0x137,0xb2),this['resize']),this['_map']['off'](mars3d__namespace['EventType'][_0x4aace1(0x1a4,0x12d)],this[_0x4aace1(0x1cd,0x149)],this),this['_map'][_0x16df9e(0x13c,0xe3)](mars3d__namespace['EventType'][_0x4aace1(0x151,0x1d4)],this[_0x16df9e(0xcd,0x6b)],this);function _0x16df9e(_0x58b8a5,_0x32b882){return _0x13fce6(_0x58b8a5- -0x428,_0x32b882);}this['_map'][_0x4aace1(0x223,0x22e)](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this['_map'][_0x16df9e(0x13c,0xc5)](mars3d__namespace[_0x4aace1(0x1ac,0x127)][_0x16df9e(0x14a,0x1c2)],this[_0x4aace1(0x20e,0x22c)],this);function _0x4aace1(_0x9115ee,_0x319ecc){return _0x13fce6(_0x9115ee- -0x341,_0x319ecc);}this[_0x16df9e(0xdc,0x11a)][_0x4aace1(0x223,0x239)](mars3d__namespace[_0x4aace1(0x1ac,0x163)][_0x4aace1(0x1e3,0x25e)],this['_onMouseMoveEvent'],this),this['primitives'][_0x4aace1(0x234,0x291)](),this[_0x16df9e(0xdc,0x164)]['scene']['primitives'][_0x16df9e(0xb5,0xcf)](this['primitives']);}[_0x40fcd4(0x511,0x4a4)](){function _0x24a899(_0x20f6f4,_0x320e39){return _0x40fcd4(_0x320e39,_0x20f6f4- -0x51);}if(!this[_0x4e8a19(0x296,0x203)]||!this['particleSystem'])return;this[_0x24a899(0x443,0x3eb)]['show']=![],this['primitives'][_0x4e8a19(0x220,0x282)]();function _0x4e8a19(_0x132710,_0x5aa590){return _0x13fce6(_0x5aa590- -0x2f3,_0x132710);}this['_map'][_0x4e8a19(0x1f4,0x22f)](mars3d__namespace['EventType']['preRender'],this['_onMap_preRenderEvent'],this);}['_onMap_preRenderEvent'](_0x10c061){this['particleSystem']['canvasResize'](this['scene']['context']);function _0x4f9145(_0x234c57,_0x51ffd1){return _0x13fce6(_0x234c57- -0x154,_0x51ffd1);}function _0x19eee2(_0x5d12e8,_0x8484e9){return _0x13fce6(_0x5d12e8- -0x4b7,_0x8484e9);}this[_0x4f9145(0x357,0x3a2)](),this[_0x4f9145(0x314,0x2c8)][_0x19eee2(0x3f,0x3b)]=!![];}['_onMapWhellEvent'](_0x522354){function _0x40e5a2(_0x3f64bd,_0x32ea15){return _0x40fcd4(_0x32ea15,_0x3f64bd- -0x33f);}clearTimeout(this['refreshTimer']);function _0x105f1a(_0x508c33,_0x2233af){return _0x13fce6(_0x508c33-0x1d,_0x2233af);}if(!this['show']||!this[_0x40e5a2(0x1c0,0x1b1)])return;this[_0x105f1a(0x485,0x435)]['show']=![],this[_0x40e5a2(0x248,0x213)]=setTimeout(()=>{function _0x37cdf5(_0x36e598,_0x44090b){return _0x40e5a2(_0x36e598- -0x23f,_0x44090b);}if(!this[_0x37cdf5(-0x5c,-0x2b)])return;this['redraw']();},0xc8);}['_onMouseDownEvent'](_0x38cdb9){this['mouse_down']=!![];}['_onMouseMoveEvent'](_0x4fe429){function _0x2257a2(_0x4fcc07,_0x169bf2){return _0x40fcd4(_0x4fcc07,_0x169bf2- -0x59c);}function _0x3656d7(_0x2892f6,_0x3bc859){return _0x40fcd4(_0x3bc859,_0x2892f6- -0x4db);}if(!this[_0x3656d7(0x47,0xae)]||!this[_0x2257a2(-0x2c,-0x9d)])return;this['mouse_down']&&(this['primitives']['show']=![],this['mouse_move']=!![]);}['_onMouseUpEvent'](_0x5725fa){if(!this['show']||!this[_0x480335(0x39c,0x33a)])return;function _0x480335(_0x41352f,_0x5dc09c){return _0x40fcd4(_0x5dc09c,_0x41352f- -0x163);}this[_0x480335(0x3de,0x3d8)]&&this['mouse_move']&&this['redraw']();this['primitives']['show']=!![];function _0x231ce7(_0x1c7a43,_0x706e4){return _0x13fce6(_0x1c7a43-0x34,_0x706e4);}this[_0x480335(0x3de,0x3ef)]=![],this['mouse_move']=![];}[_0x40fcd4(0x500,0x545)](){function _0x52c4fe(_0x5b485b,_0x43199e){return _0x13fce6(_0x5b485b- -0x29d,_0x43199e);}if(!this['_map']||!this['show'])return;function _0x242385(_0x5b3bac,_0xe5eb36){return _0x40fcd4(_0x5b3bac,_0xe5eb36- -0x622);}this['updateViewerParameters'](),this['particleSystem']['applyViewerParameters'](this[_0x242385(-0x114,-0x82)]),this[_0x52c4fe(0x1cb,0x223)]['show']=!![];}['setData'](_0x2ddb7a){this['_data']=_0x2ddb7a;function _0x5c426e(_0x168a67,_0x51762f){return _0x40fcd4(_0x51762f,_0x168a67- -0x12);}this['particleSystem']&&this[_0x5c426e(0x4ed,0x549)]['destroy']();function _0x573310(_0x4c6e9c,_0x2251e0){return _0x13fce6(_0x2251e0- -0x241,_0x4c6e9c);}this['particleSystem']=new ParticleSystem(this['scene'][_0x573310(0x2ef,0x27a)],_0x2ddb7a,this['getOptions'](),this['viewerParameters']),this[_0x5c426e(0x4c5,0x48b)]();}[_0x40fcd4(0x537,0x543)](_0x53d53d,_0x103156){function _0x281fde(_0x55d943,_0x510f10){return _0x13fce6(_0x55d943- -0x5db,_0x510f10);}if(_0x53d53d)for(const _0x51b3c2 in _0x53d53d){this[_0x51b3c2]=_0x53d53d[_0x51b3c2];}function _0x365387(_0x1e8ee5,_0x44cb41){return _0x13fce6(_0x1e8ee5- -0xa8,_0x44cb41);}this[_0x281fde(-0x108,-0x88)]&&this['particleSystem'][_0x365387(0x410,0x414)](this[_0x365387(0x42d,0x42a)]());}['getOptions'](){const _0x397412=Math[_0x2d258f(-0x61,-0x35)](Math['sqrt'](this['particlesNumber']));this['particlesNumber']=_0x397412*_0x397412;const _0x6cce2a={};_0x6cce2a[_0x4bff9b(0x201,0x258)]=_0x397412,_0x6cce2a['maxParticles']=this['particlesNumber'],_0x6cce2a['colors']=this['colors'];function _0x2d258f(_0x125a97,_0x402832){return _0x40fcd4(_0x125a97,_0x402832- -0x560);}_0x6cce2a[_0x2d258f(-0x7f,-0x25)]=this[_0x4bff9b(0x351,0x2f2)];function _0x4bff9b(_0x3555e8,_0x96cf10){return _0x40fcd4(_0x3555e8,_0x96cf10- -0x273);}return _0x6cce2a[_0x2d258f(-0x1c,0x33)]=this['fadeOpacity'],_0x6cce2a[_0x4bff9b(0x39b,0x33d)]=this['dropRate'],_0x6cce2a['dropRateBump']=this['dropRateBump'],_0x6cce2a['speedFactor']=this['speedFactor'],_0x6cce2a['lineWidth']=this[_0x2d258f(0x32,-0x45)],_0x6cce2a[_0x2d258f(-0xb8,-0xb9)]=this[_0x4bff9b(0x23c,0x234)],_0x6cce2a;}[_0x40fcd4(0x47c,0x4d7)](){function _0x5b6216(_0x3a7dca,_0x4123c4){return _0x40fcd4(_0x4123c4,_0x3a7dca- -0x1ad);}this[_0x5b6216(0x2e7,0x347)]['add'](this[_0x3052f8(0x3d1,0x3c5)]['particlesComputing'][_0x3052f8(0x397,0x35a)]['calculateSpeed']),this['primitives'][_0x5b6216(0x3a4,0x425)](this[_0x3052f8(0x39e,0x3c5)][_0x3052f8(0x3b8,0x3a7)][_0x5b6216(0x2e7,0x34f)]['updatePosition']),this[_0x5b6216(0x2e7,0x351)]['add'](this['particleSystem']['particlesComputing']['primitives']['postProcessingPosition']),this['primitives']['add'](this['particleSystem']['particlesRendering'][_0x5b6216(0x2e7,0x259)]['segments']),this['primitives']['add'](this['particleSystem']['particlesRendering']['primitives'][_0x3052f8(0x500,0x475)]);function _0x3052f8(_0x5ca297,_0x23e1d9){return _0x40fcd4(_0x5ca297,_0x23e1d9- -0x13a);}this[_0x5b6216(0x2e7,0x276)]['add'](this['particleSystem']['particlesRendering']['primitives']['screen']);}['updateViewerParameters'](){let _0x13e7fb=this['camera']['computeViewRectangle'](this['scene']['globe']['ellipsoid']);function _0x5b768c(_0xc43ce8,_0x4574b4){return _0x40fcd4(_0x4574b4,_0xc43ce8- -0x37e);}if(!_0x13e7fb){const _0x5a1709=this['_map'][_0x5b768c(0x16e,0x1eb)]();_0x13e7fb=Cesium$1[_0x186308(0x333,0x377)][_0x186308(0x444,0x423)](_0x5a1709[_0x186308(0x3ff,0x404)],_0x5a1709['ymin'],_0x5a1709['xmax'],_0x5a1709['ymax']);}const _0x46774b=Util['viewRectangleToLonLatRange'](_0x13e7fb);this[_0x5b768c(0x172,0x112)]?(this['viewerParameters'][_0x5b768c(0x19e,0x16f)]['x']=Math['max'](_0x46774b['lon']['min'],this[_0x186308(0x322,0x3ac)][_0x5b768c(0x1ca,0x25b)]),this['viewerParameters'][_0x186308(0x356,0x3d8)]['y']=Math['min'](_0x46774b['lon']['max'],this[_0x5b768c(0x172,0x180)]['xmax']),this['viewerParameters'][_0x5b768c(0x147,0x1d7)]['x']=Math['max'](_0x46774b[_0x186308(0x34e,0x3be)][_0x186308(0x34a,0x39f)],this['_data']['ymin']),this['viewerParameters']['latRange']['y']=Math[_0x5b768c(0x165,0x16e)](_0x46774b['lat'][_0x186308(0x4a9,0x430)],this['_data'][_0x186308(0x41c,0x410)])):(this['viewerParameters'][_0x186308(0x3ef,0x3d8)]['x']=_0x46774b['lon'][_0x186308(0x33b,0x39f)],this['viewerParameters']['lonRange']['y']=_0x46774b['lon']['max'],this[_0x5b768c(0x222,0x25d)][_0x186308(0x328,0x381)]['x']=_0x46774b['lat']['min'],this['viewerParameters']['latRange']['y']=_0x46774b[_0x186308(0x402,0x3be)]['max']);let _0x393078=this[_0x186308(0x441,0x3f3)]['getPixelSize'](this['globeBoundingSphere'],this[_0x186308(0x3b7,0x365)][_0x5b768c(0x1eb,0x280)],this[_0x186308(0x2e4,0x365)][_0x186308(0x37c,0x358)]);function _0x186308(_0x25cba4,_0x2df83e){return _0x40fcd4(_0x25cba4,_0x2df83e- -0x144);}const _0x207e3e=this['scene']['drawingBufferHeight']*0.3;_0x393078<_0x207e3e&&(_0x393078=_0x207e3e),this['viewerParameters'][_0x5b768c(0x190,0x166)]=_0x393078;}}mars3d__namespace['LayerUtil'][_0x40fcd4(0x481,0x4fd)]('wind',WindLayer),mars3d__namespace['layer']['WindLayer']=WindLayer;class CanvasParticle{constructor(){this['lng']=null,this[_0x3e141e(0x4c9,0x460)]=null,this['tlng']=null;function _0x3e141e(_0x447b05,_0x5bfb90){return _0x40fcd4(_0x5bfb90,_0x447b05- -0x39);}function _0x27860f(_0xe508d3,_0x1c8e0a){return _0x13fce6(_0xe508d3- -0x2f3,_0x1c8e0a);}this['tlat']=null,this[_0x27860f(0x189,0x15c)]=null,this['speed']=null;}['destroy'](){for(const _0x43bd51 in this){delete this[_0x43bd51];}}}class CanvasWindField{constructor(_0x361e83){this['setOptions'](_0x361e83);}get['speedRate'](){return this['_speedRate'];}set['speedRate'](_0x44d46e){this['_speedRate']=(0x64-(_0x44d46e>0x63?0x63:_0x44d46e))*0x64;function _0x24c177(_0x159edb,_0xa03102){return _0x13fce6(_0xa03102- -0x290,_0x159edb);}function _0x3027ab(_0x54c24b,_0x36a419){return _0x40fcd4(_0x36a419,_0x54c24b- -0x281);}this[_0x3027ab(0x24d,0x2d6)]=[(this[_0x24c177(0x1f3,0x272)]-this[_0x3027ab(0x2c7,0x2d8)])/this[_0x24c177(0x14d,0x1e3)],(this[_0x24c177(0x201,0x298)]-this[_0x3027ab(0x2f2,0x341)])/this['_speedRate']];}get['maxAge'](){return this['_maxAge'];}set['maxAge'](_0x24c85c){this['_maxAge']=_0x24c85c;}['setOptions'](_0x160eed){this['options']=_0x160eed,this['maxAge']=_0x160eed[_0xdeb056(-0xb1,-0x102)]||0x78,this[_0x67e4c7(-0x2bd,-0x2ae)]=_0x160eed['speedRate']||0x32,this[_0xdeb056(-0x134,-0x112)]=[];function _0x67e4c7(_0x4c25bc,_0x15143d){return _0x40fcd4(_0x15143d,_0x4c25bc- -0x77e);}const _0x3a67f7=_0x160eed[_0xdeb056(-0xa8,-0x91)]||0x1000;function _0xdeb056(_0x2927fe,_0x2bf68c){return _0x40fcd4(_0x2bf68c,_0x2927fe- -0x639);}for(let _0x512f28=0x0;_0x512f28<_0x3a67f7;_0x512f28++){const _0x457345=this['_randomParticle'](new CanvasParticle());this['particles'][_0xdeb056(-0x1ac,-0x1be)](_0x457345);}}[_0x40fcd4(0x4df,0x4c0)](_0x151c2d){this[_0x53a034(0x4f,-0x41)]=_0x151c2d[_0x53a034(0x4f,0x88)],this['cols']=_0x151c2d['cols'],this[_0x53a034(0x63,0xf4)]=_0x151c2d['xmin'],this['xmax']=_0x151c2d[_0x53a034(0x49,0x29)],this['ymin']=_0x151c2d[_0x1d70c3(0x3b4,0x361)],this['ymax']=_0x151c2d[_0x1d70c3(0x305,0x342)],this['grid']=[];const _0x18934a=_0x151c2d['udata'];function _0x53a034(_0x6b2858,_0x5b7266){return _0x13fce6(_0x6b2858- -0x4b9,_0x5b7266);}function _0x1d70c3(_0x4d8929,_0x108128){return _0x13fce6(_0x108128- -0x1e6,_0x4d8929);}const _0x4401f3=_0x151c2d['vdata'];let _0xb6c920=![];_0x18934a['length']===this['rows']&&_0x18934a[0x0]['length']===this['cols']&&(_0xb6c920=!![]);let _0x56fd24=0x0,_0x23ff94=null,_0x436d95=null;for(let _0x391431=0x0;_0x391431<this['rows'];_0x391431++){_0x23ff94=[];for(let _0x2628df=0x0;_0x2628df<this['cols'];_0x2628df++,_0x56fd24++){_0xb6c920?_0x436d95=this[_0x1d70c3(0x2ed,0x2e8)](_0x18934a[_0x391431][_0x2628df],_0x4401f3[_0x391431][_0x2628df]):_0x436d95=this['_calcUV'](_0x18934a[_0x56fd24],_0x4401f3[_0x56fd24]),_0x23ff94[_0x53a034(-0x58,-0xc3)](_0x436d95);}this['grid']['push'](_0x23ff94);}this[_0x1d70c3(0x328,0x39a)][_0x53a034(0x10,-0x3f)]&&this[_0x53a034(-0x40,-0x6f)]['reverse']();}['clear'](){delete this['rows'],delete this[_0x5576f0(0x1da,0x15a)],delete this['xmin'],delete this[_0x5576f0(0x174,0xeb)],delete this['ymin'];function _0x5576f0(_0x1c6ee4,_0x3e8927){return _0x13fce6(_0x3e8927- -0x417,_0x1c6ee4);}delete this['ymax'];function _0x63bbcb(_0x40ecda,_0x2113d9){return _0x13fce6(_0x2113d9- -0x25c,_0x40ecda);}delete this[_0x5576f0(0xd6,0x62)],delete this[_0x63bbcb(0x263,0x27d)];}[_0x13fce6(0x489,0x4f8)](_0x52a737,_0x4f3afd){function _0x3325bd(_0xc67a2a,_0x1fe488){return _0x40fcd4(_0xc67a2a,_0x1fe488- -0x31c);}const _0x322efd=(_0x52a737-this[_0x57b59a(0x57f,0x5d0)])/(this['xmax']-this['xmin'])*(this[_0x57b59a(0x5d4,0x608)]-0x1),_0x1b1f50=(this[_0x57b59a(0x58b,0x586)]-_0x4f3afd)/(this[_0x3325bd(0x203,0x238)]-this[_0x57b59a(0x5aa,0x546)])*(this['rows']-0x1);function _0x57b59a(_0x45c165,_0x2a25f2){return _0x40fcd4(_0x2a25f2,_0x45c165-0x37);}return[_0x322efd,_0x1b1f50];}[_0x13fce6(0x490,0x4b3)](_0x530b96,_0x4be911){if(_0x530b96<0x0||_0x530b96>=this[_0x28e402(0x440,0x4d0)]||_0x4be911>=this['rows'])return[0x0,0x0,0x0];const _0x1481de=Math[_0x28e402(0x48d,0x4de)](_0x530b96),_0x3f3ff4=Math['floor'](_0x4be911);if(_0x1481de===_0x530b96&&_0x3f3ff4===_0x4be911)return this[_0x28e402(0x468,0x3d8)][_0x4be911][_0x530b96];const _0x1ed954=_0x1481de+0x1,_0x4c2e5a=_0x3f3ff4+0x1;function _0x509add(_0x318e97,_0x50d114){return _0x40fcd4(_0x50d114,_0x318e97- -0x6dd);}function _0x28e402(_0x4f8d0f,_0x1ecb76){return _0x40fcd4(_0x4f8d0f,_0x1ecb76- -0xcd);}const _0x295ca1=this[_0x509add(-0x221,-0x1e7)](_0x1481de,_0x3f3ff4),_0xcdb113=this['getUVByXY'](_0x1ed954,_0x3f3ff4),_0x1b6f7e=this[_0x28e402(0x433,0x3ef)](_0x1481de,_0x4c2e5a),_0x1177b5=this['getUVByXY'](_0x1ed954,_0x4c2e5a);let _0x31327f=null;try{_0x31327f=this['_bilinearInterpolation'](_0x530b96-_0x1481de,_0x4be911-_0x3f3ff4,_0x295ca1,_0xcdb113,_0x1b6f7e,_0x1177b5);}catch(_0x3fc797){console['log'](_0x530b96,_0x4be911);}return _0x31327f;}[_0x13fce6(0x4d8,0x459)](_0x58f403,_0x363a71,_0x44237a,_0x3ce5dc,_0x1d9680,_0x267bdf){const _0x312667=0x1-_0x58f403,_0x1febf6=0x1-_0x363a71,_0x3c8e81=_0x312667*_0x1febf6,_0x5ab901=_0x58f403*_0x1febf6,_0x32044a=_0x312667*_0x363a71,_0x3d0448=_0x58f403*_0x363a71,_0x160b53=_0x44237a[0x0]*_0x3c8e81+_0x3ce5dc[0x0]*_0x5ab901+_0x1d9680[0x0]*_0x32044a+_0x267bdf[0x0]*_0x3d0448,_0x58098f=_0x44237a[0x1]*_0x3c8e81+_0x3ce5dc[0x1]*_0x5ab901+_0x1d9680[0x1]*_0x32044a+_0x267bdf[0x1]*_0x3d0448;return this['_calcUV'](_0x160b53,_0x58098f);}[_0x13fce6(0x4ce,0x456)](_0x48c541,_0x2aa1a2){return[+_0x48c541,+_0x2aa1a2,Math['sqrt'](_0x48c541*_0x48c541+_0x2aa1a2*_0x2aa1a2)];}['getUVByPoint'](_0x3543c2,_0x2774b9){if(!this[_0x329d8d(0x353,0x3b1)](_0x3543c2,_0x2774b9))return null;const _0xccc28c=this['toGridXY'](_0x3543c2,_0x2774b9);function _0x329d8d(_0x19606f,_0x45cbeb){return _0x13fce6(_0x45cbeb- -0x14d,_0x19606f);}const _0x268ba1=this['getUVByXY'](_0xccc28c[0x0],_0xccc28c[0x1]);return _0x268ba1;}['isInExtent'](_0xf5ae19,_0x2a6e4c){return _0xf5ae19>=this['xmin']&&_0xf5ae19<=this['xmax']&&_0x2a6e4c>=this['ymin']&&_0x2a6e4c<=this['ymax']?!![]:![];}['getRandomLatLng'](){const _0x400552=fRandomByfloat(this['xmin'],this['xmax']),_0x105f05=fRandomByfloat(this[_0x391f82(0x410,0x420)],this[_0x2c2bb5(0xcb,0x131)]),_0x5a0283={};_0x5a0283[_0x391f82(0x39f,0x354)]=_0x105f05,_0x5a0283[_0x2c2bb5(0x82,0x10c)]=_0x400552;function _0x2c2bb5(_0x4b6981,_0x17f8cd){return _0x40fcd4(_0x4b6981,_0x17f8cd- -0x423);}function _0x391f82(_0x5d65f9,_0x30679a){return _0x40fcd4(_0x30679a,_0x5d65f9- -0x163);}return _0x5a0283;}[_0x13fce6(0x518,0x575)](){let _0xb7814,_0x10c522,_0x9f998b;for(let _0x3ca16a=0x0,_0x1fdb79=this['particles']['length'];_0x3ca16a<_0x1fdb79;_0x3ca16a++){let _0x4aa525=this['particles'][_0x3ca16a];_0x4aa525[_0x24d592(-0x11b,-0x126)]<=0x0&&(_0x4aa525=this['_randomParticle'](_0x4aa525));if(_0x4aa525[_0x2734d8(0x135,0x13a)]>0x0){const _0x5f1f7f=_0x4aa525['tlng'],_0x245601=_0x4aa525['tlat'];_0x9f998b=this['getUVByPoint'](_0x5f1f7f,_0x245601),_0x9f998b?(_0xb7814=_0x5f1f7f+this['_calc_speedRate'][0x0]*_0x9f998b[0x0],_0x10c522=_0x245601+this[_0x24d592(-0xf5,-0x92)][0x1]*_0x9f998b[0x1],_0x4aa525['lng']=_0x5f1f7f,_0x4aa525[_0x2734d8(0x18f,0x11a)]=_0x245601,_0x4aa525['tlng']=_0xb7814,_0x4aa525[_0x24d592(-0x8b,-0x8f)]=_0x10c522,_0x4aa525[_0x24d592(-0x133,-0x145)]=_0x9f998b[0x2],_0x4aa525[_0x24d592(-0x11b,-0x160)]--):_0x4aa525['age']=0x0;}}function _0x24d592(_0x114b4e,_0x3f049a){return _0x40fcd4(_0x3f049a,_0x114b4e- -0x5c3);}function _0x2734d8(_0x27f804,_0x49e340){return _0x13fce6(_0x27f804- -0x347,_0x49e340);}return this[_0x24d592(-0xbe,-0x79)];}['_randomParticle'](_0x48b6d9){let _0x2d7741,_0x2a23d8;for(let _0x2b28b0=0x0;_0x2b28b0<0x1e;_0x2b28b0++){_0x2d7741=this['getRandomLatLng'](),_0x2a23d8=this['getUVByPoint'](_0x2d7741[_0x34644e(0xbc,0x13c)],_0x2d7741['lat']);if(_0x2a23d8&&_0x2a23d8[0x2]>0x0)break;}function _0x34644e(_0x1e59be,_0x23d9e2){return _0x40fcd4(_0x23d9e2,_0x1e59be- -0x473);}if(!_0x2a23d8)return _0x48b6d9;const _0x3b10f3=_0x2d7741[_0x34644e(0xbc,0xe4)]+this[_0x12a6bd(0x3ad,0x398)][0x0]*_0x2a23d8[0x0],_0x5b5e8b=_0x2d7741[_0x12a6bd(0x3e1,0x367)]+this[_0x12a6bd(0x3ad,0x385)][0x1]*_0x2a23d8[0x1];_0x48b6d9[_0x34644e(0xbc,0x12e)]=_0x2d7741['lng'],_0x48b6d9[_0x34644e(0x8f,0x81)]=_0x2d7741['lat'],_0x48b6d9['tlng']=_0x3b10f3,_0x48b6d9[_0x34644e(0xc5,0xa9)]=_0x5b5e8b,_0x48b6d9['age']=Math[_0x12a6bd(0x370,0x2ee)](Math['random']()*this[_0x12a6bd(0x467,0x48b)]);function _0x12a6bd(_0x5443d4,_0x16e029){return _0x40fcd4(_0x16e029,_0x5443d4- -0x121);}return _0x48b6d9[_0x12a6bd(0x36f,0x35d)]=_0x2a23d8[0x2],_0x48b6d9;}[_0x13fce6(0x481,0x447)](){for(const _0x32b3cc in this){delete this[_0x32b3cc];}}}function fRandomByfloat(_0x1edc68,_0x38c1e0){return _0x1edc68+Math['random']()*(_0x38c1e0-_0x1edc68);}function _0x40fcd4(_0x8d6e92,_0x5aad6f){return _0x196a(_0x5aad6f-0x39d,_0x8d6e92);}const Cesium=mars3d__namespace[_0x40fcd4(0x51b,0x4ae)],BaseLayer=mars3d__namespace[_0x40fcd4(0x4ce,0x499)][_0x40fcd4(0x5a6,0x549)];function _0x13fce6(_0x4cd0d7,_0x2d4666){return _0x196a(_0x4cd0d7-0x371,_0x2d4666);}class CanvasWindLayer extends BaseLayer{constructor(_0x58ffc8={}){function _0x43a5ea(_0x4733dd,_0x200edd){return _0x40fcd4(_0x4733dd,_0x200edd- -0x3c6);}super(_0x58ffc8),this['_setOptionsHook'](_0x58ffc8),this['canvas']=null,_0x58ffc8['colors']&&_0x58ffc8['steps']&&(this['_colorRamp']=new mars3d__namespace[(_0x43a5ea(0xc1,0x103))](_0x58ffc8));}[_0x13fce6(0x517,0x57d)](_0x37149a,_0x5f21cb){this['frameTime']=0x3e8/(_0x37149a[_0x3227c4(0x11b,0xa8)]||0xa),this['_pointerEvents']=this[_0x3227c4(0x232,0x1b9)][_0x3227c4(0x14a,0x1ae)]??![],this['color']=_0x37149a[_0x1a8af5(0x23c,0x28b)]||_0x3227c4(0x10c,0x142),this[_0x3227c4(0x1a1,0x176)]=_0x37149a[_0x1a8af5(0x1b3,0x1ba)]||0x1,this[_0x3227c4(0x1eb,0x1c4)]=_0x37149a[_0x3227c4(0x1eb,0x23b)]??0x0;function _0x3227c4(_0x3553b8,_0x10ff08){return _0x13fce6(_0x3553b8- -0x34e,_0x10ff08);}function _0x1a8af5(_0x1c95f5,_0x42a11e){return _0x40fcd4(_0x42a11e,_0x1c95f5- -0x368);}this['reverseY']=_0x37149a['reverseY']??![],this['windField']&&this['windField']['setOptions'](_0x37149a);}get[_0x13fce6(0x46d,0x479)](){return this['canvas'];}get[_0x40fcd4(0x43e,0x4cf)](){function _0x270668(_0x3c7b09,_0x5bd106){return _0x13fce6(_0x3c7b09- -0x1d0,_0x5bd106);}function _0x259ba3(_0x4665d8,_0x5e309b){return _0x13fce6(_0x4665d8- -0x5c8,_0x5e309b);}return this['_map'][_0x270668(0x2ad,0x263)][_0x259ba3(-0x13a,-0x17a)][_0x259ba3(-0x119,-0x143)];}get['canvasHeight'](){function _0x59b5ed(_0xa5a2b5,_0x1e4fd0){return _0x40fcd4(_0xa5a2b5,_0x1e4fd0- -0x481);}function _0x3aa496(_0xff3d09,_0x2954d8){return _0x13fce6(_0x2954d8- -0x227,_0xff3d09);}return this[_0x3aa496(0x247,0x2dd)]['scene']['canvas'][_0x59b5ed(0xe3,0x124)];}get['pointerEvents'](){function _0x3fa080(_0x6c8856,_0x2db66b){return _0x13fce6(_0x2db66b- -0x17a,_0x6c8856);}return this[_0x3fa080(0x421,0x3b4)];}set['pointerEvents'](_0x40802b){function _0x5a3cf2(_0x50264a,_0x5563b5){return _0x40fcd4(_0x5563b5,_0x50264a- -0x767);}this['_pointerEvents']=_0x40802b;if(!this['canvas'])return;function _0x3a98d6(_0x43ec8d,_0x12e2c7){return _0x40fcd4(_0x43ec8d,_0x12e2c7- -0x706);}_0x40802b?this['canvas'][_0x5a3cf2(-0x2d1,-0x260)]['pointer-events']='all':this['canvas']['style']['pointer-events']=_0x5a3cf2(-0x2aa,-0x232);}get[_0x13fce6(0x565,0x56d)](){function _0x91e4cb(_0x47b15e,_0x4acd1f){return _0x13fce6(_0x47b15e- -0x208,_0x4acd1f);}return this['options'][_0x91e4cb(0x35d,0x34c)];}set['particlesNumber'](_0x34a6f0){this[_0x118c4e(0xc3,0x9d)]['particlesNumber']=_0x34a6f0;function _0x118c4e(_0x3c407a,_0x5650af){return _0x13fce6(_0x3c407a- -0x4bd,_0x5650af);}clearTimeout(this['_canrefresh']),this['_canrefresh']=setTimeout(()=>{this['redraw']();},0x1f4);}get[_0x13fce6(0x495,0x4aa)](){return this['options']['speedRate'];}set['speedRate'](_0x267b45){function _0x46fdb7(_0x9fd00f,_0x3cb866){return _0x13fce6(_0x3cb866- -0x6c5,_0x9fd00f);}function _0xdf66ac(_0x44ad7,_0x72ad1e){return _0x13fce6(_0x72ad1e- -0x179,_0x44ad7);}this['options']['speedRate']=_0x267b45,this['windField']&&(this[_0xdf66ac(0x3cf,0x34f)][_0x46fdb7(-0x1fe,-0x230)]=_0x267b45);}get[_0x40fcd4(0x5f0,0x588)](){return this['options']['maxAge'];}set['maxAge'](_0x595c78){this['options']['maxAge']=_0x595c78;function _0x1d15e3(_0x390c87,_0x39190f){return _0x13fce6(_0x390c87- -0x31,_0x39190f);}this['windField']&&(this[_0x1d15e3(0x497,0x4fa)]['maxAge']=_0x595c78);}get[_0x40fcd4(0x5f8,0x597)](){return this['windData'];}set['data'](_0x2f0dbe){function _0x3a73e0(_0x571ba5,_0x1e3fca){return _0x40fcd4(_0x1e3fca,_0x571ba5- -0x622);}this[_0x3a73e0(-0x113,-0x14c)](_0x2f0dbe);}get[_0x13fce6(0x4b3,0x46d)](){let _0xe7b910=this['windData']['xmin'],_0x36cc9f=this[_0x58f02f(0x304,0x2bf)]['xmax'],_0x40812b=this['windData'][_0x5934fb(0x43e,0x41b)],_0x1d38e4=this[_0x5934fb(0x3f1,0x3fd)]['ymax'];_0x36cc9f>=0x167&&_0xe7b910===0x0&&(_0xe7b910=-0xb4,_0x36cc9f=0xb4);function _0x58f02f(_0x2d9055,_0x589774){return _0x13fce6(_0x2d9055- -0x225,_0x589774);}function _0x5934fb(_0x5a78a1,_0x1f7fdf){return _0x13fce6(_0x1f7fdf- -0x12c,_0x5a78a1);}return _0xe7b910=Math['max'](_0xe7b910,-0xb4),_0x36cc9f=Math[_0x58f02f(0x292,0x2c7)](_0x36cc9f,0xb4),_0x40812b=Math['max'](_0x40812b,-0x5a),_0x1d38e4=Math[_0x5934fb(0x368,0x38b)](_0x1d38e4,0x5a),Cesium['Rectangle'][_0x5934fb(0x385,0x40f)](_0xe7b910,_0x40812b,_0x36cc9f,_0x1d38e4);}['_showHook'](_0x2ac88d){function _0x3182f5(_0x5c74ae,_0x1ece70){return _0x40fcd4(_0x1ece70,_0x5c74ae- -0x6ff);}function _0x449b2e(_0x3232c5,_0x16d21f){return _0x13fce6(_0x3232c5- -0xd4,_0x16d21f);}_0x2ac88d?this[_0x449b2e(0x4a2,0x4b6)]():(this[_0x3182f5(-0x1aa,-0x133)]&&(this[_0x3182f5(-0x153,-0x1be)]['data']=this['windData']),this[_0x3182f5(-0x195,-0x22c)]());}['_mountedHook'](){function _0x48f918(_0x4a00ed,_0x46472d){return _0x40fcd4(_0x4a00ed,_0x46472d- -0x222);}this['options']['worker']?this[_0x48f918(0x355,0x350)]():this['windField']=new CanvasWindField(this['options']);}['_addedHook'](){this[_0x42a0ff(-0x28a,-0x2c6)]=this['_createCanvas']();const _0x477b3e={};_0x477b3e['willReadFrequently']=!![];function _0x2d1942(_0x288c56,_0x522768){return _0x13fce6(_0x522768- -0x268,_0x288c56);}function _0x42a0ff(_0x4ade7c,_0x29be17){return _0x13fce6(_0x29be17- -0x754,_0x4ade7c);}this['canvasContext']=this['canvas']['getContext']('2d',_0x477b3e),this['bindEvent'](),this['options'][_0x42a0ff(-0x1b8,-0x1e9)]&&this['setData'](this[_0x42a0ff(-0x147,-0x1d4)][_0x2d1942(0x2f3,0x303)]);}[_0x40fcd4(0x523,0x56a)](){function _0x7d5143(_0x565e5c,_0x1ec006){return _0x13fce6(_0x565e5c- -0x4f3,_0x1ec006);}this['clear'](),this['unbindEvent']();function _0x127a0b(_0x39b8a3,_0x1af423){return _0x40fcd4(_0x1af423,_0x39b8a3- -0x13f);}this['canvas']&&(this['_map'][_0x127a0b(0x34d,0x2f0)]['removeChild'](this[_0x7d5143(-0x65,-0x9e)]),delete this[_0x7d5143(-0x65,0x27)]);}[_0x13fce6(0x55d,0x5e5)](){const _0x5b43ea=mars3d__namespace['DomUtil'][_0x17663c(-0xe7,-0xf1)]('canvas',_0x17663c(-0x12c,-0xea),this[_0x51f048(0x25c,0x23f)][_0x17663c(-0x219,-0x18a)]);_0x5b43ea[_0x17663c(-0x204,-0x180)]['position']=_0x17663c(-0xe3,-0x99),_0x5b43ea[_0x51f048(0x1c2,0x1a5)][_0x17663c(-0x149,-0x113)]='0px',_0x5b43ea[_0x51f048(0x1c2,0x1e7)][_0x17663c(-0xd2,-0x7a)]='0px',_0x5b43ea['style']['width']=this[_0x17663c(-0x72,-0xe6)][_0x51f048(0x1d5,0x1df)][_0x51f048(0x1e6,0x1e4)]['clientWidth']+'px',_0x5b43ea['style']['height']=this['_map']['scene'][_0x51f048(0x1e6,0x237)]['clientHeight']+'px';function _0x17663c(_0x252958,_0x23addc){return _0x13fce6(_0x23addc- -0x5ea,_0x252958);}_0x5b43ea[_0x51f048(0x1c2,0x13e)]['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x5b43ea[_0x51f048(0x1c2,0x168)][_0x17663c(-0xac,-0x69)]=this[_0x51f048(0x2d8,0x29b)]['zIndex']??0x9,_0x5b43ea[_0x17663c(-0x195,-0x18d)]=this['_map'][_0x17663c(-0x14d,-0x16d)]['canvas'][_0x17663c(-0x11e,-0x13b)],_0x5b43ea[_0x51f048(0x284,0x267)]=this['_map']['scene'][_0x17663c(-0xd3,-0x15c)][_0x17663c(0xc,-0x71)];function _0x51f048(_0x12e536,_0xe5a169){return _0x40fcd4(_0xe5a169,_0x12e536- -0x2d4);}return _0x5b43ea;}['resize'](){function _0x344ccf(_0x4aff38,_0x1d2d07){return _0x13fce6(_0x1d2d07- -0x60,_0x4aff38);}function _0x7cb664(_0x16dc99,_0x55b6a5){return _0x40fcd4(_0x55b6a5,_0x16dc99- -0x5f5);}this[_0x344ccf(0x3de,0x42e)]&&(this['canvas']['style'][_0x7cb664(-0x16c,-0x10e)]=this['_map'][_0x7cb664(-0x14c,-0x115)][_0x7cb664(-0x13b,-0x164)][_0x344ccf(0x3f2,0x44f)]+'px',this['canvas'][_0x344ccf(0x42d,0x40a)]['height']=this[_0x344ccf(0x49d,0x4a4)]['scene'][_0x7cb664(-0x13b,-0x183)][_0x344ccf(0x507,0x519)]+'px',this['canvas']['width']=this['_map']['scene']['canvas'][_0x344ccf(0x3c4,0x44f)],this[_0x344ccf(0x3af,0x42e)]['height']=this['_map'][_0x7cb664(-0x14c,-0x1c6)][_0x344ccf(0x40f,0x42e)]['clientHeight']);}[_0x40fcd4(0x582,0x4f8)](){const _0x3f91af=this;let _0x55b39f=Date[_0x652fda(-0x206,-0x223)]();function _0x652fda(_0x26d143,_0x5ece66){return _0x40fcd4(_0x26d143,_0x5ece66- -0x6d4);}(function _0x41806c(){function _0x16fa8c(_0x11e96a,_0x1c597f){return _0x652fda(_0x1c597f,_0x11e96a-0x239);}if(_0x3f91af[_0x16fa8c(0x36,0x64)])return;_0x3f91af['_animateFrame']=window['requestAnimationFrame'](_0x41806c);function _0x28cdc8(_0x4f8415,_0x59b848){return _0x652fda(_0x59b848,_0x4f8415-0x49e);}if(_0x3f91af[_0x16fa8c(0x87,0x55)]&&_0x3f91af['windField']){const _0x4682e3=Date[_0x16fa8c(0x16,0x2f)](),_0x1db3f2=_0x4682e3-_0x55b39f;_0x1db3f2>_0x3f91af['frameTime']&&(_0x55b39f=_0x4682e3-_0x1db3f2%_0x3f91af[_0x28cdc8(0x2d1,0x2be)],_0x3f91af[_0x16fa8c(-0x11,-0x70)]());}}(),window['addEventListener']('resize',this['resize']['bind'](this),![]),this['mouse_down']=![],this['mouse_move']=![]);function _0xe95baa(_0x4fd0ee,_0xa7ffc6){return _0x13fce6(_0x4fd0ee- -0x223,_0xa7ffc6);}this['options'][_0xe95baa(0x2b1,0x343)]&&(this['_map']['on'](mars3d__namespace['EventType'][_0xe95baa(0x26f,0x2ff)],this['_onMapWhellEvent'],this),this['_map']['on'](mars3d__namespace[_0x652fda(-0x1ef,-0x1bb)]['mouseDown'],this['_onMouseDownEvent'],this),this['_map']['on'](mars3d__namespace[_0x652fda(-0x126,-0x1bb)]['mouseUp'],this['_onMouseUpEvent'],this));}[_0x13fce6(0x45b,0x47d)](){window[_0x460f9e(0x150,0xd3)](this['_animateFrame']);function _0x35e533(_0x5fcef,_0x38a05c){return _0x13fce6(_0x38a05c- -0x22f,_0x5fcef);}function _0x460f9e(_0x2b0094,_0x5dae94){return _0x40fcd4(_0x2b0094,_0x5dae94- -0x4c6);}delete this[_0x35e533(0x2fb,0x2b9)],window[_0x35e533(0x2cd,0x30d)](_0x460f9e(0x6a,-0x22),this['resize']),this['options']['mouseHidden']&&(this[_0x460f9e(0xbc,0x6a)][_0x35e533(0x32b,0x335)](mars3d__namespace['EventType']['wheel'],this['_onMapWhellEvent'],this),this[_0x460f9e(0x2a,0x6a)]['off'](mars3d__namespace['EventType']['mouseDown'],this['_onMouseDownEvent'],this),this[_0x460f9e(0x7d,0x6a)]['off'](mars3d__namespace[_0x460f9e(0x7e,0x53)]['mouseUp'],this[_0x35e533(0x32d,0x320)],this),this[_0x460f9e(0x3d,0x6a)]['off'](mars3d__namespace[_0x35e533(0x28c,0x2be)][_0x460f9e(0xd0,0x8a)],this[_0x460f9e(0xe6,0xbe)],this));}[_0x40fcd4(0x571,0x521)](_0x4319f0){function _0x24c9e0(_0x301ac6,_0x33a2c7){return _0x40fcd4(_0x301ac6,_0x33a2c7- -0x259);}clearTimeout(this['refreshTimer']);if(!this['show']||!this['canvas'])return;this['canvas']['style']['visibility']=_0x24c9e0(0x337,0x2f4),this['refreshTimer']=setTimeout(()=>{function _0x23880a(_0x27a2a3,_0x59e961){return _0x24c9e0(_0x27a2a3,_0x59e961-0x248);}function _0x30e145(_0x3aa4b5,_0xd43f64){return _0x24c9e0(_0x3aa4b5,_0xd43f64-0x16d);}if(!this['show'])return;this['redraw'](),this[_0x23880a(0x4d2,0x4a9)]['style'][_0x23880a(0x57b,0x57e)]='visible';},0xc8);}['_onMouseDownEvent'](_0x5d8f9d){this['mouse_down']=!![],this[_0x2a46dc(0x12d,0x10b)]['off'](mars3d__namespace['EventType']['mouseMove'],this['_onMouseMoveEvent'],this);function _0x2a46dc(_0x4f5750,_0x459eba){return _0x40fcd4(_0x459eba,_0x4f5750- -0x403);}function _0x459b11(_0x561003,_0x2e83c0){return _0x40fcd4(_0x2e83c0,_0x561003- -0x12);}this['_map']['on'](mars3d__namespace[_0x459b11(0x507,0x4e9)][_0x2a46dc(0x14d,0x140)],this[_0x459b11(0x572,0x512)],this);}['_onMouseMoveEvent'](_0x1ad436){function _0x120f23(_0x179fe1,_0x54dd9a){return _0x40fcd4(_0x179fe1,_0x54dd9a- -0x453);}if(!this[_0x120f23(0x164,0xcf)]||!this[_0x120f23(0xfa,0x67)])return;function _0x35a612(_0x302308,_0x5944e9){return _0x40fcd4(_0x5944e9,_0x302308- -0xfc);}this[_0x35a612(0x445,0x4b4)]&&(this['canvas']['style'][_0x120f23(0x194,0x13c)]=_0x120f23(0xbb,0xfa),this['mouse_move']=!![]);}['_onMouseUpEvent'](_0x5cfedf){function _0x3989bb(_0x97062b,_0x3c9a25){return _0x40fcd4(_0x3c9a25,_0x97062b- -0x226);}function _0x4785cb(_0x3d5c40,_0x1db82c){return _0x13fce6(_0x3d5c40-0x23,_0x1db82c);}if(!this['show']||!this['canvas'])return;this['_map']['off'](mars3d__namespace[_0x4785cb(0x510,0x500)]['mouseMove'],this['_onMouseMoveEvent'],this),this['mouse_down']&&this['mouse_move']&&this[_0x4785cb(0x53c,0x4fa)](),this['canvas']['style'][_0x3989bb(0x369,0x36a)]=_0x3989bb(0x359,0x352),this['mouse_down']=![],this[_0x3989bb(0x2ad,0x24b)]=![];}['setData'](_0x234176){this['clear'](),this['windData']=_0x234176,this['windField']['setDate'](_0x234176),this['redraw']();}['redraw'](){function _0x51df69(_0x5cdaf5,_0x16ef2d){return _0x40fcd4(_0x5cdaf5,_0x16ef2d- -0x686);}if(!this['show'])return;this['windField']['setOptions'](this[_0x51df69(-0xc9,-0xda)]),this['update']();}[_0x13fce6(0x45e,0x3c8)](){if(this['_updateIng'])return;function _0x2dcd96(_0x3a1a78,_0x69b8e6){return _0x13fce6(_0x69b8e6- -0x109,_0x3a1a78);}this['_updateIng']=!![];if(this[_0x2dcd96(0x47a,0x471)])this[_0x1e614a(0xde,0x15b)][_0x2dcd96(0x387,0x355)]();else{const _0x288719=this['windField'][_0x1e614a(0x12e,0x131)]();this[_0x1e614a(0x15f,0x1c6)](_0x288719);}function _0x1e614a(_0x2d1e97,_0x47b0cc){return _0x13fce6(_0x2d1e97- -0x3ea,_0x47b0cc);}this['_updateIng']=![];}['_drawLines'](_0x30ac8c){this['_canvasParticles']=_0x30ac8c,this['canvasContext'][_0x4f51e8(0x54d,0x570)]='destination-in',this['canvasContext']['fillRect'](0x0,0x0,this['canvasWidth'],this[_0x4f51e8(0x512,0x4bd)]);function _0x4f51e8(_0x199e1e,_0x2b3cd6){return _0x40fcd4(_0x2b3cd6,_0x199e1e- -0x23);}this[_0x4f51e8(0x50e,0x4ad)][_0x4f51e8(0x54d,0x522)]=_0x4f51e8(0x4c8,0x4cf),this['canvasContext']['globalAlpha']=0.9;function _0x1c97ac(_0x59dfb7,_0x3d5a41){return _0x40fcd4(_0x59dfb7,_0x3d5a41- -0xf);}const _0x5edcba=this[_0x4f51e8(0x50d,0x54b)]['scene']['mode']!==Cesium['SceneMode']['SCENE3D'],_0x45c626=this[_0x1c97ac(0x45f,0x4c0)]*0.25;if(this['_colorRamp'])for(let _0x420ae5=0x0,_0x20f244=_0x30ac8c['length'];_0x420ae5<_0x20f244;_0x420ae5++){const _0x44d010=_0x30ac8c[_0x420ae5],_0x324b7b=this['_tomap'](_0x44d010,_0x44d010['lng'],_0x44d010[_0x4f51e8(0x4df,0x4fe)],_0x44d010['alt']),_0x5ce958=this[_0x4f51e8(0x487,0x446)](_0x44d010,_0x44d010['tlng'],_0x44d010['tlat'],_0x44d010['talt']);if(!_0x324b7b||!_0x5ce958)continue;if(_0x5edcba&&Math['abs'](_0x324b7b[0x0]-_0x5ce958[0x0])>=_0x45c626)continue;this['canvasContext']['beginPath'](),this[_0x1c97ac(0x4b7,0x522)]['lineWidth']=this[_0x1c97ac(0x4fd,0x50c)],this['canvasContext'][_0x1c97ac(0x53d,0x503)]=this['_colorRamp']['getColor'](_0x44d010['speed']),this['canvasContext']['moveTo'](_0x324b7b[0x0],_0x324b7b[0x1]),this[_0x1c97ac(0x585,0x522)]['lineTo'](_0x5ce958[0x0],_0x5ce958[0x1]),this[_0x1c97ac(0x4ed,0x522)]['stroke']();}else{this['canvasContext']['beginPath'](),this[_0x1c97ac(0x551,0x522)]['lineWidth']=this[_0x4f51e8(0x4f8,0x543)],this[_0x1c97ac(0x498,0x522)]['strokeStyle']=this[_0x4f51e8(0x581,0x58a)];for(let _0x3a0a9f=0x0,_0x312fed=_0x30ac8c['length'];_0x3a0a9f<_0x312fed;_0x3a0a9f++){const _0xc55397=_0x30ac8c[_0x3a0a9f],_0x5980f5=this[_0x4f51e8(0x487,0x433)](_0xc55397,_0xc55397[_0x4f51e8(0x50c,0x4b1)],_0xc55397['lat'],_0xc55397[_0x4f51e8(0x516,0x51d)]),_0x424b71=this['_tomap'](_0xc55397,_0xc55397['tlng'],_0xc55397['tlat'],_0xc55397[_0x1c97ac(0x435,0x4a8)]);if(!_0x5980f5||!_0x424b71)continue;if(_0x5edcba&&Math[_0x4f51e8(0x4d9,0x492)](_0x5980f5[0x0]-_0x424b71[0x0])>=_0x45c626)continue;this[_0x4f51e8(0x50e,0x57a)][_0x4f51e8(0x4ca,0x50d)](_0x5980f5[0x0],_0x5980f5[0x1]),this['canvasContext']['lineTo'](_0x424b71[0x0],_0x424b71[0x1]);}this[_0x1c97ac(0x4c4,0x522)][_0x4f51e8(0x478,0x438)]();}}[_0x40fcd4(0x459,0x4aa)](_0x1d9b28,_0x400a1b,_0x9d78bc,_0x500012){const _0x5a9453=Cesium[_0xb26208(0x3bd,0x3fe)]['fromDegrees'](_0x400a1b,_0x9d78bc,_0x500012??this['fixedHeight']),_0x2cf6aa=this['_map'][_0xb26208(0x307,0x304)];function _0x15f0c6(_0x52d549,_0x11b606){return _0x40fcd4(_0x11b606,_0x52d549- -0x5d0);}function _0xb26208(_0x3b9043,_0x16ddd4){return _0x40fcd4(_0x16ddd4,_0x3b9043- -0x1a2);}if(_0x2cf6aa['mode']===Cesium[_0xb26208(0x368,0x312)][_0x15f0c6(-0x130,-0x1aa)]){const _0x238ecb=new Cesium['EllipsoidalOccluder'](_0x2cf6aa['globe'][_0x15f0c6(-0x85,-0x5d)],_0x2cf6aa['camera'][_0xb26208(0x39d,0x340)]),_0x11b5ea=_0x238ecb[_0xb26208(0x3aa,0x3b4)](_0x5a9453);if(!_0x11b5ea)return _0x1d9b28['age']=0x0,null;}const _0x360d47=mars3d__namespace[_0x15f0c6(-0x61,-0x1b)][_0xb26208(0x3ea,0x391)](this['_map']['scene'],_0x5a9453);return _0x360d47?[_0x360d47['x'],_0x360d47['y']]:null;}['clear'](){this['windField'][_0x4307da(-0x141,-0x177)]();function _0x4307da(_0x16ff70,_0xacd4a3){return _0x40fcd4(_0xacd4a3,_0x16ff70- -0x683);}delete this['windData'];}['initWorker'](){this[_0x59e095(0x2fa,0x374)]=new Worker(this['options']['worker']),this['worker']['onmessage']=_0x1823fd=>{this['_drawLines'](_0x1823fd['data'][_0x4518ac(0x53a,0x504)]);function _0x4518ac(_0x55a710,_0x32c6c3){return _0x59e095(_0x55a710,_0x32c6c3-0x231);}this['_updateIng2']=![];},this[_0x4457ed(0x78,0x5c)]={'init':_0x2846a3=>{function _0x4160a1(_0x40b3be,_0x385719){return _0x59e095(_0x385719,_0x40b3be- -0x422);}const _0x17f53c={};function _0x584161(_0x27a3a5,_0x513fbe){return _0x59e095(_0x27a3a5,_0x513fbe- -0x88);}_0x17f53c['type']='init',_0x17f53c[_0x4160a1(-0xa8,-0x12f)]=_0x2846a3,this[_0x4160a1(-0xae,-0x5a)][_0x584161(0x22d,0x279)](_0x17f53c);},'setOptions':_0x55e090=>{function _0x32839a(_0x18f927,_0x50903b){return _0x59e095(_0x50903b,_0x18f927- -0x461);}const _0x26f663={};_0x26f663[_0x32839a(-0x15d,-0x1aa)]='setOptions',_0x26f663[_0xd9c25c(0xdc,0xfd)]=_0x55e090;function _0xd9c25c(_0x1065a5,_0x244ae8){return _0x59e095(_0x244ae8,_0x1065a5- -0x29e);}this['worker']['postMessage'](_0x26f663);},'setDate':_0x21cab0=>{const _0x100979={};_0x100979[_0x3fdb35(0x38,0x1c)]='setDate';function _0x3fdb35(_0x1371d1,_0x56086c){return _0x4457ed(_0x1371d1,_0x56086c- -0x82);}_0x100979['data']=_0x21cab0;function _0x11f54a(_0x3880f0,_0x320d84){return _0x4457ed(_0x320d84,_0x3880f0-0x16c);}this[_0x3fdb35(0x8d,0x8c)][_0x11f54a(0x207,0x28c)](_0x100979);},'update':()=>{function _0x7df38a(_0x1f5282,_0xfad80c){return _0x4457ed(_0x1f5282,_0xfad80c- -0x180);}if(this['_updateIng2'])return;this[_0xef4ae5(-0x261,-0x271)]=!![];const _0x45bb8b={};_0x45bb8b[_0x7df38a(-0x15f,-0xe2)]=_0x7df38a(-0x18b,-0x18e);function _0xef4ae5(_0xd6c1d9,_0x3f35b6){return _0x59e095(_0xd6c1d9,_0x3f35b6- -0x4ce);}this[_0x7df38a(-0x7f,-0x72)][_0x7df38a(-0x176,-0xe5)](_0x45bb8b);},'clear':()=>{function _0x59c0ef(_0xd6fb51,_0x12f641){return _0x4457ed(_0xd6fb51,_0x12f641-0x194);}const _0x53800d={};_0x53800d[_0x59c0ef(0x291,0x232)]='clear',this['worker']['postMessage'](_0x53800d);}};function _0x59e095(_0x2f5b22,_0x1c5f1e){return _0x13fce6(_0x1c5f1e- -0x206,_0x2f5b22);}function _0x4457ed(_0x39f37b,_0x87eae6){return _0x13fce6(_0x87eae6- -0x46c,_0x39f37b);}this['windField']['init'](this[_0x59e095(0x38c,0x37a)]);}}mars3d__namespace['LayerUtil']['register']('canvasWind',CanvasWindLayer),mars3d__namespace[_0x40fcd4(0x4ae,0x499)][_0x40fcd4(0x516,0x493)]=CanvasWindLayer,mars3d__namespace['CanvasWindField']=CanvasWindField,mars3d__namespace['WindUtil']=WindUtil,exports['CanvasWindField']=CanvasWindField,exports['CanvasWindLayer']=CanvasWindLayer,exports[_0x40fcd4(0x5a9,0x54f)]=WindLayer,exports['WindUtil']=WindUtil;const _0xa7c7f0={};_0xa7c7f0['value']=!![],Object['defineProperty'](exports,_0x13fce6(0x4fc,0x56a),_0xa7c7f0);
}));
